{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/utils.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@sentry/utils/esm/misc.js","webpack:///./node_modules/@sentry/utils/esm/object.js","webpack:///./node_modules/@sentry/utils/esm/is.js","webpack:///./app/api.js","webpack:///./node_modules/@sentry/minimal/esm/index.js","webpack:///./node_modules/nanohtml/lib/append-child.js","webpack:///./node_modules/@sentry/browser/esm/helpers.js","webpack:///./node_modules/@sentry/hub/esm/hub.js","webpack:///./node_modules/buffer/index.js","webpack:///./app/streams.js","webpack:///./app/metrics.js","webpack:///./node_modules/@sentry/core/esm/integrations/functiontostring.js","webpack:///./node_modules/@sentry/core/esm/integrations/inboundfilters.js","webpack:///./node_modules/@sentry/core/esm/index.js","webpack:///./app/storage.js","webpack:///./app/ece.js","webpack:///./node_modules/@sentry/utils/esm/syncpromise.js","webpack:///./node_modules/@sentry/utils/esm/logger.js","webpack:///./node_modules/@sentry/browser/esm/sdk.js","webpack:///./common/assets.js","webpack:///./app/keychain.js","webpack:///(webpack)/buildin/global.js","webpack:///./app/ownedFile.js","webpack:///./node_modules/@sentry/hub/esm/scope.js","webpack:///./node_modules/@sentry/browser/esm/tracekit.js","webpack:///./node_modules/@sentry/types/esm/status.js","webpack:///./node_modules/@sentry/utils/esm/polyfill.js","webpack:///./node_modules/@sentry/utils/esm/error.js","webpack:///./node_modules/nanobus/index.js","webpack:///./node_modules/@sentry/browser/esm/version.js","webpack:///./node_modules/@sentry/browser/esm/parsers.js","webpack:///./node_modules/@sentry/core/esm/dsn.js","webpack:///./node_modules/@sentry/utils/esm/promisebuffer.js","webpack:///./node_modules/@sentry/browser/esm/transports/base.js","webpack:///./node_modules/@sentry/browser/esm/eventbuilder.js","webpack:///./node_modules/choo/html/index.js","webpack:///./node_modules/nanotiming/browser.js","webpack:///./app/ui/okDialog.js","webpack:///./app/fxa.js","webpack:///./node_modules/@sentry/utils/esm/string.js","webpack:///./node_modules/@sentry/types/esm/severity.js","webpack:///./node_modules/@sentry/core/esm/transports/noop.js","webpack:///./node_modules/@sentry/browser/esm/backend.js","webpack:///./node_modules/@sentry/browser/esm/client.js","webpack:///./node_modules/@sentry/core/esm/api.js","webpack:///./node_modules/base64-js/index.js","webpack:///./app/ui/modal.js","webpack:///./app/ui/copyDialog.js","webpack:///./app/ui/shareDialog.js","webpack:///./app/ui/signupDialog.js","webpack:///./app/ui/surveyDialog.js","webpack:///./node_modules/nanohtml/lib/direct-props.js","webpack:///./node_modules/choo/component/index.js","webpack:///./node_modules/@sentry/browser/esm/transports/index.js","webpack:///./node_modules/@sentry/hub/esm/span.js","webpack:///./node_modules/@sentry/browser/esm/integrations/trycatch.js","webpack:///./node_modules/@sentry/browser/esm/integrations/breadcrumbs.js","webpack:///./node_modules/@sentry/browser/esm/integrations/globalhandlers.js","webpack:///./node_modules/@sentry/browser/esm/integrations/linkederrors.js","webpack:///./node_modules/@sentry/browser/esm/integrations/useragent.js","webpack:///./node_modules/@sentry/core/esm/sdk.js","webpack:///./node_modules/@sentry/browser/esm/integrations/index.js","webpack:///./app/fileSender.js","webpack:///./node_modules/crc/create_buffer.js","webpack:///./node_modules/crc/crc32.js","webpack:///./node_modules/crc/define_crc.js","webpack:///./app/zip.js","webpack:///./app/fileReceiver.js","webpack:///./app/controller.js","webpack:///./node_modules/@sentry/utils/esm/supports.js","webpack:///./node_modules/choo/index.js","webpack:///./node_modules/nanoscheduler/index.js","webpack:///./node_modules/nanomorph/index.js","webpack:///./node_modules/remove-array-items/index.js","webpack:///./node_modules/nanohtml/lib/set-attribute.js","webpack:///./node_modules/choo/html/raw.js","webpack:///./common/generate_asset_map.js","webpack:///./assets/add.svg","webpack:///./assets/addfiles.svg","webpack:///./assets/android-chrome-192x192.png","webpack:///./assets/android-chrome-512x512.png","webpack:///./assets/apple-touch-icon.png","webpack:///./assets/bg.svg","webpack:///./assets/blue_file.svg","webpack:///./assets/close-16.svg","webpack:///./assets/completed.svg","webpack:///./assets/copy-16.svg","webpack:///./assets/dl.svg","webpack:///./assets/error.svg","webpack:///./assets/favicon-16x16.png","webpack:///./assets/favicon-32x32.png","webpack:///./assets/feedback.svg","webpack:///./assets/firefox_logo-only.svg","webpack:///./assets/icon.svg","webpack:///./assets/intro.svg","webpack:///./assets/lock.svg","webpack:///./assets/master-logo.svg","webpack:///./assets/mozilla-logo.svg","webpack:///./assets/notFound.svg","webpack:///./assets/safari-pinned-tab.svg","webpack:///./assets/select-arrow.svg","webpack:///./assets/send-fb.jpg","webpack:///./assets/send-twitter.jpg","webpack:///./assets/share-24.svg","webpack:///./assets/user.svg","webpack:///./assets/wordmark.svg","webpack:///./node_modules/nanohtml/lib/browser.js","webpack:///./node_modules/nanohtml/lib/dom.js","webpack:///./node_modules/hyperx/index.js","webpack:///./node_modules/hyperscript-attribute-to-property/index.js","webpack:///./node_modules/nanohtml/lib/svg-tags.js","webpack:///./node_modules/nanohtml/lib/bool-props.js","webpack:///./node_modules/global/document.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/@sentry/browser/esm/transports/fetch.js","webpack:///./node_modules/@sentry/browser/esm/transports/xhr.js","webpack:///./node_modules/@sentry/core/esm/basebackend.js","webpack:///./node_modules/@sentry/core/esm/integration.js","webpack:///./node_modules/@sentry/core/esm/baseclient.js","webpack:///./app/ui/account.js","webpack:///./app/user.js","webpack:///./app/archive.js","webpack:///./node_modules/@sentry/utils/esm/memo.js","webpack:///./node_modules/@sentry/browser/esm/index.js","webpack:///./node_modules/@fluent/bundle/src/types.js","webpack:///./node_modules/@fluent/bundle/src/builtins.js","webpack:///./node_modules/@fluent/bundle/src/resolver.js","webpack:///./node_modules/@fluent/bundle/src/error.js","webpack:///./node_modules/@fluent/bundle/src/resource.js","webpack:///./node_modules/@fluent/bundle/src/bundle.js","webpack:///./app/locale.js","webpack:///./app/ui/archiveTile.js","webpack:///./app/ui/header.js","webpack:///./node_modules/scroll-to-anchor/index.js","webpack:///./node_modules/document-ready/index.js","webpack:///./node_modules/nanorouter/index.js","webpack:///./node_modules/wayfarer/index.js","webpack:///./node_modules/wayfarer/trie.js","webpack:///./node_modules/nanoassert/index.js","webpack:///./node_modules/nanomorph/lib/morph.js","webpack:///./node_modules/nanomorph/lib/events.js","webpack:///./node_modules/nanoquery/browser.js","webpack:///./node_modules/nanohref/index.js","webpack:///./node_modules/nanoraf/index.js","webpack:///./node_modules/choo/component/cache.js","webpack:///./node_modules/nanolru/index.js","webpack:///./node_modules/nanohtml/lib/raw-browser.js","webpack:///./app/ui/expiryOptions.js","webpack:///./app/ui/selectbox.js","webpack:///./node_modules/nanocomponent/index.js","webpack:///./node_modules/on-load/index.js","webpack:///./node_modules/global/window.js","webpack:///./app/ui/intro.js","webpack:///./public/locales lazy ^\\.\\/.*\\/send\\.ftl$ namespace object","webpack:///./node_modules/process/browser.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/make-plural/plurals.mjs","webpack:///./node_modules/make-plural/pluralCategories.mjs","webpack:///./node_modules/intl-pluralrules/factory.mjs","webpack:///./node_modules/intl-pluralrules/pseudo-number-format.mjs","webpack:///./node_modules/intl-pluralrules/plural-rules.mjs","webpack:///./node_modules/intl-pluralrules/polyfill.mjs","webpack:///./android/pages/home.js","webpack:///./android/user.js","webpack:///./android/pages/upload.js","webpack:///./android/pages/share.js","webpack:///./android/pages/preferences.js","webpack:///./android/pages/error.js","webpack:///./android/android.js","webpack:///./android/stores/intents.js"],"names":["i","chunkIds","length","chunkId","type","target","script","enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","console","error","err","jsonpArray","webpackJsonpCallback","html","require","e","b64","locale","document","querySelector","lang","LOCALIZE_NUMBERS","Intl","NumberFormat","navigator","UNITS","delay","Promise","resolve","setTimeout","ECE_RECORD_SIZE","TAG_LENGTH","translate","Error","exports","fadeOut","selector","classes","classList","remove","add","allowedCopy","queryCommandSupported","bytes","num","exponent","Math","min","floor","log10","n","Number","pow","decimalDigits","nStr","toFixed","toLocaleString","minimumFractionDigits","maximumFractionDigits","units","percent","ratio","style","number","toString","copyToClipboard","str","aux","createElement","setAttribute","contentEditable","readOnly","body","appendChild","userAgent","match","range","createRange","selectNodeContents","sel","getSelection","removeAllRanges","addRange","setSelectionRange","select","result","execCommand","removeChild","arrayToB64","array","fromByteArray","replace","b64ToArray","toByteArray","slice","loadShim","polyfill","reject","shim","src","addEventListener","head","isFile","id","test","openLinksInNewTab","links","should","Array","from","querySelectorAll","forEach","l","removeAttribute","browserName","streamToArrayBuffer","async","stream","size","reader","getReader","state","read","Uint8Array","offset","done","set","buffer","parts","len","push","part","list","items","ulStyle","liStyle","lis","map","secondsToL10nId","seconds","timeLeft","milliseconds","minutes","hours","days","platform","Android","encryptedSize","rs","chunk_meta","ceil","setTranslate","t","extendStatics","d","b","setPrototypeOf","__proto__","p","__extends","__","this","constructor","create","__assign","assign","s","arguments","apply","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","then","__generator","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","__read","o","m","r","ar","__spread","concat","dynamicRequire","mod","request","isNodeEnv","process","fallbackGlobalObject","getGlobalObject","global","window","self","uuid4","crypto","msCrypto","getRandomValues","arr","Uint16Array","pad","c","random","parseUrl","url","query","fragment","host","path","protocol","relative","getEventDescription","event","message","exception","values","event_id","consoleSandbox","callback","originalConsole","wrappedLevels","level","__sentry__","__sentry_wrapped__","__sentry_original__","keys","addExceptionTypeValue","addExceptionMechanism","mechanism","_oO","getLocationHref","location","href","oO","htmlTreeAsString","elem","currentElem","out","height","sepLength","nextStr","_htmlElementAsString","parentNode","reverse","join","el","className","attr","tagName","toLowerCase","split","attrWhitelist","getAttribute","defaultRetryAfter","parseRetryAfterHeader","now","header","headerDelay","parseInt","isNaN","headerDate","Date","parse","fill","source","name","replacement","original","wrapped","defineProperties","_Oo","urlEncode","encodeURIComponent","getWalkSource","stack","event_1","currentTarget","CustomEvent","detail","jsonSize","encodeURI","utf8Length","JSON","stringify","normalizeToSize","depth","maxSize","serialized","normalize","normalizeValue","_events","walk","memo","Infinity","normalized","serializeValue","toJSON","acc","isArray","memoize","innerKey","unmemoize","input","extractExceptionKeysForMessage","maxLength","sort","includedKeys","isError","wat","isErrorEvent","isDOMError","isDOMException","isString","isPrimitive","isPlainObject","isEvent","Event","isElement","Element","isRegExp","isThenable","Boolean","isSyntheticEvent","fileProtocolWssUrl","localStorage","getItem","ConnectionError","cancelled","duration","super","setFileProtocolWssUrl","setItem","getFileProtocolWssUrl","apiUrlPrefix","getApiUrl","setApiUrlPrefix","prefix","post","obj","bearerToken","h","method","headers","Headers","parseNonce","fetchWithAuth","params","keychain","authHeader","Authorization","response","fetch","ok","nonce","shouldRetry","status","del","owner_token","setParams","dlimit","fileInfo","json","metadata","fetchWithAuthAndRetry","data","meta","decryptMetadata","ttl","iv","manifest","setPassword","auth","authKeyB64","listenForResponse","ws","canceller","handleClose","removeEventListener","handleMessage","msg","once","upload","verifierB64","timeLimit","onprogress","start","hostname","port","endpoint","server","WebSocket","fileMeta","fileMetadata","authorization","bearer","uploadInfoResponse","send","uploadInfo","completedResponse","close","readyState","OPEN","buf","bufferedAmount","CLOSED","CLOSING","includes","uploadWs","encrypted","cancel","tryDownload","tries","xhr","XMLHttpRequest","oncancel","abort","getResponseHeader","blob","Blob","loaded","open","setRequestHeader","responseType","download","downloadFile","getFileList","kid","setFileList","sendMetrics","sendBeacon","getConstants","callOnHub","args","_i","hub","captureException","syntheticException","originalException","captureMessage","captureEvent","configureScope","addBreadcrumb","breadcrumb","setContext","context","setExtras","extras","setTags","tags","setExtra","extra","setTag","setUser","user","withScope","trailingNewlineRegex","leadingNewlineRegex","trailingSpaceRegex","leadingSpaceRegex","multiSpaceRegex","TEXT_TAGS","VERBATIM_TAGS","childs","leader","nodeName","hadText","node","RegExp","lastChild","childNodes","nodeValue","ownerDocument","createTextNode","indexOf","nodeType","_nodeName","keypressTimeout","lastCapturedEvent","debounceDuration","ignoreOnError","shouldIgnoreOnError","ignoreNextOnError","wrap","fn","options","before","sentryWrapped","wrappedArguments","arg","handleEvent","ex","scope","addEventProcessor","processedEvent","undefined","defineProperty","getOwnPropertyDescriptor","configurable","debounceTimer","breadcrumbEventHandler","eventName","debounce","captureBreadcrumb","category","clearTimeout","keypressEventHandler","isContentEditable","API_VERSION","Hub","client","_version","_stack","_invokeClient","_a","top","getStackTop","isOlderThan","version","bindClient","pushScope","getStack","parentScope","clone","getClient","popScope","getScope","hint","eventId","_lastEventId","finalHint","lastEventId","getOptions","_b","beforeBreadcrumb","_c","maxBreadcrumbs","timestamp","getTime","mergedBreadcrumb","finalBreadcrumb","run","oldHub","makeMain","getIntegration","integration","warn","traceHeaders","span","getSpan","toTraceparent","getMainCarrier","carrier","__SENTRY__","registry","getHubFromCarrier","setHubOnCarrier","getCurrentHub","hasHubOnCarrier","activeDomain","active","registryHubTopStack","getHubFromActiveDomain","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","val","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","hi","lo","utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","a","x","pos","swap16","swap32","swap64","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","trim","stringtrim","base64clean","dst","transformStream","readable","transformer","pipeThrough","TransformStream","ReadableStream","controller","enqueued","wrappedController","enqueue","flush","transform","reason","BlobStreamController","index","chunkSize","pull","bytesLeft","FileReader","onload","onerror","readAsArrayBuffer","blobStream","ConcatStreamController","streams","nextReader","concatStream","appState","experiment","HOUR","events","session_id","initialize","emitter","on","storage","enrolled","firstAction","route","addEvent","entrypoint","referrer","utm_campaign","utm_content","utm_medium","utm_source","utm_term","experimentEvent","submitEvents","sizeOrder","doNotTrack","splice","event_type","event_properties","user_id","metricId","device_id","deviceId","ab_id","variant","time","user_properties","anonymous","loggedIn","first_action","active_count","files","cancelledUpload","archive","download_limit","file_count","numFiles","password_protected","password","time_limit","completedUpload","stoppedUpload","stoppedDownload","completedDownload","deletedUpload","ownedFile","age","createdAt","downloaded","dtotal","submittedSignup","trigger","canceledSignup","loggedOut","originalFunctionToString","FunctionToString","setupOnce","Function","DEFAULT_IGNORE_ERRORS","InboundFilters","_options","clientOptions","_mergeOptions","_shouldDropEvent","_isSentryError","logger","_isIgnoredError","_isBlacklistedUrl","_getEventFilterUrl","_isWhitelistedUrl","ignoreInternal","ignoreErrors","_getPossibleEventMessages","some","pattern","blacklistUrls","whitelistUrls","stacktrace","frames_1","frames","filename","frames_2","Mem","Map","removeItem","delete","engine","_files","loadFiles","fs","k","OwnedFile","fileId","enroll","info","getFileById","addFile","file","writeFile","writeFiles","clearLocalFiles","incoming","outgoing","downloadCount","workingFiles","cc","updateDownloadCount","expired","find","NONCE_LENGTH","KEY_LENGTH","MODE_ENCRYPT","MODE_DECRYPT","encoder","TextEncoder","ECETransformer","mode","ikm","salt","prevChunk","seq","firstchunk","inputKey","subtle","importKey","deriveKey","encode","hash","base","exportKey","generateNonce","nonceBase","xor","isLast","padding","unpad","createHeader","nums","readHeader","idlen","encrypt","decrypt","tagLength","generateKey","generateNonceBase","encryptRecord","decryptRecord","chunk","transformPrevChunk","StreamSlicer","partialChunk","remainingBytes","record","encryptStream","randSalt","generateSalt","inputStream","decryptStream","States","SyncPromise","executor","_this","_state","PENDING","_handlers","_resolve","_setResult","RESOLVED","_reject","REJECTED","_value","_executeHandlers","_attachHandler","handler","onrejected","onfulfilled","all","collection","counter","resolvedCollection","item","catch","finally","onfinally","isRejected","PREFIX","Logger","_enabled","disable","enable","log","defaultIntegrations","init","release","window_1","SENTRY_RELEASE","showReportDialog","forceLoad","onLoad","timeout","genmap","isServer","assets","getAsset","instance","setPrefix","filter","setMiddleware","middleware","getManifest","fileSystem","readFileSync","getFilenameFromUrl","decoder","TextDecoder","Keychain","secretKeyB64","_nonce","rawSecret","secretKeyPromise","metaKeyPromise","secretKey","authKeyPromise","shareUrl","passwordKey","iterations","setAuthKey","authKey","rawAuth","sig","sign","metaKey","plainStream","cryptotext","ciphertext","plaintext","decode","speed","expiresAt","ownerToken","_hasPassword","hasPassword","changeLimit","oldTotal","oldLimit","Scope","_notifyingListeners","_scopeListeners","_eventProcessors","_breadcrumbs","_user","_tags","_extra","_context","addScopeListener","_notifyScopeListeners","_notifyEventProcessors","processors","processor","final","setFingerprint","fingerprint","_fingerprint","setLevel","_level","setTransaction","transaction","_transaction","setSpan","_span","startSpan","parentSpan","setParent","newScope","clear","clearBreadcrumbs","_applyFingerprint","applyToEvent","contexts","trace","breadcrumbs","getGlobalEventProcessors","globalEventProcessors","addGlobalEventProcessor","UNKNOWN_FUNCTION","chrome","gecko","winjs","geckoEval","chromeEval","computeStackTrace","popSize","framesToPop","opera10Regex","opera11Regex","lines","line","element","exec","func","column","extractMessage","computeStackTraceFromStacktraceProp","popFrames","submatch","isNative","columnNumber","computeStackTraceFromStackProp","failed","Status","fromHttpCode","Success","RateLimit","Invalid","Failed","Unknown","proto","prop","_super","SentryError","_newTarget","nanotiming","Nanobus","_name","_starListeners","_listeners","emit","emitTiming","listeners","_emit","uuid","addListener","listener","prependListener","unshift","removeListener","prependOnceListener","removeAllListeners","ilength","SDK_NAME","SDK_VERSION","STACKTRACE_LIMIT","exceptionFromStacktrace","prepareFramesForEvent","eventFromPlainObject","rejection","__serialized__","eventFromStacktrace","localStack","firstFrameFunction","lastFrameFunction","frame","colno","function","in_app","lineno","DSN_REGEX","Dsn","_fromString","_fromComponents","_validate","withPassword","pass","projectId","components","component","PromiseBuffer","_limit","_buffer","isReady","task","drain","capturedSetTimeout","BaseTransport","dsn","getStoreEndpointWithUrlEncodedAuth","sendEvent","eventFromUnknownInput","domException","name_1","eventFromString","objectException","synthetic","attachStacktrace","perf","scheduler","disabled","performance","DISABLE_NANOTIMING","mark","noop","MAX_SAFE_INTEGER","startName","cb","endName","measureName","measure","clearMarks","concatKdf","enc","otherInfo","dv","DataView","setUint32","getOtherInfo","digest","prepareScopedBundleKey","namedCurve","privateJwk","privateKey","publicJwk","publicKey","decryptBundle","bundle","jweParts","additionalData","tag","alg","epk","sharedBits","deriveBits","public","rawSharedKey","sharedKey","b1","b2","preparePkce","verifier","challenge","deriveFileListKey","baseKey","fileListKey","rawFileListKey","getFileListKey","AUTH_CONFIG","key_scope","truncate","safeJoin","delimiter","output","isMatchingPattern","Severity","Debug","Info","Warning","Fatal","Critical","Log","NoopTransport","Skipped","BrowserBackend","_setupTransport","transportOptions","transport","supports","eventFromException","handled","eventFromMessage","BrowserClient","_prepareEvent","sdk","packages","_isEnabled","getDsn","getReportDialogEndpoint","API","_dsnObject","getStoreEndpoint","_getBaseUrl","getStoreEndpointPath","sentry_key","sentry_version","getRequestHeaders","clientName","clientVersion","dialogOptions","encodedOptions","email","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","modal","preventDefault","stopPropagation","dialog","textContent","share","title","text","ABORT_ERR","DAYS","LIMITS","MAX_EXPIRE_SECONDS","hidden","submitting","MAX_FILE_SIZE","count","getElementById","every","emailish","surveyUrl","PREFS","TRACEPARENT_REGEXP","Span","_traceId","_spanId","_sampled","_parent","substring","parent","setSampled","sampled","fromTraceparent","traceparent","matches","parent_1","span_id","trace_id","TryCatch","_ignoreOnError","_wrapTimeFunction","originalCallback","getFunctionName","_wrapRAF","_wrapEventTarget","lastHref","Breadcrumbs","dom","history","sentry","_instrumentConsole","originalConsoleLevel","breadcrumbData","_instrumentDOM","innerOriginal","_instrumentFetch","originalFetch","fetchInput","Request","filterUrl","addSentryBreadcrumb","fetchData","toUpperCase","status_code","_instrumentHistory","captureUrlChange","to","parsedLoc","parsedTo","parsedFrom","oldOnPopState","onpopstate","currentHref","historyReplacementFunction","originalHistoryFunction","_instrumentXHR","xhrproto","originalOpen","__sentry_xhr__","__sentry_own_request__","originalSend","onreadystatechangeHandler","xmlHttpRequestProps","wrapProp","onreadystatechange","serializedData","GlobalHandlers","_global","_oldOnErrorHandler","_oldOnUnhandledRejectionHandler","_onErrorHandlerInstalled","_onUnhandledRejectionHandlerInstalled","onunhandledrejection","stackTraceLimit","_installGlobalOnErrorHandler","_installGlobalOnUnhandledRejectionHandler","currentHub","hasIntegration","isFailedOwnDelivery","_eventFromIncompleteOnError","_enhanceEventWithInitialFrame","_eventFromIncompleteRejection","groups","DEFAULT_KEY","DEFAULT_LIMIT","LinkedErrors","_key","_handler","linkedErrors","_walkErrorTree","UserAgent","initAndBind","clientClass","debug","FileSender","reset","progress","partialSize","totalSize","uploadRequest","encStream","encryptMetadata","TABLE","Int32Array","previous","calc","signed","unsigned","model","crc","byte","File","bytesRead","dateTime","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","dosDateTime","setUint16","setUint8","dd","directoryRecord","dr","append","endIndex","crc32","centralDirectory","directoryOffset","directorySize","fileCount","eod","ZipStreamController","fileIndex","nextFile","dataDescriptor","Zip","reduce","total","FileReceiver","requiresPassword","downloadRequest","sendMessageToSw","channel","MessageChannel","port1","onmessage","serviceWorker","postMessage","port2","noSave","zip","dataView","msSaveBlob","click","readAsDataURL","downloadUrl","URL","createObjectURL","revokeObjectURL","saveFile","decodeURIComponent","downloadPath","prog","hangs","downloadStream","downloadBlob","lastRender","updateTitle","render","checkFiles","changes","syncFileList","updateProgress","transfer","progressRatio","login","logout","metrics","addFiles","MAX_FILES_PER_ARCHIVE","okDialog","startAuthFlow","campaign","content","medium","term","signupDialog","oauthState","finishLogin","MAX_ARCHIVES_PER_USER","sender","uploading","totalUploads","capabilities","shareDialog","copyDialog","settingPassword","passwordSetError","receiver","getMetadata","dl","streamDownload","totalDownloads","startsWith","surveyed","surveyDialog","setInterval","supportsFetch","Response","supportsNativeFetch","isNativeFunc","doc","sandbox","contentWindow","supportsReferrerPolicy","referrerPolicy","supportsHistory","isChromePackagedApp","app","runtime","hasHistoryApi","pushState","replaceState","scrollToAnchor","documentReady","nanorouter","nanomorph","nanoquery","nanohref","nanoraf","nanobus","Cache","Choo","HISTORY_OBJECT","opts","timing","DOMCONTENTLOADED","DOMTITLECHANGE","REPLACESTATE","PUSHSTATE","NAVIGATE","POPSTATE","RENDER","_historyEnabled","_hrefEnabled","_hashEnabled","_hasWindow","_cache","cache","_loaded","_stores","_tree","initialState","router","curry","routeTiming","use","storeName","endTiming","startTiming","_matchRoute","_setCache","initStore","_prerender","renderTiming","newTree","morphTiming","mount","mountTiming","outerHTML","locationOverride","queryString","pathname","search","matched","renderComponent","Component","hasWindow","NanoScheduler","hasIdle","requestIdleCallback","scheduled","queue","schedule","idleDeadline","timeRemaining","shift","_nanoScheduler","morph","TEXT_NODE","newNode","oldNode","isSameNode","getComponentId","updateChildren","dataset","nanomorphComponentId","oldChild","newChild","morphed","oldMatch","same","replaceChild","insertBefore","oldTree","childrenOnly","startIdx","removeCount","DIRECT_PROPS","nanohtmlSetAttribute","hyperx","SVG_TAGS","BOOL_PROPS","SVGNS","XLINKNS","COMMENT_TAG","nanoHtmlCreateElement","props","children","namespace","ns","isCustomElement","is","createElementNS","createComment","comment","setAttributeNS","comments","createFragment","nodes","createDocumentFragment","default","attrToProp","TEXT","CLOSE","ATTR","ATTR_KEY","ATTR_KEY_W","ATTR_VALUE_W","ATTR_VALUE","ATTR_VALUE_SQ","ATTR_VALUE_DQ","ATTR_EQ","ATTR_BREAK","COMMENT","quot","strings","reg","arglen","xstate","tree","cur","ix","copyKey","strfn","selfClosing","charAt","closeRE","attrs","doccy","minDoc","topLevel","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","FetchTransport","_disabledUntil","defaultOptions","err_1","XHRTransport","BaseBackend","_transport","_exception","_hint","_message","getTransport","installedIntegrations","setupIntegrations","integrations","userIntegrations","userIntegrationsNames_1","pickedIntegrationsNames_1","defaultIntegration","userIntegration","integrationsNames","getIntegrationsToSetup","setupIntegration","BaseClient","backendClass","_integrations","_processing","_backend","_dsn","_getBackend","_processEvent","finalEvent","_isClientProcessing","clearInterval","interval","transportFlushed","ready","enabled","getIntegrations","ticked","environment","dist","maxValueLength","prepared","_addIntegrations","sdkInfo","integrationsArray","beforeSend","sampleRate","beforeSendResult","_handleAsyncBeforeSend","account","local","buttonClass","setLocal","avatarClick","menu","toggle","focus","hideMenu","changed","update","avatar","textEncoder","textDecoder","anonId","hashId","month","getUTCMonth","year","getUTCFullYear","encoded","User","limits","authConfig","action","yes","defaultAvatar","avatarDefault","displayName","access_token","ANON","MAX_DOWNLOADS","uid","utms","URLSearchParams","form_type","issuer","flowId","flowBeginTime","keys_jwk","code_challenge","client_id","code_challenge_method","response_type","flow_id","flow_begin_time","authorization_endpoint","localState","tokenResponse","token_endpoint","code_verifier","infoResponse","userinfo_endpoint","userInfo","keys_jwe","merge","sha","decrypted","Archive","defaultTimeLimit","maxFiles","newFiles","newFile","lastModified","isDupe","newSize","Memo","_hasWeakSet","WeakSet","_inner","has","windowIntegrations","_window","Sentry","Integrations","INTEGRATIONS","FluentType","valueOf","FluentNone","FluentNumber","parseFloat","_memoizeIntlObject","format","FluentDateTime","DateTimeFormat","argopts","unwrapped","opt","entries","NUMBER","DATETIME","MAX_PLACEABLE_LENGTH","FSI","PDI","PluralRules","getDefault","variants","star","Type","errors","getArguments","positional","named","expr","_transform","ptn","dirty","useIsolating","_useIsolating","Pattern","precision","insideTermReference","ReferenceError","VariableReference","_messages","attribute","MessageReference","_terms","keyargs","TermReference","_functions","builtins","FunctionReference","SelectExpression","FluentError","RE_MESSAGE_START","RE_ATTRIBUTE_START","RE_VARIANT_START","RE_NUMBER_LITERAL","RE_IDENTIFIER","RE_REFERENCE","RE_FUNCTION_NAME","RE_TEXT_RUN","RE_STRING_RUN","RE_STRING_ESCAPE","RE_UNICODE_ESCAPE","RE_LEADING_NEWLINES","RE_TRAILING_SPACES","RE_BLANK_LINES","RE_INDENT","TOKEN_BRACE_OPEN","TOKEN_BRACE_CLOSE","TOKEN_BRACKET_OPEN","TOKEN_BRACKET_CLOSE","TOKEN_PAREN_OPEN","TOKEN_ARROW","TOKEN_COLON","TOKEN_COMMA","TOKEN_BLANK","MAX_PLACEABLES","FluentResource","lastIndex","resource","cursor","parseMessage","re","consumeChar","char","errorClass","consumeToken","match1","parsePattern","parseAttributes","first","parsePatternElements","indent","parseIndent","elements","commonIndent","placeableCount","parsePlaceable","baked","parseInlineExpression","parseVariantKey","parseVariants","sigil","parseArgument","parseArguments","parseLiteral","parseNumberLiteral","parseEscapeSequence","parseStringLiteral","fraction","codepoint4","codepoint6","codepoint","fromCodePoint","makeIndent","blank","FluentBundle","locales","functions","_intls","WeakMap","hasMessage","getMessage","addMessages","addResource","allowOverrides","ctor","makeBundle","ftl","getTranslator","bundles","en","raw","expiryOptions","expiryInfo","l10n","timespan","MAX_LENGTH","passwordInput","pwdmsg","placeholder","archiveInfo","archiveDetails","copyOrShare","wip","desc","nextElementSibling","firstElementChild","scrollIntoView","block","scrollTo","progressPercent","empty","upsell","preview","details","downloading","Account","anchor","wayfarer","isLocalFile","origin","stripElectron","suffix","Nanorouter","routename","isElectron","decodeURI","trie","Wayfarer","dft","_default","_trie","_wayfarer","Route","Trie","routes","createNode","thisRoute","wildcard","assert","notEqual","notOk","equal","eventsLength","ELEMENT_NODE","COMMENT_NODE","updateAttribute","oldAttrs","attributes","newAttrs","attrNamespaceURI","attrValue","attrName","namespaceURI","localName","getAttributeNS","hasAttribute","specified","hasAttributeNS","removeAttributeNS","copyAttrs","newValue","oldValue","updateInput","updateOption","firstChild","updateTextarea","ev","copyEvents","a0","a1","a2","a3","safeExternalLink","protocolLink","root","button","ctrlKey","altKey","shiftKey","defaultPrevented","traverse","raf","requestAnimationFrame","redrawScheduled","_args","LRU","ChooComponentCache","lru","newCall","Cls","tail","maxAge","_unlink","prev","peek","_checkAge","modified","evict","innerHTML","selectbox","__encoded","counts","DEFAULTS","DOWNLOAD_COUNTS","maxDownloads","dlCountSelect","expires","EXPIRE_TIMES_SECONDS","maxExpireSeconds","timeSelect","selected","htmlId","OL_KEY_ID","KEY_ID","OL_ATTR_ID","KEY_ATTR","Nanocomponent","_id","_ncID","_olID","_proxy","_rootNodeName","_rerender","_handleLoad","_handleUnload","nanocomponent","updateTiming","shouldUpdate","desiredHtml","_handleRender","afterupdate","_createProxy","_reset","beforerender","load","unload","afterreorder","createTiming","rerender","createElementTiming","_brandNode","_ensureID","proxy","watch","INDEX","MutationObserver","observer","mutations","attributeName","eachMutation","removedNodes","turnoff","addedNodes","turnon","eachAttr","beginObserve","observe","documentElement","childList","subtree","attributeOldValue","attributeFilter","mutation","off","sameOrigin","onloadid","caller","win","webpackAsyncContext","req","__webpack_require__","ids","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","nextTick","browser","env","argv","versions","binding","cwd","chdir","umask","originalModule","webpackPolyfill","ord","v0","_in","af","ak","am","an","n100","ars","as","asa","ast","az","i10","i100","i1000","be","t0","n10","bem","bez","bg","bho","bm","bn","bo","br","n1000000","brx","bs","f10","f100","ca","ce","ceb","cgg","chr","ckb","cs","cy","da","de","dsb","dz","ee","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hr","hsb","hu","hy","ia","ig","ii","io","it","iu","iw","ja","jbo","jgo","ji","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kk","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","n1000","n100000","ky","lag","lb","lg","lkt","ln","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","osa","pa","pap","pl","prg","ps","pt","pt_PT","rm","ro","rof","ru","rwk","sah","saq","sc","scn","sd","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","su","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","tr","ts","tzm","ug","uk","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","yue","zh","zu","z","cardinal","ordinal","_defineProperties","descriptor","writable","_createClass","Constructor","protoProps","staticProps","_typeof","canonicalizeLocaleList","subtag","strTag","_msg","defaultLocale","userLanguage","language","getType","PseudoNumberFormat","lc","_ref","minID","minimumIntegerDigits","minFD","maxFD","minSD","minimumSignificantDigits","maxSD","maximumSignificantDigits","_minID","_minFD","_maxFD","_minSD","_maxSD","prec","toPrecision","getSelector","getCategories","findLocale","resolveLocale","canonicalLocales","_classCallCheck","_locale","_select","_type","_nf","_this$_nf$resolvedOpt","resolvedOptions","pluralCategories","fmt","getPluralRules","supportedLocalesOf","archiveTile","intro","archives","beginOAuthFlow","accountInfo","profile","accessToken","progressBar","uploadComplete","copyText","selectionEnd","selectionStart","preferences","wssURL","main","EXPIRE_SECONDS"],"mappings":"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AbjC,IAAIz1B,EAAY,CACZ,MAAS,YACT,IAAO,UACP,aAAc,c,6BCHlBtvB,EAAOiC,QAAU,CACb,MACA,WACA,cACA,eACA,UACA,eACA,gBACA,mBACA,SACA,WACA,gBACA,SACA,OACA,OACA,UACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,eACA,SACA,OACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,gBACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,MACA,OACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,MACA,OACA,U,6BC7EJjC,EAAOiC,QAAU,CACb,QACA,YACA,WACA,UACA,WACA,UACA,iBACA,QACA,WACA,iBACA,SACA,QACA,OACA,WACA,QACA,aACA,OACA,cACA,WACA,WACA,WACA,a,iBCvBJ,gBAEIulD,EAFJ,oDACIC,EAAS,EAAQ,KAEG,oBAAbxmD,SACPumD,EAAQvmD,UAERumD,EAAQE,EAAS,gCAEbF,EAAQE,EAAS,6BAA+BD,GAGxDznD,EAAOiC,QAAUulD,I,gCCXjBvlD,EAAQwF,KAAO,SAAUK,EAAQH,EAAQggD,EAAMC,EAAMC,GACjD,IAAI/mD,EAAGsL,EACH07C,EAAgB,EAATD,EAAaD,EAAO,EAC3BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACT9oD,EAAIwoD,EAAOE,EAAS,EAAI,EACxBp+C,EAAIk+C,GAAQ,EAAI,EAChBt9C,EAAIvC,EAAOH,EAASxI,GAKxB,IAJAA,GAAKsK,EACL3I,EAAIuJ,GAAK,IAAM49C,GAAS,EACxB59C,KAAO49C,EACPA,GAASH,EACFG,EAAQ,EAAGnnD,EAAQ,IAAJA,EAAUgH,EAAOH,EAASxI,GAAIA,GAAKsK,EAAGw+C,GAAS,GAKrE,IAHA77C,EAAItL,GAAK,IAAMmnD,GAAS,EACxBn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D,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,iBAAkB,CACjB,IACA,IAED,mBAAoB,CACnB,IACA,IAED,mBAAoB,CACnB,IACA,KAGF,SAAS+6D,EAAoBC,GAC5B,IAAI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","file":"android.4f9da167.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".\" + {\"0\":\"2555bfcb\",\"7\":\"bf59b8b6\",\"8\":\"c0496739\",\"9\":\"d37fea14\",\"10\":\"4dc56966\",\"11\":\"59960ae6\",\"12\":\"5f0795f1\",\"13\":\"d02574a8\",\"14\":\"6e354107\",\"15\":\"f241ab5f\",\"16\":\"51ae2128\",\"17\":\"396ed3a5\",\"18\":\"152d9bb1\",\"19\":\"00b96840\",\"20\":\"ae803779\",\"21\":\"1af8fad8\",\"22\":\"f259b554\",\"23\":\"453ac2db\",\"24\":\"4add9c3e\",\"25\":\"c721fc46\",\"26\":\"979b7198\",\"27\":\"ffc96024\",\"28\":\"bf56d7e5\",\"29\":\"5ba37e86\",\"30\":\"a8e5840a\",\"31\":\"159955ef\",\"32\":\"7db26e9c\",\"33\":\"49190f3e\",\"34\":\"b75f7088\",\"35\":\"fd397f30\",\"36\":\"40c77d0e\",\"37\":\"e1fdf2b6\",\"38\":\"232239ea\",\"39\":\"ac507ab1\",\"40\":\"8aeaa4c8\",\"41\":\"8a77ae23\",\"42\":\"2712b1f0\",\"43\":\"85e7e14d\",\"44\":\"04ef387f\",\"45\":\"e8ddc476\",\"46\":\"d51de445\",\"47\":\"1953cbef\",\"48\":\"9178105a\",\"49\":\"b049d56f\",\"50\":\"164ba07a\",\"51\":\"799c4044\",\"52\":\"667c4b60\",\"53\":\"98b4ee94\",\"54\":\"327953cb\",\"55\":\"e6865121\",\"56\":\"17a56aa5\",\"57\":\"70f08815\",\"58\":\"3f379af3\",\"59\":\"9a7cab53\",\"60\":\"0a134604\",\"61\":\"43465c0e\",\"62\":\"66ddbb1c\",\"63\":\"f09b336d\",\"64\":\"189bfde4\",\"65\":\"dfe35f60\",\"66\":\"3b118c7d\",\"67\":\"6280ef65\",\"68\":\"757f0069\",\"69\":\"079e9192\",\"70\":\"4eb9d19a\",\"71\":\"2cd83499\",\"72\":\"43272e4f\",\"73\":\"c2bd6bcb\",\"74\":\"04996a5d\",\"75\":\"b895d741\",\"76\":\"60e97d27\",\"77\":\"9f5c4aee\",\"78\":\"0052d6c2\",\"79\":\"4872dba4\",\"80\":\"291bec7a\",\"81\":\"46df1c10\",\"82\":\"4063315b\",\"83\":\"e888d42d\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 553);\n","/* global Android */\nlet html;\ntry {\n  html = require('choo/html');\n} catch (e) {\n  // running in the service worker\n}\nconst b64 = require('base64-js');\n\nfunction arrayToB64(array) {\n  return b64\n    .fromByteArray(array)\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=/g, '');\n}\n\nfunction b64ToArray(str) {\n  return b64.toByteArray(str + '==='.slice((str.length + 3) % 4));\n}\n\nfunction locale() {\n  return document.querySelector('html').lang;\n}\n\nfunction loadShim(polyfill) {\n  return new Promise((resolve, reject) => {\n    const shim = document.createElement('script');\n    shim.src = polyfill;\n    shim.addEventListener('load', () => resolve(true));\n    shim.addEventListener('error', () => resolve(false));\n    document.head.appendChild(shim);\n  });\n}\n\nfunction isFile(id) {\n  return /^[0-9a-fA-F]{10,16}$/.test(id);\n}\n\nfunction copyToClipboard(str) {\n  const aux = document.createElement('input');\n  aux.setAttribute('value', str);\n  aux.contentEditable = true;\n  aux.readOnly = true;\n  document.body.appendChild(aux);\n  if (navigator.userAgent.match(/iphone|ipad|ipod/i)) {\n    const range = document.createRange();\n    range.selectNodeContents(aux);\n    const sel = getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n    aux.setSelectionRange(0, str.length);\n  } else {\n    aux.select();\n  }\n  const result = document.execCommand('copy');\n  document.body.removeChild(aux);\n  return result;\n}\n\nconst LOCALIZE_NUMBERS = !!(\n  typeof Intl === 'object' &&\n  Intl &&\n  typeof Intl.NumberFormat === 'function' &&\n  typeof navigator === 'object'\n);\n\nconst UNITS = ['bytes', 'kb', 'mb', 'gb'];\nfunction bytes(num) {\n  if (num < 1) {\n    return '0B';\n  }\n  const exponent = Math.min(Math.floor(Math.log10(num) / 3), UNITS.length - 1);\n  const n = Number(num / Math.pow(1024, exponent));\n  const decimalDigits = Math.floor(n) === n ? 0 : 1;\n  let nStr = n.toFixed(decimalDigits);\n  if (LOCALIZE_NUMBERS) {\n    try {\n      nStr = n.toLocaleString(locale(), {\n        minimumFractionDigits: decimalDigits,\n        maximumFractionDigits: decimalDigits\n      });\n    } catch (e) {\n      // fall through\n    }\n  }\n  return translate('fileSize', {\n    num: nStr,\n    units: translate(UNITS[exponent])\n  });\n}\n\nfunction percent(ratio) {\n  if (LOCALIZE_NUMBERS) {\n    try {\n      return ratio.toLocaleString(locale(), { style: 'percent' });\n    } catch (e) {\n      // fall through\n    }\n  }\n  return `${Math.floor(ratio * 100)}%`;\n}\n\nfunction number(n) {\n  if (LOCALIZE_NUMBERS) {\n    return n.toLocaleString(locale());\n  }\n  return n.toString();\n}\n\nfunction allowedCopy() {\n  const support = !!document.queryCommandSupported;\n  return support ? document.queryCommandSupported('copy') : false;\n}\n\nfunction delay(delay = 100) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nfunction fadeOut(selector) {\n  const classes = document.querySelector(selector).classList;\n  classes.remove('effect--fadeIn');\n  classes.add('effect--fadeOut');\n  return delay(300);\n}\n\nfunction openLinksInNewTab(links, should = true) {\n  links = links || Array.from(document.querySelectorAll('a:not([target])'));\n  if (should) {\n    links.forEach(l => {\n      l.setAttribute('target', '_blank');\n      l.setAttribute('rel', 'noopener noreferrer');\n    });\n  } else {\n    links.forEach(l => {\n      l.removeAttribute('target');\n      l.removeAttribute('rel');\n    });\n  }\n  return links;\n}\n\nfunction browserName() {\n  try {\n    if (/firefox/i.test(navigator.userAgent)) {\n      return 'firefox';\n    }\n    if (/edge/i.test(navigator.userAgent)) {\n      return 'edge';\n    }\n    if (/trident/i.test(navigator.userAgent)) {\n      return 'ie';\n    }\n    if (/chrome/i.test(navigator.userAgent)) {\n      return 'chrome';\n    }\n    if (/safari/i.test(navigator.userAgent)) {\n      return 'safari';\n    }\n    if (/send android/i.test(navigator.userAgent)) {\n      return 'android-app';\n    }\n    return 'other';\n  } catch (e) {\n    return 'unknown';\n  }\n}\n\nasync function streamToArrayBuffer(stream, size) {\n  const reader = stream.getReader();\n  let state = await reader.read();\n\n  if (size) {\n    const result = new Uint8Array(size);\n    let offset = 0;\n    while (!state.done) {\n      result.set(state.value, offset);\n      offset += state.value.length;\n      state = await reader.read();\n    }\n    return result.buffer;\n  }\n\n  const parts = [];\n  let len = 0;\n  while (!state.done) {\n    parts.push(state.value);\n    len += state.value.length;\n    state = await reader.read();\n  }\n  let offset = 0;\n  const result = new Uint8Array(len);\n  for (const part of parts) {\n    result.set(part, offset);\n    offset += part.length;\n  }\n  return result.buffer;\n}\n\nfunction list(items, ulStyle = '', liStyle = '') {\n  const lis = items.map(\n    i =>\n      html`\n        <li class=\"${liStyle}\">${i}</li>\n      `\n  );\n  return html`\n    <ul class=\"${ulStyle}\">\n      ${lis}\n    </ul>\n  `;\n}\n\nfunction secondsToL10nId(seconds) {\n  if (seconds < 3600) {\n    return { id: 'timespanMinutes', num: Math.floor(seconds / 60) };\n  } else if (seconds < 86400) {\n    return { id: 'timespanHours', num: Math.floor(seconds / 3600) };\n  } else {\n    return { id: 'timespanDays', num: Math.floor(seconds / 86400) };\n  }\n}\n\nfunction timeLeft(milliseconds) {\n  if (milliseconds < 1) {\n    return { id: 'linkExpiredAlt' };\n  }\n  const minutes = Math.floor(milliseconds / 1000 / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n  if (days >= 1) {\n    return {\n      id: 'expiresDaysHoursMinutes',\n      days,\n      hours: hours % 24,\n      minutes: minutes % 60\n    };\n  }\n  if (hours >= 1) {\n    return {\n      id: 'expiresHoursMinutes',\n      hours,\n      minutes: minutes % 60\n    };\n  } else if (hours === 0) {\n    if (minutes === 0) {\n      return { id: 'expiresMinutes', minutes: '< 1' };\n    }\n    return { id: 'expiresMinutes', minutes };\n  }\n  return null;\n}\n\nfunction platform() {\n  if (typeof Android === 'object') {\n    return 'android';\n  }\n  return 'web';\n}\n\nconst ECE_RECORD_SIZE = 1024 * 64;\nconst TAG_LENGTH = 16;\nfunction encryptedSize(size, rs = ECE_RECORD_SIZE, tagLength = TAG_LENGTH) {\n  const chunk_meta = tagLength + 1; // Chunk metadata, tag and delimiter\n  return 21 + size + chunk_meta * Math.ceil(size / (rs - chunk_meta));\n}\n\nlet translate = function() {\n  throw new Error('uninitialized translate function. call setTranslate first');\n};\nfunction setTranslate(t) {\n  translate = t;\n}\n\nmodule.exports = {\n  locale,\n  fadeOut,\n  delay,\n  allowedCopy,\n  bytes,\n  percent,\n  number,\n  copyToClipboard,\n  arrayToB64,\n  b64ToArray,\n  loadShim,\n  isFile,\n  openLinksInNewTab,\n  browserName,\n  streamToArrayBuffer,\n  list,\n  secondsToL10nId,\n  timeLeft,\n  platform,\n  encryptedSize,\n  setTranslate\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { isString } from './is';\n/**\n * Requires a module which is protected _against bundler minification.\n *\n * @param request The module path to resolve\n */\nexport function dynamicRequire(mod, request) {\n    // tslint:disable-next-line: no-unsafe-any\n    return mod.require(request);\n}\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv() {\n    // tslint:disable:strict-type-predicates\n    return Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n}\nvar fallbackGlobalObject = {};\n/**\n * Safely get global scope object\n *\n * @returns Global scope object\n */\nexport function getGlobalObject() {\n    return (isNodeEnv()\n        ? global\n        : typeof window !== 'undefined'\n            ? window\n            : typeof self !== 'undefined'\n                ? self\n                : fallbackGlobalObject);\n}\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4() {\n    var global = getGlobalObject();\n    var crypto = global.crypto || global.msCrypto;\n    if (!(crypto === void 0) && crypto.getRandomValues) {\n        // Use window.crypto API if available\n        var arr = new Uint16Array(8);\n        crypto.getRandomValues(arr);\n        // set 4 in byte 7\n        // tslint:disable-next-line:no-bitwise\n        arr[3] = (arr[3] & 0xfff) | 0x4000;\n        // set 2 most significant bits of byte 9 to '10'\n        // tslint:disable-next-line:no-bitwise\n        arr[4] = (arr[4] & 0x3fff) | 0x8000;\n        var pad = function (num) {\n            var v = num.toString(16);\n            while (v.length < 4) {\n                v = \"0\" + v;\n            }\n            return v;\n        };\n        return (pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) + pad(arr[5]) + pad(arr[6]) + pad(arr[7]));\n    }\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        // tslint:disable-next-line:no-bitwise\n        var r = (Math.random() * 16) | 0;\n        // tslint:disable-next-line:no-bitwise\n        var v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nexport function parseUrl(url) {\n    if (!url) {\n        return {};\n    }\n    var match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n    if (!match) {\n        return {};\n    }\n    // coerce to undefined values to empty string so we don't get 'undefined'\n    var query = match[6] || '';\n    var fragment = match[8] || '';\n    return {\n        host: match[4],\n        path: match[5],\n        protocol: match[2],\n        relative: match[5] + query + fragment,\n    };\n}\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event) {\n    if (event.message) {\n        return event.message;\n    }\n    if (event.exception && event.exception.values && event.exception.values[0]) {\n        var exception = event.exception.values[0];\n        if (exception.type && exception.value) {\n            return exception.type + \": \" + exception.value;\n        }\n        return exception.type || exception.value || event.event_id || '<unknown>';\n    }\n    return event.event_id || '<unknown>';\n}\n/** JSDoc */\nexport function consoleSandbox(callback) {\n    var global = getGlobalObject();\n    var levels = ['debug', 'info', 'warn', 'error', 'log', 'assert'];\n    if (!('console' in global)) {\n        return callback();\n    }\n    var originalConsole = global.console;\n    var wrappedLevels = {};\n    // Restore all wrapped console methods\n    levels.forEach(function (level) {\n        if (level in global.console && originalConsole[level].__sentry__) {\n            wrappedLevels[level] = originalConsole[level].__sentry_wrapped__;\n            originalConsole[level] = originalConsole[level].__sentry_original__;\n        }\n    });\n    // Perform callback manipulations\n    var result = callback();\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(function (level) {\n        originalConsole[level] = wrappedLevels[level];\n    });\n    return result;\n}\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event, value, type) {\n    event.exception = event.exception || {};\n    event.exception.values = event.exception.values || [];\n    event.exception.values[0] = event.exception.values[0] || {};\n    event.exception.values[0].value = event.exception.values[0].value || value || '';\n    event.exception.values[0].type = event.exception.values[0].type || type || 'Error';\n}\n/**\n * Adds exception mechanism to a given event.\n * @param event The event to modify.\n * @param mechanism Mechanism of the mechanism.\n * @hidden\n */\nexport function addExceptionMechanism(event, mechanism) {\n    if (mechanism === void 0) { mechanism = {}; }\n    // TODO: Use real type with `keyof Mechanism` thingy and maybe make it better?\n    try {\n        // @ts-ignore\n        // tslint:disable:no-non-null-assertion\n        event.exception.values[0].mechanism = event.exception.values[0].mechanism || {};\n        Object.keys(mechanism).forEach(function (key) {\n            // @ts-ignore\n            event.exception.values[0].mechanism[key] = mechanism[key];\n        });\n    }\n    catch (_oO) {\n        // no-empty\n    }\n}\n/**\n * A safe form of location.href\n */\nexport function getLocationHref() {\n    try {\n        return document.location.href;\n    }\n    catch (oO) {\n        return '';\n    }\n}\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nexport function htmlTreeAsString(elem) {\n    // try/catch both:\n    // - accessing event.target (see getsentry/raven-js#838, #768)\n    // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n    // - can throw an exception in some circumstances.\n    try {\n        var currentElem = elem;\n        var MAX_TRAVERSE_HEIGHT = 5;\n        var MAX_OUTPUT_LEN = 80;\n        var out = [];\n        var height = 0;\n        var len = 0;\n        var separator = ' > ';\n        var sepLength = separator.length;\n        var nextStr = void 0;\n        while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n            nextStr = _htmlElementAsString(currentElem);\n            // bail out if\n            // - nextStr is the 'html' element\n            // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n            //   (ignore this limit if we are on the first iteration)\n            if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\n                break;\n            }\n            out.push(nextStr);\n            len += nextStr.length;\n            currentElem = currentElem.parentNode;\n        }\n        return out.reverse().join(separator);\n    }\n    catch (_oO) {\n        return '<unknown>';\n    }\n}\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el) {\n    var elem = el;\n    var out = [];\n    var className;\n    var classes;\n    var key;\n    var attr;\n    var i;\n    if (!elem || !elem.tagName) {\n        return '';\n    }\n    out.push(elem.tagName.toLowerCase());\n    if (elem.id) {\n        out.push(\"#\" + elem.id);\n    }\n    className = elem.className;\n    if (className && isString(className)) {\n        classes = className.split(/\\s+/);\n        for (i = 0; i < classes.length; i++) {\n            out.push(\".\" + classes[i]);\n        }\n    }\n    var attrWhitelist = ['type', 'name', 'title', 'alt'];\n    for (i = 0; i < attrWhitelist.length; i++) {\n        key = attrWhitelist[i];\n        attr = elem.getAttribute(key);\n        if (attr) {\n            out.push(\"[\" + key + \"=\\\"\" + attr + \"\\\"]\");\n        }\n    }\n    return out.join('');\n}\nvar defaultRetryAfter = 60 * 1000; // 60 seconds\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param now current unix timestamp\n * @param header string representation of 'Retry-After' header\n */\nexport function parseRetryAfterHeader(now, header) {\n    if (!header) {\n        return defaultRetryAfter;\n    }\n    var headerDelay = parseInt(\"\" + header, 10);\n    if (!isNaN(headerDelay)) {\n        return headerDelay * 1000;\n    }\n    var headerDate = Date.parse(\"\" + header);\n    if (!isNaN(headerDate)) {\n        return headerDate - now;\n    }\n    return defaultRetryAfter;\n}\n//# sourceMappingURL=misc.js.map","import { isElement, isError, isEvent, isPrimitive, isSyntheticEvent } from './is';\nimport { Memo } from './memo';\nimport { htmlTreeAsString } from './misc';\nimport { truncate } from './string';\n/**\n * Wrap a given object method with a higher-order function\n *\n * @param source An object that contains a method to be wrapped.\n * @param name A name of method to be wrapped.\n * @param replacement A function that should be used to wrap a given method.\n * @returns void\n */\nexport function fill(source, name, replacement) {\n    if (!(name in source)) {\n        return;\n    }\n    var original = source[name];\n    var wrapped = replacement(original);\n    // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n    // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n    // tslint:disable-next-line:strict-type-predicates\n    if (typeof wrapped === 'function') {\n        try {\n            wrapped.prototype = wrapped.prototype || {};\n            Object.defineProperties(wrapped, {\n                __sentry__: {\n                    enumerable: false,\n                    value: true,\n                },\n                __sentry_original__: {\n                    enumerable: false,\n                    value: original,\n                },\n                __sentry_wrapped__: {\n                    enumerable: false,\n                    value: wrapped,\n                },\n            });\n        }\n        catch (_Oo) {\n            // This can throw if multiple fill happens on a global object like XMLHttpRequest\n            // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n        }\n    }\n    source[name] = wrapped;\n}\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object) {\n    return Object.keys(object)\n        .map(\n    // tslint:disable-next-line:no-unsafe-any\n    function (key) { return encodeURIComponent(key) + \"=\" + encodeURIComponent(object[key]); })\n        .join('&');\n}\n/**\n * Transforms any object into an object literal with all it's attributes\n * attached to it.\n *\n * @param value Initial source that we have to transform in order to be usable by the serializer\n */\nfunction getWalkSource(value) {\n    if (isError(value)) {\n        var error = value;\n        var err = {\n            message: error.message,\n            name: error.name,\n            stack: error.stack,\n        };\n        for (var i in error) {\n            if (Object.prototype.hasOwnProperty.call(error, i)) {\n                err[i] = error[i];\n            }\n        }\n        return err;\n    }\n    if (isEvent(value)) {\n        var event_1 = value;\n        var source = {};\n        source.type = event_1.type;\n        // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n        try {\n            source.target = isElement(event_1.target)\n                ? htmlTreeAsString(event_1.target)\n                : Object.prototype.toString.call(event_1.target);\n        }\n        catch (_oO) {\n            source.target = '<unknown>';\n        }\n        try {\n            source.currentTarget = isElement(event_1.currentTarget)\n                ? htmlTreeAsString(event_1.currentTarget)\n                : Object.prototype.toString.call(event_1.currentTarget);\n        }\n        catch (_oO) {\n            source.currentTarget = '<unknown>';\n        }\n        // tslint:disable-next-line:strict-type-predicates\n        if (typeof CustomEvent !== 'undefined' && value instanceof CustomEvent) {\n            source.detail = event_1.detail;\n        }\n        for (var i in event_1) {\n            if (Object.prototype.hasOwnProperty.call(event_1, i)) {\n                source[i] = event_1;\n            }\n        }\n        return source;\n    }\n    return value;\n}\n/** Calculates bytes size of input string */\nfunction utf8Length(value) {\n    // tslint:disable-next-line:no-bitwise\n    return ~-encodeURI(value).split(/%..|./).length;\n}\n/** Calculates bytes size of input object */\nfunction jsonSize(value) {\n    return utf8Length(JSON.stringify(value));\n}\n/** JSDoc */\nexport function normalizeToSize(object, \n// Default Node.js REPL depth\ndepth, \n// 100kB, as 200kB is max payload size, so half sounds reasonable\nmaxSize) {\n    if (depth === void 0) { depth = 3; }\n    if (maxSize === void 0) { maxSize = 100 * 1024; }\n    var serialized = normalize(object, depth);\n    if (jsonSize(serialized) > maxSize) {\n        return normalizeToSize(object, depth - 1, maxSize);\n    }\n    return serialized;\n}\n/** Transforms any input value into a string form, either primitive value or a type of the input */\nfunction serializeValue(value) {\n    var type = Object.prototype.toString.call(value);\n    // Node.js REPL notation\n    if (typeof value === 'string') {\n        return value;\n    }\n    if (type === '[object Object]') {\n        return '[Object]';\n    }\n    if (type === '[object Array]') {\n        return '[Array]';\n    }\n    var normalized = normalizeValue(value);\n    return isPrimitive(normalized) ? normalized : type;\n}\n/**\n * normalizeValue()\n *\n * Takes unserializable input and make it serializable friendly\n *\n * - translates undefined/NaN values to \"[undefined]\"/\"[NaN]\" respectively,\n * - serializes Error objects\n * - filter global objects\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction normalizeValue(value, key) {\n    if (key === 'domain' && value && typeof value === 'object' && value._events) {\n        return '[Domain]';\n    }\n    if (key === 'domainEmitter') {\n        return '[DomainEmitter]';\n    }\n    if (typeof global !== 'undefined' && value === global) {\n        return '[Global]';\n    }\n    if (typeof window !== 'undefined' && value === window) {\n        return '[Window]';\n    }\n    if (typeof document !== 'undefined' && value === document) {\n        return '[Document]';\n    }\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n        return '[SyntheticEvent]';\n    }\n    // tslint:disable-next-line:no-tautology-expression\n    if (typeof value === 'number' && value !== value) {\n        return '[NaN]';\n    }\n    if (value === void 0) {\n        return '[undefined]';\n    }\n    if (typeof value === 'function') {\n        return \"[Function: \" + (value.name || '<unknown-function-name>') + \"]\";\n    }\n    return value;\n}\n/**\n * Walks an object to perform a normalization on it\n *\n * @param key of object that's walked in current iteration\n * @param value object to be walked\n * @param depth Optional number indicating how deep should walking be performed\n * @param memo Optional Memo class handling decycling\n */\nexport function walk(key, value, depth, memo) {\n    if (depth === void 0) { depth = +Infinity; }\n    if (memo === void 0) { memo = new Memo(); }\n    // If we reach the maximum depth, serialize whatever has left\n    if (depth === 0) {\n        return serializeValue(value);\n    }\n    // If value implements `toJSON` method, call it and return early\n    // tslint:disable:no-unsafe-any\n    if (value !== null && value !== undefined && typeof value.toJSON === 'function') {\n        return value.toJSON();\n    }\n    // tslint:enable:no-unsafe-any\n    // If normalized value is a primitive, there are no branches left to walk, so we can just bail out, as theres no point in going down that branch any further\n    var normalized = normalizeValue(value, key);\n    if (isPrimitive(normalized)) {\n        return normalized;\n    }\n    // Create source that we will use for next itterations, either objectified error object (Error type with extracted keys:value pairs) or the input itself\n    var source = getWalkSource(value);\n    // Create an accumulator that will act as a parent for all future itterations of that branch\n    var acc = Array.isArray(value) ? [] : {};\n    // If we already walked that branch, bail out, as it's circular reference\n    if (memo.memoize(value)) {\n        return '[Circular ~]';\n    }\n    // Walk all keys of the source\n    for (var innerKey in source) {\n        // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n        if (!Object.prototype.hasOwnProperty.call(source, innerKey)) {\n            continue;\n        }\n        // Recursively walk through all the child nodes\n        acc[innerKey] = walk(innerKey, source[innerKey], depth - 1, memo);\n    }\n    // Once walked through all the branches, remove the parent from memo storage\n    memo.unmemoize(value);\n    // Return accumulated values\n    return acc;\n}\n/**\n * normalize()\n *\n * - Creates a copy to prevent original input mutation\n * - Skip non-enumerablers\n * - Calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializeable values (undefined/NaN/Functions) to serializable format\n * - Translates known global objects/Classes to a string representations\n * - Takes care of Error objects serialization\n * - Optionally limit depth of final output\n */\nexport function normalize(input, depth) {\n    try {\n        // tslint:disable-next-line:no-unsafe-any\n        return JSON.parse(JSON.stringify(input, function (key, value) { return walk(key, value, depth); }));\n    }\n    catch (_oO) {\n        return '**non-serializable**';\n    }\n}\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nexport function extractExceptionKeysForMessage(exception, maxLength) {\n    if (maxLength === void 0) { maxLength = 40; }\n    // tslint:disable:strict-type-predicates\n    var keys = Object.keys(getWalkSource(exception));\n    keys.sort();\n    if (!keys.length) {\n        return '[object has no keys]';\n    }\n    if (keys[0].length >= maxLength) {\n        return truncate(keys[0], maxLength);\n    }\n    for (var includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n        var serialized = keys.slice(0, includedKeys).join(', ');\n        if (serialized.length > maxLength) {\n            continue;\n        }\n        if (includedKeys === keys.length) {\n            return serialized;\n        }\n        return truncate(serialized, maxLength);\n    }\n    return '';\n}\n//# sourceMappingURL=object.js.map","/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat) {\n    switch (Object.prototype.toString.call(wat)) {\n        case '[object Error]':\n            return true;\n        case '[object Exception]':\n            return true;\n        case '[object DOMException]':\n            return true;\n        default:\n            return wat instanceof Error;\n    }\n}\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat) {\n    return Object.prototype.toString.call(wat) === '[object ErrorEvent]';\n}\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat) {\n    return Object.prototype.toString.call(wat) === '[object DOMError]';\n}\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat) {\n    return Object.prototype.toString.call(wat) === '[object DOMException]';\n}\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat) {\n    return Object.prototype.toString.call(wat) === '[object String]';\n}\n/**\n * Checks whether given value's is a primitive (undefined, null, number, boolean, string)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat) {\n    return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat) {\n    return Object.prototype.toString.call(wat) === '[object Object]';\n}\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat) {\n    // tslint:disable-next-line:strict-type-predicates\n    return typeof Event !== 'undefined' && wat instanceof Event;\n}\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat) {\n    // tslint:disable-next-line:strict-type-predicates\n    return typeof Element !== 'undefined' && wat instanceof Element;\n}\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat) {\n    return Object.prototype.toString.call(wat) === '[object RegExp]';\n}\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat) {\n    // tslint:disable:no-unsafe-any\n    return Boolean(wat && wat.then && typeof wat.then === 'function');\n    // tslint:enable:no-unsafe-any\n}\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat) {\n    // tslint:disable-next-line:no-unsafe-any\n    return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n//# sourceMappingURL=is.js.map","import { arrayToB64, b64ToArray, delay } from './utils';\nimport { ECE_RECORD_SIZE } from './ece';\n\nlet fileProtocolWssUrl = null;\ntry {\n  fileProtocolWssUrl = localStorage.getItem('wssURL');\n} catch (e) {\n  // NOOP\n}\nif (!fileProtocolWssUrl) {\n  fileProtocolWssUrl = 'wss://send.firefox.com/api/ws';\n}\n\nexport class ConnectionError extends Error {\n  constructor(cancelled, duration, size) {\n    super(cancelled ? '0' : 'connection closed');\n    this.cancelled = cancelled;\n    this.duration = duration;\n    this.size = size;\n  }\n}\n\nexport function setFileProtocolWssUrl(url) {\n  localStorage && localStorage.setItem('wssURL', url);\n  fileProtocolWssUrl = url;\n}\n\nexport function getFileProtocolWssUrl() {\n  return fileProtocolWssUrl;\n}\n\nlet apiUrlPrefix = '';\nexport function getApiUrl(path) {\n  return apiUrlPrefix + path;\n}\n\nexport function setApiUrlPrefix(prefix) {\n  apiUrlPrefix = prefix;\n}\n\nfunction post(obj, bearerToken) {\n  const h = {\n    'Content-Type': 'application/json'\n  };\n  if (bearerToken) {\n    h['Authentication'] = `Bearer ${bearerToken}`;\n  }\n  return {\n    method: 'POST',\n    headers: new Headers(h),\n    body: JSON.stringify(obj)\n  };\n}\n\nexport function parseNonce(header) {\n  header = header || '';\n  return header.split(' ')[1];\n}\n\nasync function fetchWithAuth(url, params, keychain) {\n  const result = {};\n  params = params || {};\n  const h = await keychain.authHeader();\n  params.headers = new Headers({ Authorization: h });\n  const response = await fetch(url, params);\n  result.response = response;\n  result.ok = response.ok;\n  const nonce = parseNonce(response.headers.get('WWW-Authenticate'));\n  result.shouldRetry = response.status === 401 && nonce !== keychain.nonce;\n  keychain.nonce = nonce;\n  return result;\n}\n\nasync function fetchWithAuthAndRetry(url, params, keychain) {\n  const result = await fetchWithAuth(url, params, keychain);\n  if (result.shouldRetry) {\n    return fetchWithAuth(url, params, keychain);\n  }\n  return result;\n}\n\nexport async function del(id, owner_token) {\n  const response = await fetch(\n    getApiUrl(`/api/delete/${id}`),\n    post({ owner_token })\n  );\n  return response.ok;\n}\n\nexport async function setParams(id, owner_token, bearerToken, params) {\n  const response = await fetch(\n    getApiUrl(`/api/params/${id}`),\n    post(\n      {\n        owner_token,\n        dlimit: params.dlimit\n      },\n      bearerToken\n    )\n  );\n  return response.ok;\n}\n\nexport async function fileInfo(id, owner_token) {\n  const response = await fetch(\n    getApiUrl(`/api/info/${id}`),\n    post({ owner_token })\n  );\n\n  if (response.ok) {\n    const obj = await response.json();\n    return obj;\n  }\n\n  throw new Error(response.status);\n}\n\nexport async function metadata(id, keychain) {\n  const result = await fetchWithAuthAndRetry(\n    getApiUrl(`/api/metadata/${id}`),\n    { method: 'GET' },\n    keychain\n  );\n  if (result.ok) {\n    const data = await result.response.json();\n    const meta = await keychain.decryptMetadata(b64ToArray(data.metadata));\n    return {\n      size: meta.size,\n      ttl: data.ttl,\n      iv: meta.iv,\n      name: meta.name,\n      type: meta.type,\n      manifest: meta.manifest\n    };\n  }\n  throw new Error(result.response.status);\n}\n\nexport async function setPassword(id, owner_token, keychain) {\n  const auth = await keychain.authKeyB64();\n  const response = await fetch(\n    getApiUrl(`/api/password/${id}`),\n    post({ owner_token, auth })\n  );\n  return response.ok;\n}\n\nfunction asyncInitWebSocket(server) {\n  return new Promise((resolve, reject) => {\n    try {\n      const ws = new WebSocket(server);\n      ws.addEventListener('open', () => resolve(ws), { once: true });\n    } catch (e) {\n      reject(new ConnectionError(false));\n    }\n  });\n}\n\nfunction listenForResponse(ws, canceller) {\n  return new Promise((resolve, reject) => {\n    function handleClose(event) {\n      // a 'close' event before a 'message' event means the request failed\n      ws.removeEventListener('message', handleMessage);\n      reject(new ConnectionError(canceller.cancelled));\n    }\n    function handleMessage(msg) {\n      ws.removeEventListener('close', handleClose);\n      try {\n        const response = JSON.parse(msg.data);\n        if (response.error) {\n          throw new Error(response.error);\n        } else {\n          resolve(response);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    }\n    ws.addEventListener('message', handleMessage, { once: true });\n    ws.addEventListener('close', handleClose, { once: true });\n  });\n}\n\nasync function upload(\n  stream,\n  metadata,\n  verifierB64,\n  timeLimit,\n  dlimit,\n  bearerToken,\n  onprogress,\n  canceller\n) {\n  let size = 0;\n  const start = Date.now();\n  const host = window.location.hostname;\n  const port = window.location.port;\n  const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n  const endpoint =\n    window.location.protocol === 'file:'\n      ? fileProtocolWssUrl\n      : `${protocol}//${host}${port ? ':' : ''}${port}/api/ws`;\n\n  const ws = await asyncInitWebSocket(endpoint);\n\n  try {\n    const metadataHeader = arrayToB64(new Uint8Array(metadata));\n    const fileMeta = {\n      fileMetadata: metadataHeader,\n      authorization: `send-v1 ${verifierB64}`,\n      bearer: bearerToken,\n      timeLimit,\n      dlimit\n    };\n    const uploadInfoResponse = listenForResponse(ws, canceller);\n    ws.send(JSON.stringify(fileMeta));\n    const uploadInfo = await uploadInfoResponse;\n\n    const completedResponse = listenForResponse(ws, canceller);\n\n    const reader = stream.getReader();\n    let state = await reader.read();\n    while (!state.done) {\n      if (canceller.cancelled) {\n        ws.close();\n      }\n      if (ws.readyState !== WebSocket.OPEN) {\n        break;\n      }\n      const buf = state.value;\n      ws.send(buf);\n      onprogress(size);\n      size += buf.length;\n      state = await reader.read();\n      while (\n        ws.bufferedAmount > ECE_RECORD_SIZE * 2 &&\n        ws.readyState === WebSocket.OPEN &&\n        !canceller.cancelled\n      ) {\n        await delay();\n      }\n    }\n    if (ws.readyState === WebSocket.OPEN) {\n      ws.send(new Uint8Array([0])); //EOF\n    }\n\n    await completedResponse;\n    uploadInfo.duration = Date.now() - start;\n    return uploadInfo;\n  } catch (e) {\n    e.size = size;\n    e.duration = Date.now() - start;\n    throw e;\n  } finally {\n    if (![WebSocket.CLOSED, WebSocket.CLOSING].includes(ws.readyState)) {\n      ws.close();\n    }\n  }\n}\n\nexport function uploadWs(\n  encrypted,\n  metadata,\n  verifierB64,\n  timeLimit,\n  dlimit,\n  bearerToken,\n  onprogress\n) {\n  const canceller = { cancelled: false };\n\n  return {\n    cancel: function() {\n      canceller.cancelled = true;\n    },\n\n    result: upload(\n      encrypted,\n      metadata,\n      verifierB64,\n      timeLimit,\n      dlimit,\n      bearerToken,\n      onprogress,\n      canceller\n    )\n  };\n}\n\n////////////////////////\n\nasync function downloadS(id, keychain, signal) {\n  const auth = await keychain.authHeader();\n\n  const response = await fetch(getApiUrl(`/api/download/${id}`), {\n    signal: signal,\n    method: 'GET',\n    headers: { Authorization: auth }\n  });\n\n  const authHeader = response.headers.get('WWW-Authenticate');\n  if (authHeader) {\n    keychain.nonce = parseNonce(authHeader);\n  }\n\n  if (response.status !== 200) {\n    throw new Error(response.status);\n  }\n\n  return response.body;\n}\n\nasync function tryDownloadStream(id, keychain, signal, tries = 2) {\n  try {\n    const result = await downloadS(id, keychain, signal);\n    return result;\n  } catch (e) {\n    if (e.message === '401' && --tries > 0) {\n      return tryDownloadStream(id, keychain, signal, tries);\n    }\n    if (e.name === 'AbortError') {\n      throw new Error('0');\n    }\n    throw e;\n  }\n}\n\nexport function downloadStream(id, keychain) {\n  const controller = new AbortController();\n  function cancel() {\n    controller.abort();\n  }\n  return {\n    cancel,\n    result: tryDownloadStream(id, keychain, controller.signal)\n  };\n}\n\n//////////////////\n\nasync function download(id, keychain, onprogress, canceller) {\n  const auth = await keychain.authHeader();\n  const xhr = new XMLHttpRequest();\n  canceller.oncancel = function() {\n    xhr.abort();\n  };\n  return new Promise(function(resolve, reject) {\n    xhr.addEventListener('loadend', function() {\n      canceller.oncancel = function() {};\n      const authHeader = xhr.getResponseHeader('WWW-Authenticate');\n      if (authHeader) {\n        keychain.nonce = parseNonce(authHeader);\n      }\n      if (xhr.status !== 200) {\n        return reject(new Error(xhr.status));\n      }\n\n      const blob = new Blob([xhr.response]);\n      resolve(blob);\n    });\n\n    xhr.addEventListener('progress', function(event) {\n      if (event.target.status === 200) {\n        onprogress(event.loaded);\n      }\n    });\n    xhr.open('get', getApiUrl(`/api/download/blob/${id}`));\n    xhr.setRequestHeader('Authorization', auth);\n    xhr.responseType = 'blob';\n    xhr.send();\n    onprogress(0);\n  });\n}\n\nasync function tryDownload(id, keychain, onprogress, canceller, tries = 2) {\n  try {\n    const result = await download(id, keychain, onprogress, canceller);\n    return result;\n  } catch (e) {\n    if (e.message === '401' && --tries > 0) {\n      return tryDownload(id, keychain, onprogress, canceller, tries);\n    }\n    throw e;\n  }\n}\n\nexport function downloadFile(id, keychain, onprogress) {\n  const canceller = {\n    oncancel: function() {} // download() sets this\n  };\n  function cancel() {\n    canceller.oncancel();\n  }\n  return {\n    cancel,\n    result: tryDownload(id, keychain, onprogress, canceller)\n  };\n}\n\nexport async function getFileList(bearerToken, kid) {\n  const headers = new Headers({ Authorization: `Bearer ${bearerToken}` });\n  const response = await fetch(getApiUrl(`/api/filelist/${kid}`), { headers });\n  if (response.ok) {\n    const encrypted = await response.blob();\n    return encrypted;\n  }\n  throw new Error(response.status);\n}\n\nexport async function setFileList(bearerToken, kid, data) {\n  const headers = new Headers({ Authorization: `Bearer ${bearerToken}` });\n  const response = await fetch(getApiUrl(`/api/filelist/${kid}`), {\n    headers,\n    method: 'POST',\n    body: data\n  });\n  return response.ok;\n}\n\nexport function sendMetrics(blob) {\n  if (!navigator.sendBeacon) {\n    return;\n  }\n  try {\n    navigator.sendBeacon(getApiUrl('/api/metrics'), blob);\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport async function getConstants() {\n  const response = await fetch(getApiUrl('/config'));\n\n  if (response.ok) {\n    const obj = await response.json();\n    return obj;\n  }\n\n  throw new Error(response.status);\n}\n","import * as tslib_1 from \"tslib\";\nimport { getCurrentHub } from '@sentry/hub';\n/**\n * This calls a function on the current hub.\n * @param method function to call on hub.\n * @param args to pass to function.\n */\nfunction callOnHub(method) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var hub = getCurrentHub();\n    if (hub && hub[method]) {\n        // tslint:disable-next-line:no-unsafe-any\n        return hub[method].apply(hub, tslib_1.__spread(args));\n    }\n    throw new Error(\"No hub defined or \" + method + \" was not found on the hub, please open a bug report.\");\n}\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @returns The generated eventId.\n */\nexport function captureException(exception) {\n    var syntheticException;\n    try {\n        throw new Error('Sentry syntheticException');\n    }\n    catch (exception) {\n        syntheticException = exception;\n    }\n    return callOnHub('captureException', exception, {\n        originalException: exception,\n        syntheticException: syntheticException,\n    });\n}\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param level Define the level of the message.\n * @returns The generated eventId.\n */\nexport function captureMessage(message, level) {\n    var syntheticException;\n    try {\n        throw new Error(message);\n    }\n    catch (exception) {\n        syntheticException = exception;\n    }\n    return callOnHub('captureMessage', message, level, {\n        originalException: message,\n        syntheticException: syntheticException,\n    });\n}\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nexport function captureEvent(event) {\n    return callOnHub('captureEvent', event);\n}\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nexport function configureScope(callback) {\n    callOnHub('configureScope', callback);\n}\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nexport function addBreadcrumb(breadcrumb) {\n    callOnHub('addBreadcrumb', breadcrumb);\n}\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normailzed.\n */\nexport function setContext(name, context) {\n    callOnHub('setContext', name, context);\n}\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nexport function setExtras(extras) {\n    callOnHub('setExtras', extras);\n}\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nexport function setTags(tags) {\n    callOnHub('setTags', tags);\n}\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normailzed.\n */\nexport function setExtra(key, extra) {\n    callOnHub('setExtra', key, extra);\n}\n/**\n * Set key:value that will be sent as tags data with the event.\n * @param key String key of tag\n * @param value String value of tag\n */\nexport function setTag(key, value) {\n    callOnHub('setTag', key, value);\n}\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nexport function setUser(user) {\n    callOnHub('setUser', user);\n}\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nexport function withScope(callback) {\n    callOnHub('withScope', callback);\n}\n/**\n * Calls a function on the latest client. Use this with caution, it's meant as\n * in \"internal\" helper so we don't need to expose every possible function in\n * the shim. It is not guaranteed that the client actually implements the\n * function.\n *\n * @param method The method to call on the client/client.\n * @param args Arguments to pass to the client/fontend.\n */\nexport function _callOnClient(method) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    callOnHub.apply(void 0, tslib_1.__spread(['_invokeClient', method], args));\n}\n//# sourceMappingURL=index.js.map","'use strict';\nvar trailingNewlineRegex = /\\n[\\s]+$/;\nvar leadingNewlineRegex = /^\\n[\\s]+/;\nvar trailingSpaceRegex = /[\\s]+$/;\nvar leadingSpaceRegex = /^[\\s]+/;\nvar multiSpaceRegex = /[\\n\\s]+/g;\nvar TEXT_TAGS = [\n    'a',\n    'abbr',\n    'b',\n    'bdi',\n    'bdo',\n    'br',\n    'cite',\n    'data',\n    'dfn',\n    'em',\n    'i',\n    'kbd',\n    'mark',\n    'q',\n    'rp',\n    'rt',\n    'rtc',\n    'ruby',\n    's',\n    'amp',\n    'small',\n    'span',\n    'strong',\n    'sub',\n    'sup',\n    'time',\n    'u',\n    'var',\n    'wbr'\n];\nvar VERBATIM_TAGS = [\n    'code',\n    'pre',\n    'textarea'\n];\nmodule.exports = function appendChild(el, childs) {\n    if (!Array.isArray(childs))\n        return;\n    var nodeName = el.nodeName.toLowerCase();\n    var hadText = false;\n    var value, leader;\n    for (var i = 0, len = childs.length; i < len; i++) {\n        var node = childs[i];\n        if (Array.isArray(node)) {\n            appendChild(el, node);\n            continue;\n        }\n        if (typeof node === 'number' || typeof node === 'boolean' || typeof node === 'function' || node instanceof Date || node instanceof RegExp) {\n            node = node.toString();\n        }\n        var lastChild = el.childNodes[el.childNodes.length - 1];\n        // Iterate over text nodes\n        if (typeof node === 'string') {\n            hadText = true;\n            // If we already had text, append to the existing text\n            if (lastChild && lastChild.nodeName === '#text') {\n                lastChild.nodeValue += node    // We didn't have a text node yet, create one\n;\n            } else {\n                node = el.ownerDocument.createTextNode(node);\n                el.appendChild(node);\n                lastChild = node;\n            }\n            // If this is the last of the child nodes, make sure we close it out\n            // right\n            if (i === len - 1) {\n                hadText = false;\n                // Trim the child text nodes if the current node isn't a\n                // node where whitespace matters.\n                if (TEXT_TAGS.indexOf(nodeName) === -1 && VERBATIM_TAGS.indexOf(nodeName) === -1) {\n                    value = lastChild.nodeValue.replace(leadingNewlineRegex, '').replace(trailingSpaceRegex, '').replace(trailingNewlineRegex, '').replace(multiSpaceRegex, ' ');\n                    if (value === '') {\n                        el.removeChild(lastChild);\n                    } else {\n                        lastChild.nodeValue = value;\n                    }\n                } else if (VERBATIM_TAGS.indexOf(nodeName) === -1) {\n                    // The very first node in the list should not have leading\n                    // whitespace. Sibling text nodes should have whitespace if there\n                    // was any.\n                    leader = i === 0 ? '' : ' ';\n                    value = lastChild.nodeValue.replace(leadingNewlineRegex, leader).replace(leadingSpaceRegex, ' ').replace(trailingSpaceRegex, '').replace(trailingNewlineRegex, '').replace(multiSpaceRegex, ' ');\n                    lastChild.nodeValue = value;\n                }\n            }    // Iterate over DOM nodes\n        } else if (node && node.nodeType) {\n            // If the last node was a text node, make sure it is properly closed out\n            if (hadText) {\n                hadText = false;\n                // Trim the child text nodes if the current node isn't a\n                // text node or a code node\n                if (TEXT_TAGS.indexOf(nodeName) === -1 && VERBATIM_TAGS.indexOf(nodeName) === -1) {\n                    value = lastChild.nodeValue.replace(leadingNewlineRegex, '').replace(trailingNewlineRegex, ' ').replace(multiSpaceRegex, ' ');\n                    // Remove empty text nodes, append otherwise\n                    if (value === '') {\n                        el.removeChild(lastChild);\n                    } else {\n                        lastChild.nodeValue = value;\n                    }    // Trim the child nodes but preserve the appropriate whitespace\n                } else if (VERBATIM_TAGS.indexOf(nodeName) === -1) {\n                    value = lastChild.nodeValue.replace(leadingSpaceRegex, ' ').replace(leadingNewlineRegex, '').replace(trailingNewlineRegex, ' ').replace(multiSpaceRegex, ' ');\n                    lastChild.nodeValue = value;\n                }\n            }\n            // Store the last nodename\n            var _nodeName = node.nodeName;\n            if (_nodeName)\n                nodeName = _nodeName.toLowerCase();\n            // Append the node to the DOM\n            el.appendChild(node);\n        }\n    }\n};","import * as tslib_1 from \"tslib\";\nimport { captureException, getCurrentHub, withScope } from '@sentry/core';\nimport { addExceptionMechanism, addExceptionTypeValue, htmlTreeAsString, normalize } from '@sentry/utils';\nvar debounceDuration = 1000;\nvar keypressTimeout;\nvar lastCapturedEvent;\nvar ignoreOnError = 0;\n/**\n * @hidden\n */\nexport function shouldIgnoreOnError() {\n    return ignoreOnError > 0;\n}\n/**\n * @hidden\n */\nexport function ignoreNextOnError() {\n    // onerror should trigger before setTimeout\n    ignoreOnError += 1;\n    setTimeout(function () {\n        ignoreOnError -= 1;\n    });\n}\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap.\n * @returns The wrapped function.\n * @hidden\n */\nexport function wrap(fn, options, before) {\n    if (options === void 0) { options = {}; }\n    // tslint:disable-next-line:strict-type-predicates\n    if (typeof fn !== 'function') {\n        return fn;\n    }\n    try {\n        // We don't wanna wrap it twice\n        if (fn.__sentry__) {\n            return fn;\n        }\n        // If this has already been wrapped in the past, return that wrapped function\n        if (fn.__sentry_wrapped__) {\n            return fn.__sentry_wrapped__;\n        }\n    }\n    catch (e) {\n        // Just accessing custom props in some Selenium environments\n        // can cause a \"Permission denied\" exception (see raven-js#495).\n        // Bail on wrapping and return the function as-is (defers to window.onerror).\n        return fn;\n    }\n    var sentryWrapped = function () {\n        // tslint:disable-next-line:strict-type-predicates\n        if (before && typeof before === 'function') {\n            before.apply(this, arguments);\n        }\n        var args = Array.prototype.slice.call(arguments);\n        // tslint:disable:no-unsafe-any\n        try {\n            var wrappedArguments = args.map(function (arg) { return wrap(arg, options); });\n            if (fn.handleEvent) {\n                // Attempt to invoke user-land function\n                // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n                //       means the sentry.javascript SDK caught an error invoking your application code. This\n                //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n                return fn.handleEvent.apply(this, wrappedArguments);\n            }\n            // Attempt to invoke user-land function\n            // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n            //       means the sentry.javascript SDK caught an error invoking your application code. This\n            //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n            return fn.apply(this, wrappedArguments);\n            // tslint:enable:no-unsafe-any\n        }\n        catch (ex) {\n            ignoreNextOnError();\n            withScope(function (scope) {\n                scope.addEventProcessor(function (event) {\n                    var processedEvent = tslib_1.__assign({}, event);\n                    if (options.mechanism) {\n                        addExceptionTypeValue(processedEvent, undefined, undefined);\n                        addExceptionMechanism(processedEvent, options.mechanism);\n                    }\n                    processedEvent.extra = tslib_1.__assign({}, processedEvent.extra, { arguments: normalize(args, 3) });\n                    return processedEvent;\n                });\n                captureException(ex);\n            });\n            throw ex;\n        }\n    };\n    // Accessing some objects may throw\n    // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n    try {\n        for (var property in fn) {\n            if (Object.prototype.hasOwnProperty.call(fn, property)) {\n                sentryWrapped[property] = fn[property];\n            }\n        }\n    }\n    catch (_oO) { } // tslint:disable-line:no-empty\n    fn.prototype = fn.prototype || {};\n    sentryWrapped.prototype = fn.prototype;\n    Object.defineProperty(fn, '__sentry_wrapped__', {\n        enumerable: false,\n        value: sentryWrapped,\n    });\n    // Signal that this function has been wrapped/filled already\n    // for both debugging and to prevent it to being wrapped/filled twice\n    Object.defineProperties(sentryWrapped, {\n        __sentry__: {\n            enumerable: false,\n            value: true,\n        },\n        __sentry_original__: {\n            enumerable: false,\n            value: fn,\n        },\n    });\n    // Restore original function name (not all browsers allow that)\n    try {\n        var descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name');\n        if (descriptor.configurable) {\n            Object.defineProperty(sentryWrapped, 'name', {\n                get: function () {\n                    return fn.name;\n                },\n            });\n        }\n    }\n    catch (_oO) {\n        /*no-empty*/\n    }\n    return sentryWrapped;\n}\nvar debounceTimer = 0;\n/**\n * Wraps addEventListener to capture UI breadcrumbs\n * @param eventName the event name (e.g. \"click\")\n * @returns wrapped breadcrumb events handler\n * @hidden\n */\nexport function breadcrumbEventHandler(eventName, debounce) {\n    if (debounce === void 0) { debounce = false; }\n    return function (event) {\n        // reset keypress timeout; e.g. triggering a 'click' after\n        // a 'keypress' will reset the keypress debounce so that a new\n        // set of keypresses can be recorded\n        keypressTimeout = undefined;\n        // It's possible this handler might trigger multiple times for the same\n        // event (e.g. event propagation through node ancestors). Ignore if we've\n        // already captured the event.\n        if (!event || lastCapturedEvent === event) {\n            return;\n        }\n        lastCapturedEvent = event;\n        var captureBreadcrumb = function () {\n            var target;\n            // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n            try {\n                target = event.target ? htmlTreeAsString(event.target) : htmlTreeAsString(event);\n            }\n            catch (e) {\n                target = '<unknown>';\n            }\n            if (target.length === 0) {\n                return;\n            }\n            getCurrentHub().addBreadcrumb({\n                category: \"ui.\" + eventName,\n                message: target,\n            }, {\n                event: event,\n                name: eventName,\n            });\n        };\n        if (debounceTimer) {\n            clearTimeout(debounceTimer);\n        }\n        if (debounce) {\n            debounceTimer = setTimeout(captureBreadcrumb);\n        }\n        else {\n            captureBreadcrumb();\n        }\n    };\n}\n/**\n * Wraps addEventListener to capture keypress UI events\n * @returns wrapped keypress events handler\n * @hidden\n */\nexport function keypressEventHandler() {\n    // TODO: if somehow user switches keypress target before\n    //       debounce timeout is triggered, we will only capture\n    //       a single breadcrumb from the FIRST target (acceptable?)\n    return function (event) {\n        var target;\n        try {\n            target = event.target;\n        }\n        catch (e) {\n            // just accessing event properties can throw an exception in some rare circumstances\n            // see: https://github.com/getsentry/raven-js/issues/838\n            return;\n        }\n        var tagName = target && target.tagName;\n        // only consider keypress events on actual input elements\n        // this will disregard keypresses targeting body (e.g. tabbing\n        // through elements, hotkeys, etc)\n        if (!tagName || (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && !target.isContentEditable)) {\n            return;\n        }\n        // record first keypress in a series, but ignore subsequent\n        // keypresses until debounce clears\n        if (!keypressTimeout) {\n            breadcrumbEventHandler('input')(event);\n        }\n        clearTimeout(keypressTimeout);\n        keypressTimeout = setTimeout(function () {\n            keypressTimeout = undefined;\n        }, debounceDuration);\n    };\n}\n//# sourceMappingURL=helpers.js.map","import * as tslib_1 from \"tslib\";\nimport { consoleSandbox, dynamicRequire, getGlobalObject, isNodeEnv, logger, uuid4 } from '@sentry/utils';\nimport { Scope } from './scope';\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be incresed when the global interface\n * changes a and new methods are introduced.\n *\n * @hidden\n */\nexport var API_VERSION = 3;\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nvar DEFAULT_BREADCRUMBS = 30;\n/**\n * Absolute maximum number of breadcrumbs added to an event. The\n * `maxBreadcrumbs` option cannot be higher than this value.\n */\nvar MAX_BREADCRUMBS = 100;\n/**\n * @inheritDoc\n */\nvar Hub = /** @class */ (function () {\n    /**\n     * Creates a new instance of the hub, will push one {@link Layer} into the\n     * internal stack on creation.\n     *\n     * @param client bound to the hub.\n     * @param scope bound to the hub.\n     * @param version number, higher number means higher priority.\n     */\n    function Hub(client, scope, _version) {\n        if (scope === void 0) { scope = new Scope(); }\n        if (_version === void 0) { _version = API_VERSION; }\n        this._version = _version;\n        /** Is a {@link Layer}[] containing the client and scope */\n        this._stack = [];\n        this._stack.push({ client: client, scope: scope });\n    }\n    /**\n     * Internal helper function to call a method on the top client if it exists.\n     *\n     * @param method The method to call on the client.\n     * @param args Arguments to pass to the client function.\n     */\n    Hub.prototype._invokeClient = function (method) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var top = this.getStackTop();\n        if (top && top.client && top.client[method]) {\n            (_a = top.client)[method].apply(_a, tslib_1.__spread(args, [top.scope]));\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.isOlderThan = function (version) {\n        return this._version < version;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.bindClient = function (client) {\n        var top = this.getStackTop();\n        top.client = client;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.pushScope = function () {\n        // We want to clone the content of prev scope\n        var stack = this.getStack();\n        var parentScope = stack.length > 0 ? stack[stack.length - 1].scope : undefined;\n        var scope = Scope.clone(parentScope);\n        this.getStack().push({\n            client: this.getClient(),\n            scope: scope,\n        });\n        return scope;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.popScope = function () {\n        return this.getStack().pop() !== undefined;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.withScope = function (callback) {\n        var scope = this.pushScope();\n        try {\n            callback(scope);\n        }\n        finally {\n            this.popScope();\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.getClient = function () {\n        return this.getStackTop().client;\n    };\n    /** Returns the scope of the top stack. */\n    Hub.prototype.getScope = function () {\n        return this.getStackTop().scope;\n    };\n    /** Returns the scope stack for domains or the process. */\n    Hub.prototype.getStack = function () {\n        return this._stack;\n    };\n    /** Returns the topmost scope layer in the order domain > local > process. */\n    Hub.prototype.getStackTop = function () {\n        return this._stack[this._stack.length - 1];\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureException = function (exception, hint) {\n        var eventId = (this._lastEventId = uuid4());\n        var finalHint = hint;\n        // If there's no explicit hint provided, mimick the same thing that would happen\n        // in the minimal itself to create a consistent behavior.\n        // We don't do this in the client, as it's the lowest level API, and doing this,\n        // would prevent user from having full control over direct calls.\n        if (!hint) {\n            var syntheticException = void 0;\n            try {\n                throw new Error('Sentry syntheticException');\n            }\n            catch (exception) {\n                syntheticException = exception;\n            }\n            finalHint = {\n                originalException: exception,\n                syntheticException: syntheticException,\n            };\n        }\n        this._invokeClient('captureException', exception, tslib_1.__assign({}, finalHint, { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureMessage = function (message, level, hint) {\n        var eventId = (this._lastEventId = uuid4());\n        var finalHint = hint;\n        // If there's no explicit hint provided, mimick the same thing that would happen\n        // in the minimal itself to create a consistent behavior.\n        // We don't do this in the client, as it's the lowest level API, and doing this,\n        // would prevent user from having full control over direct calls.\n        if (!hint) {\n            var syntheticException = void 0;\n            try {\n                throw new Error(message);\n            }\n            catch (exception) {\n                syntheticException = exception;\n            }\n            finalHint = {\n                originalException: message,\n                syntheticException: syntheticException,\n            };\n        }\n        this._invokeClient('captureMessage', message, level, tslib_1.__assign({}, finalHint, { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureEvent = function (event, hint) {\n        var eventId = (this._lastEventId = uuid4());\n        this._invokeClient('captureEvent', event, tslib_1.__assign({}, hint, { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.lastEventId = function () {\n        return this._lastEventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.addBreadcrumb = function (breadcrumb, hint) {\n        var top = this.getStackTop();\n        if (!top.scope || !top.client) {\n            return;\n        }\n        var _a = (top.client.getOptions && top.client.getOptions()) || {}, _b = _a.beforeBreadcrumb, beforeBreadcrumb = _b === void 0 ? null : _b, _c = _a.maxBreadcrumbs, maxBreadcrumbs = _c === void 0 ? DEFAULT_BREADCRUMBS : _c;\n        if (maxBreadcrumbs <= 0) {\n            return;\n        }\n        var timestamp = new Date().getTime() / 1000;\n        var mergedBreadcrumb = tslib_1.__assign({ timestamp: timestamp }, breadcrumb);\n        var finalBreadcrumb = beforeBreadcrumb\n            ? consoleSandbox(function () { return beforeBreadcrumb(mergedBreadcrumb, hint); })\n            : mergedBreadcrumb;\n        if (finalBreadcrumb === null) {\n            return;\n        }\n        top.scope.addBreadcrumb(finalBreadcrumb, Math.min(maxBreadcrumbs, MAX_BREADCRUMBS));\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setUser = function (user) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setUser(user);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setTags = function (tags) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setTags(tags);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setExtras = function (extras) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setExtras(extras);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setTag = function (key, value) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setTag(key, value);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setExtra = function (key, extra) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setExtra(key, extra);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setContext = function (name, context) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setContext(name, context);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.configureScope = function (callback) {\n        var top = this.getStackTop();\n        if (top.scope && top.client) {\n            callback(top.scope);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.run = function (callback) {\n        var oldHub = makeMain(this);\n        try {\n            callback(this);\n        }\n        finally {\n            makeMain(oldHub);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.getIntegration = function (integration) {\n        var client = this.getClient();\n        if (!client) {\n            return null;\n        }\n        try {\n            return client.getIntegration(integration);\n        }\n        catch (_oO) {\n            logger.warn(\"Cannot retrieve integration \" + integration.id + \" from the current Hub\");\n            return null;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.traceHeaders = function () {\n        var top = this.getStackTop();\n        if (top.scope && top.client) {\n            var span = top.scope.getSpan();\n            if (span) {\n                return {\n                    'sentry-trace': span.toTraceparent(),\n                };\n            }\n        }\n        return {};\n    };\n    return Hub;\n}());\nexport { Hub };\n/** Returns the global shim registry. */\nexport function getMainCarrier() {\n    var carrier = getGlobalObject();\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {\n        hub: undefined,\n    };\n    return carrier;\n}\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nexport function makeMain(hub) {\n    var registry = getMainCarrier();\n    var oldHub = getHubFromCarrier(registry);\n    setHubOnCarrier(registry, hub);\n    return oldHub;\n}\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nexport function getCurrentHub() {\n    // Get main carrier (global for every environment)\n    var registry = getMainCarrier();\n    // If there's no hub, or its an old API, assign a new one\n    if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n        setHubOnCarrier(registry, new Hub());\n    }\n    // Prefer domains over global if they are there (applicable only to Node environment)\n    if (isNodeEnv()) {\n        return getHubFromActiveDomain(registry);\n    }\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n}\n/**\n * Try to read the hub from an active domain, fallback to the registry if one doesnt exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry) {\n    try {\n        // We need to use `dynamicRequire` because `require` on it's own will be optimized by webpack.\n        // We do not want this to happen, we need to try to `require` the domain node module and fail if we are in browser\n        // for example so we do not have to shim it and use `getCurrentHub` universally.\n        var domain = dynamicRequire(module, 'domain');\n        var activeDomain = domain.active;\n        // If there no active domain, just return global hub\n        if (!activeDomain) {\n            return getHubFromCarrier(registry);\n        }\n        // If there's no hub on current domain, or its an old API, assign a new one\n        if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n            var registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n            setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n        }\n        // Return hub that lives on a domain\n        return getHubFromCarrier(activeDomain);\n    }\n    catch (_Oo) {\n        // Return hub that lives on a global object\n        return getHubFromCarrier(registry);\n    }\n}\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier) {\n    if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) {\n        return true;\n    }\n    return false;\n}\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nexport function getHubFromCarrier(carrier) {\n    if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) {\n        return carrier.__SENTRY__.hub;\n    }\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n    carrier.__SENTRY__.hub = new Hub();\n    return carrier.__SENTRY__.hub;\n}\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n */\nexport function setHubOnCarrier(carrier, hub) {\n    if (!carrier) {\n        return false;\n    }\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n    carrier.__SENTRY__.hub = hub;\n    return true;\n}\n//# sourceMappingURL=hub.js.map","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n'use strict';\nvar base64 = require('base64-js');\nvar ieee754 = require('ieee754');\nvar isArray = require('isarray');\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength();\nfunction typedArraySupport() {\n    try {\n        var arr = new Uint8Array(1);\n        arr.__proto__ = {\n            __proto__: Uint8Array.prototype,\n            foo: function () {\n                return 42;\n            }\n        };\n        return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0    // ie10 has broken `subarray`\n;\n    } catch (e) {\n        return false;\n    }\n}\nfunction kMaxLength() {\n    return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;\n}\nfunction createBuffer(that, length) {\n    if (kMaxLength() < length) {\n        throw new RangeError('Invalid typed array length');\n    }\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = new Uint8Array(length);\n        that.__proto__ = Buffer.prototype;\n    } else {\n        // Fallback: Return an object instance of the Buffer class\n        if (that === null) {\n            that = new Buffer(length);\n        }\n        that.length = length;\n    }\n    return that;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\nfunction Buffer(arg, encodingOrOffset, length) {\n    if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n        return new Buffer(arg, encodingOrOffset, length);\n    }\n    // Common case.\n    if (typeof arg === 'number') {\n        if (typeof encodingOrOffset === 'string') {\n            throw new Error('If encoding is specified then the first argument must be a string');\n        }\n        return allocUnsafe(this, arg);\n    }\n    return from(this, arg, encodingOrOffset, length);\n}\nBuffer.poolSize = 8192;\n// not used by this implementation\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n    arr.__proto__ = Buffer.prototype;\n    return arr;\n};\nfunction from(that, value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n        throw new TypeError('\"value\" argument must not be a number');\n    }\n    if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n        return fromArrayBuffer(that, value, encodingOrOffset, length);\n    }\n    if (typeof value === 'string') {\n        return fromString(that, value, encodingOrOffset);\n    }\n    return fromObject(that, value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n    return from(null, value, encodingOrOffset, length);\n};\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n    Buffer.prototype.__proto__ = Uint8Array.prototype;\n    Buffer.__proto__ = Uint8Array;\n    if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n        // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n        Object.defineProperty(Buffer, Symbol.species, {\n            value: null,\n            configurable: true\n        });\n    }\n}\nfunction assertSize(size) {\n    if (typeof size !== 'number') {\n        throw new TypeError('\"size\" argument must be a number');\n    } else if (size < 0) {\n        throw new RangeError('\"size\" argument must not be negative');\n    }\n}\nfunction alloc(that, size, fill, encoding) {\n    assertSize(size);\n    if (size <= 0) {\n        return createBuffer(that, size);\n    }\n    if (fill !== undefined) {\n        // Only pay attention to encoding if it's a string. This\n        // prevents accidentally sending in a number that would\n        // be interpretted as a start offset.\n        return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n    }\n    return createBuffer(that, size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n    return alloc(null, size, fill, encoding);\n};\nfunction allocUnsafe(that, size) {\n    assertSize(size);\n    that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n    if (!Buffer.TYPED_ARRAY_SUPPORT) {\n        for (var i = 0; i < size; ++i) {\n            that[i] = 0;\n        }\n    }\n    return that;\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n    return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n    return allocUnsafe(null, size);\n};\nfunction fromString(that, string, encoding) {\n    if (typeof encoding !== 'string' || encoding === '') {\n        encoding = 'utf8';\n    }\n    if (!Buffer.isEncoding(encoding)) {\n        throw new TypeError('\"encoding\" must be a valid string encoding');\n    }\n    var length = byteLength(string, encoding) | 0;\n    that = createBuffer(that, length);\n    var actual = that.write(string, encoding);\n    if (actual !== length) {\n        // Writing a hex string, for example, that contains invalid characters will\n        // cause everything after the first invalid character to be ignored. (e.g.\n        // 'abxxcd' will be treated as 'ab')\n        that = that.slice(0, actual);\n    }\n    return that;\n}\nfunction fromArrayLike(that, array) {\n    var length = array.length < 0 ? 0 : checked(array.length) | 0;\n    that = createBuffer(that, length);\n    for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255;\n    }\n    return that;\n}\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n    array.byteLength;\n    // this throws if `array` is not a valid ArrayBuffer\n    if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError('\\'offset\\' is out of bounds');\n    }\n    if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError('\\'length\\' is out of bounds');\n    }\n    if (byteOffset === undefined && length === undefined) {\n        array = new Uint8Array(array);\n    } else if (length === undefined) {\n        array = new Uint8Array(array, byteOffset);\n    } else {\n        array = new Uint8Array(array, byteOffset, length);\n    }\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = array;\n        that.__proto__ = Buffer.prototype;\n    } else {\n        // Fallback: Return an object instance of the Buffer class\n        that = fromArrayLike(that, array);\n    }\n    return that;\n}\nfunction fromObject(that, obj) {\n    if (Buffer.isBuffer(obj)) {\n        var len = checked(obj.length) | 0;\n        that = createBuffer(that, len);\n        if (that.length === 0) {\n            return that;\n        }\n        obj.copy(that, 0, 0, len);\n        return that;\n    }\n    if (obj) {\n        if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n            if (typeof obj.length !== 'number' || isnan(obj.length)) {\n                return createBuffer(that, 0);\n            }\n            return fromArrayLike(that, obj);\n        }\n        if (obj.type === 'Buffer' && isArray(obj.data)) {\n            return fromArrayLike(that, obj.data);\n        }\n    }\n    throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\nfunction checked(length) {\n    // Note: cannot use `length < kMaxLength()` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= kMaxLength()) {\n        throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n    }\n    return length | 0;\n}\nfunction SlowBuffer(length) {\n    if (+length != length) {\n        // eslint-disable-line eqeqeq\n        length = 0;\n    }\n    return Buffer.alloc(+length);\n}\nBuffer.isBuffer = function isBuffer(b) {\n    return !!(b != null && b._isBuffer);\n};\nBuffer.compare = function compare(a, b) {\n    if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n        throw new TypeError('Arguments must be Buffers');\n    }\n    if (a === b)\n        return 0;\n    var x = a.length;\n    var y = b.length;\n    for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n        if (a[i] !== b[i]) {\n            x = a[i];\n            y = b[i];\n            break;\n        }\n    }\n    if (x < y)\n        return -1;\n    if (y < x)\n        return 1;\n    return 0;\n};\nBuffer.isEncoding = function isEncoding(encoding) {\n    switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n        return true;\n    default:\n        return false;\n    }\n};\nBuffer.concat = function concat(list, length) {\n    if (!isArray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n    if (list.length === 0) {\n        return Buffer.alloc(0);\n    }\n    var i;\n    if (length === undefined) {\n        length = 0;\n        for (i = 0; i < list.length; ++i) {\n            length += list[i].length;\n        }\n    }\n    var buffer = Buffer.allocUnsafe(length);\n    var pos = 0;\n    for (i = 0; i < list.length; ++i) {\n        var buf = list[i];\n        if (!Buffer.isBuffer(buf)) {\n            throw new TypeError('\"list\" argument must be an Array of Buffers');\n        }\n        buf.copy(buffer, pos);\n        pos += buf.length;\n    }\n    return buffer;\n};\nfunction byteLength(string, encoding) {\n    if (Buffer.isBuffer(string)) {\n        return string.length;\n    }\n    if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n        return string.byteLength;\n    }\n    if (typeof string !== 'string') {\n        string = '' + string;\n    }\n    var len = string.length;\n    if (len === 0)\n        return 0;\n    // Use a for loop to avoid recursion\n    var loweredCase = false;\n    for (;;) {\n        switch (encoding) {\n        case 'ascii':\n        case 'latin1':\n        case 'binary':\n            return len;\n        case 'utf8':\n        case 'utf-8':\n        case undefined:\n            return utf8ToBytes(string).length;\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n            return len * 2;\n        case 'hex':\n            return len >>> 1;\n        case 'base64':\n            return base64ToBytes(string).length;\n        default:\n            if (loweredCase)\n                return utf8ToBytes(string).length;\n            // assume utf8\n            encoding = ('' + encoding).toLowerCase();\n            loweredCase = true;\n        }\n    }\n}\nBuffer.byteLength = byteLength;\nfunction slowToString(encoding, start, end) {\n    var loweredCase = false;\n    // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n    // property of a typed array.\n    // This behaves neither like String nor Uint8Array in that we set start/end\n    // to their upper/lower bounds if the value passed is out of range.\n    // undefined is handled specially as per ECMA-262 6th Edition,\n    // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n    if (start === undefined || start < 0) {\n        start = 0;\n    }\n    // Return early if start > this.length. Done here to prevent potential uint32\n    // coercion fail below.\n    if (start > this.length) {\n        return '';\n    }\n    if (end === undefined || end > this.length) {\n        end = this.length;\n    }\n    if (end <= 0) {\n        return '';\n    }\n    // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n    end >>>= 0;\n    start >>>= 0;\n    if (end <= start) {\n        return '';\n    }\n    if (!encoding)\n        encoding = 'utf8';\n    while (true) {\n        switch (encoding) {\n        case 'hex':\n            return hexSlice(this, start, end);\n        case 'utf8':\n        case 'utf-8':\n            return utf8Slice(this, start, end);\n        case 'ascii':\n            return asciiSlice(this, start, end);\n        case 'latin1':\n        case 'binary':\n            return latin1Slice(this, start, end);\n        case 'base64':\n            return base64Slice(this, start, end);\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n            return utf16leSlice(this, start, end);\n        default:\n            if (loweredCase)\n                throw new TypeError('Unknown encoding: ' + encoding);\n            encoding = (encoding + '').toLowerCase();\n            loweredCase = true;\n        }\n    }\n}\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true;\nfunction swap(b, n, m) {\n    var i = b[n];\n    b[n] = b[m];\n    b[m] = i;\n}\nBuffer.prototype.swap16 = function swap16() {\n    var len = this.length;\n    if (len % 2 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 16-bits');\n    }\n    for (var i = 0; i < len; i += 2) {\n        swap(this, i, i + 1);\n    }\n    return this;\n};\nBuffer.prototype.swap32 = function swap32() {\n    var len = this.length;\n    if (len % 4 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 32-bits');\n    }\n    for (var i = 0; i < len; i += 4) {\n        swap(this, i, i + 3);\n        swap(this, i + 1, i + 2);\n    }\n    return this;\n};\nBuffer.prototype.swap64 = function swap64() {\n    var len = this.length;\n    if (len % 8 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 64-bits');\n    }\n    for (var i = 0; i < len; i += 8) {\n        swap(this, i, i + 7);\n        swap(this, i + 1, i + 6);\n        swap(this, i + 2, i + 5);\n        swap(this, i + 3, i + 4);\n    }\n    return this;\n};\nBuffer.prototype.toString = function toString() {\n    var length = this.length | 0;\n    if (length === 0)\n        return '';\n    if (arguments.length === 0)\n        return utf8Slice(this, 0, length);\n    return slowToString.apply(this, arguments);\n};\nBuffer.prototype.equals = function equals(b) {\n    if (!Buffer.isBuffer(b))\n        throw new TypeError('Argument must be a Buffer');\n    if (this === b)\n        return true;\n    return Buffer.compare(this, b) === 0;\n};\nBuffer.prototype.inspect = function inspect() {\n    var str = '';\n    var max = exports.INSPECT_MAX_BYTES;\n    if (this.length > 0) {\n        str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n        if (this.length > max)\n            str += ' ... ';\n    }\n    return '<Buffer ' + str + '>';\n};\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n    if (!Buffer.isBuffer(target)) {\n        throw new TypeError('Argument must be a Buffer');\n    }\n    if (start === undefined) {\n        start = 0;\n    }\n    if (end === undefined) {\n        end = target ? target.length : 0;\n    }\n    if (thisStart === undefined) {\n        thisStart = 0;\n    }\n    if (thisEnd === undefined) {\n        thisEnd = this.length;\n    }\n    if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n        throw new RangeError('out of range index');\n    }\n    if (thisStart >= thisEnd && start >= end) {\n        return 0;\n    }\n    if (thisStart >= thisEnd) {\n        return -1;\n    }\n    if (start >= end) {\n        return 1;\n    }\n    start >>>= 0;\n    end >>>= 0;\n    thisStart >>>= 0;\n    thisEnd >>>= 0;\n    if (this === target)\n        return 0;\n    var x = thisEnd - thisStart;\n    var y = end - start;\n    var len = Math.min(x, y);\n    var thisCopy = this.slice(thisStart, thisEnd);\n    var targetCopy = target.slice(start, end);\n    for (var i = 0; i < len; ++i) {\n        if (thisCopy[i] !== targetCopy[i]) {\n            x = thisCopy[i];\n            y = targetCopy[i];\n            break;\n        }\n    }\n    if (x < y)\n        return -1;\n    if (y < x)\n        return 1;\n    return 0;\n};\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n    // Empty buffer means no match\n    if (buffer.length === 0)\n        return -1;\n    // Normalize byteOffset\n    if (typeof byteOffset === 'string') {\n        encoding = byteOffset;\n        byteOffset = 0;\n    } else if (byteOffset > 2147483647) {\n        byteOffset = 2147483647;\n    } else if (byteOffset < -2147483648) {\n        byteOffset = -2147483648;\n    }\n    byteOffset = +byteOffset;\n    // Coerce to Number.\n    if (isNaN(byteOffset)) {\n        // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n        byteOffset = dir ? 0 : buffer.length - 1;\n    }\n    // Normalize byteOffset: negative offsets start from the end of the buffer\n    if (byteOffset < 0)\n        byteOffset = buffer.length + byteOffset;\n    if (byteOffset >= buffer.length) {\n        if (dir)\n            return -1;\n        else\n            byteOffset = buffer.length - 1;\n    } else if (byteOffset < 0) {\n        if (dir)\n            byteOffset = 0;\n        else\n            return -1;\n    }\n    // Normalize val\n    if (typeof val === 'string') {\n        val = Buffer.from(val, encoding);\n    }\n    // Finally, search either indexOf (if dir is true) or lastIndexOf\n    if (Buffer.isBuffer(val)) {\n        // Special case: looking for empty string/buffer always fails\n        if (val.length === 0) {\n            return -1;\n        }\n        return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n    } else if (typeof val === 'number') {\n        val = val & 255;\n        // Search for a byte value [0-255]\n        if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n            if (dir) {\n                return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n            } else {\n                return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n            }\n        }\n        return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n    }\n    throw new TypeError('val must be string, number or Buffer');\n}\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n    var indexSize = 1;\n    var arrLength = arr.length;\n    var valLength = val.length;\n    if (encoding !== undefined) {\n        encoding = String(encoding).toLowerCase();\n        if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n            if (arr.length < 2 || val.length < 2) {\n                return -1;\n            }\n            indexSize = 2;\n            arrLength /= 2;\n            valLength /= 2;\n            byteOffset /= 2;\n        }\n    }\n    function read(buf, i) {\n        if (indexSize === 1) {\n            return buf[i];\n        } else {\n            return buf.readUInt16BE(i * indexSize);\n        }\n    }\n    var i;\n    if (dir) {\n        var foundIndex = -1;\n        for (i = byteOffset; i < arrLength; i++) {\n            if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n                if (foundIndex === -1)\n                    foundIndex = i;\n                if (i - foundIndex + 1 === valLength)\n                    return foundIndex * indexSize;\n            } else {\n                if (foundIndex !== -1)\n                    i -= i - foundIndex;\n                foundIndex = -1;\n            }\n        }\n    } else {\n        if (byteOffset + valLength > arrLength)\n            byteOffset = arrLength - valLength;\n        for (i = byteOffset; i >= 0; i--) {\n            var found = true;\n            for (var j = 0; j < valLength; j++) {\n                if (read(arr, i + j) !== read(val, j)) {\n                    found = false;\n                    break;\n                }\n            }\n            if (found)\n                return i;\n        }\n    }\n    return -1;\n}\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n    return this.indexOf(val, byteOffset, encoding) !== -1;\n};\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\nfunction hexWrite(buf, string, offset, length) {\n    offset = Number(offset) || 0;\n    var remaining = buf.length - offset;\n    if (!length) {\n        length = remaining;\n    } else {\n        length = Number(length);\n        if (length > remaining) {\n            length = remaining;\n        }\n    }\n    // must be an even number of digits\n    var strLen = string.length;\n    if (strLen % 2 !== 0)\n        throw new TypeError('Invalid hex string');\n    if (length > strLen / 2) {\n        length = strLen / 2;\n    }\n    for (var i = 0; i < length; ++i) {\n        var parsed = parseInt(string.substr(i * 2, 2), 16);\n        if (isNaN(parsed))\n            return i;\n        buf[offset + i] = parsed;\n    }\n    return i;\n}\nfunction utf8Write(buf, string, offset, length) {\n    return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\nfunction asciiWrite(buf, string, offset, length) {\n    return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\nfunction latin1Write(buf, string, offset, length) {\n    return asciiWrite(buf, string, offset, length);\n}\nfunction base64Write(buf, string, offset, length) {\n    return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\nfunction ucs2Write(buf, string, offset, length) {\n    return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n        encoding = 'utf8';\n        length = this.length;\n        offset = 0    // Buffer#write(string, encoding)\n;\n    } else if (length === undefined && typeof offset === 'string') {\n        encoding = offset;\n        length = this.length;\n        offset = 0    // Buffer#write(string, offset[, length][, encoding])\n;\n    } else if (isFinite(offset)) {\n        offset = offset | 0;\n        if (isFinite(length)) {\n            length = length | 0;\n            if (encoding === undefined)\n                encoding = 'utf8';\n        } else {\n            encoding = length;\n            length = undefined;\n        }    // legacy write(string, encoding, offset, length) - remove in v0.13\n    } else {\n        throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n    }\n    var remaining = this.length - offset;\n    if (length === undefined || length > remaining)\n        length = remaining;\n    if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n        throw new RangeError('Attempt to write outside buffer bounds');\n    }\n    if (!encoding)\n        encoding = 'utf8';\n    var loweredCase = false;\n    for (;;) {\n        switch (encoding) {\n        case 'hex':\n            return hexWrite(this, string, offset, length);\n        case 'utf8':\n        case 'utf-8':\n            return utf8Write(this, string, offset, length);\n        case 'ascii':\n            return asciiWrite(this, string, offset, length);\n        case 'latin1':\n        case 'binary':\n            return latin1Write(this, string, offset, length);\n        case 'base64':\n            // Warning: maxLength not taken into account in base64Write\n            return base64Write(this, string, offset, length);\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n            return ucs2Write(this, string, offset, length);\n        default:\n            if (loweredCase)\n                throw new TypeError('Unknown encoding: ' + encoding);\n            encoding = ('' + encoding).toLowerCase();\n            loweredCase = true;\n        }\n    }\n};\nBuffer.prototype.toJSON = function toJSON() {\n    return {\n        type: 'Buffer',\n        data: Array.prototype.slice.call(this._arr || this, 0)\n    };\n};\nfunction base64Slice(buf, start, end) {\n    if (start === 0 && end === buf.length) {\n        return base64.fromByteArray(buf);\n    } else {\n        return base64.fromByteArray(buf.slice(start, end));\n    }\n}\nfunction utf8Slice(buf, start, end) {\n    end = Math.min(buf.length, end);\n    var res = [];\n    var i = start;\n    while (i < end) {\n        var firstByte = buf[i];\n        var codePoint = null;\n        var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n        if (i + bytesPerSequence <= end) {\n            var secondByte, thirdByte, fourthByte, tempCodePoint;\n            switch (bytesPerSequence) {\n            case 1:\n                if (firstByte < 128) {\n                    codePoint = firstByte;\n                }\n                break;\n            case 2:\n                secondByte = buf[i + 1];\n                if ((secondByte & 192) === 128) {\n                    tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n                    if (tempCodePoint > 127) {\n                        codePoint = tempCodePoint;\n                    }\n                }\n                break;\n            case 3:\n                secondByte = buf[i + 1];\n                thirdByte = buf[i + 2];\n                if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n                    tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n                    if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n                        codePoint = tempCodePoint;\n                    }\n                }\n                break;\n            case 4:\n                secondByte = buf[i + 1];\n                thirdByte = buf[i + 2];\n                fourthByte = buf[i + 3];\n                if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n                    tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n                    if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n                        codePoint = tempCodePoint;\n                    }\n                }\n            }\n        }\n        if (codePoint === null) {\n            // we did not generate a valid codePoint so insert a\n            // replacement char (U+FFFD) and advance only 1 byte\n            codePoint = 65533;\n            bytesPerSequence = 1;\n        } else if (codePoint > 65535) {\n            // encode to utf16 (surrogate pair dance)\n            codePoint -= 65536;\n            res.push(codePoint >>> 10 & 1023 | 55296);\n            codePoint = 56320 | codePoint & 1023;\n        }\n        res.push(codePoint);\n        i += bytesPerSequence;\n    }\n    return decodeCodePointsArray(res);\n}\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 4096;\nfunction decodeCodePointsArray(codePoints) {\n    var len = codePoints.length;\n    if (len <= MAX_ARGUMENTS_LENGTH) {\n        return String.fromCharCode.apply(String, codePoints)    // avoid extra slice()\n;\n    }\n    // Decode in chunks to avoid \"call stack size exceeded\".\n    var res = '';\n    var i = 0;\n    while (i < len) {\n        res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n    }\n    return res;\n}\nfunction asciiSlice(buf, start, end) {\n    var ret = '';\n    end = Math.min(buf.length, end);\n    for (var i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i] & 127);\n    }\n    return ret;\n}\nfunction latin1Slice(buf, start, end) {\n    var ret = '';\n    end = Math.min(buf.length, end);\n    for (var i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i]);\n    }\n    return ret;\n}\nfunction hexSlice(buf, start, end) {\n    var len = buf.length;\n    if (!start || start < 0)\n        start = 0;\n    if (!end || end < 0 || end > len)\n        end = len;\n    var out = '';\n    for (var i = start; i < end; ++i) {\n        out += toHex(buf[i]);\n    }\n    return out;\n}\nfunction utf16leSlice(buf, start, end) {\n    var bytes = buf.slice(start, end);\n    var res = '';\n    for (var i = 0; i < bytes.length; i += 2) {\n        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n    }\n    return res;\n}\nBuffer.prototype.slice = function slice(start, end) {\n    var len = this.length;\n    start = ~~start;\n    end = end === undefined ? len : ~~end;\n    if (start < 0) {\n        start += len;\n        if (start < 0)\n            start = 0;\n    } else if (start > len) {\n        start = len;\n    }\n    if (end < 0) {\n        end += len;\n        if (end < 0)\n            end = 0;\n    } else if (end > len) {\n        end = len;\n    }\n    if (end < start)\n        end = start;\n    var newBuf;\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        newBuf = this.subarray(start, end);\n        newBuf.__proto__ = Buffer.prototype;\n    } else {\n        var sliceLen = end - start;\n        newBuf = new Buffer(sliceLen, undefined);\n        for (var i = 0; i < sliceLen; ++i) {\n            newBuf[i] = this[i + start];\n        }\n    }\n    return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset(offset, ext, length) {\n    if (offset % 1 !== 0 || offset < 0)\n        throw new RangeError('offset is not uint');\n    if (offset + ext > length)\n        throw new RangeError('Trying to access beyond buffer length');\n}\nBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert)\n        checkOffset(offset, byteLength, this.length);\n    var val = this[offset];\n    var mul = 1;\n    var i = 0;\n    while (++i < byteLength && (mul *= 256)) {\n        val += this[offset + i] * mul;\n    }\n    return val;\n};\nBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) {\n        checkOffset(offset, byteLength, this.length);\n    }\n    var val = this[offset + --byteLength];\n    var mul = 1;\n    while (byteLength > 0 && (mul *= 256)) {\n        val += this[offset + --byteLength] * mul;\n    }\n    return val;\n};\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 1, this.length);\n    return this[offset];\n};\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 2, this.length);\n    return this[offset] | this[offset + 1] << 8;\n};\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 2, this.length);\n    return this[offset] << 8 | this[offset + 1];\n};\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 4, this.length);\n    return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;\n};\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 4, this.length);\n    return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert)\n        checkOffset(offset, byteLength, this.length);\n    var val = this[offset];\n    var mul = 1;\n    var i = 0;\n    while (++i < byteLength && (mul *= 256)) {\n        val += this[offset + i] * mul;\n    }\n    mul *= 128;\n    if (val >= mul)\n        val -= Math.pow(2, 8 * byteLength);\n    return val;\n};\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert)\n        checkOffset(offset, byteLength, this.length);\n    var i = byteLength;\n    var mul = 1;\n    var val = this[offset + --i];\n    while (i > 0 && (mul *= 256)) {\n        val += this[offset + --i] * mul;\n    }\n    mul *= 128;\n    if (val >= mul)\n        val -= Math.pow(2, 8 * byteLength);\n    return val;\n};\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 1, this.length);\n    if (!(this[offset] & 128))\n        return this[offset];\n    return (255 - this[offset] + 1) * -1;\n};\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 2, this.length);\n    var val = this[offset] | this[offset + 1] << 8;\n    return val & 32768 ? val | 4294901760 : val;\n};\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 2, this.length);\n    var val = this[offset + 1] | this[offset] << 8;\n    return val & 32768 ? val | 4294901760 : val;\n};\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 4, this.length);\n    return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 4, this.length);\n    return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 4, this.length);\n    return ieee754.read(this, offset, true, 23, 4);\n};\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 4, this.length);\n    return ieee754.read(this, offset, false, 23, 4);\n};\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 8, this.length);\n    return ieee754.read(this, offset, true, 52, 8);\n};\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n    if (!noAssert)\n        checkOffset(offset, 8, this.length);\n    return ieee754.read(this, offset, false, 52, 8);\n};\nfunction checkInt(buf, value, offset, ext, max, min) {\n    if (!Buffer.isBuffer(buf))\n        throw new TypeError('\"buffer\" argument must be a Buffer instance');\n    if (value > max || value < min)\n        throw new RangeError('\"value\" argument is out of bounds');\n    if (offset + ext > buf.length)\n        throw new RangeError('Index out of range');\n}\nBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) {\n        var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n        checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n    var mul = 1;\n    var i = 0;\n    this[offset] = value & 255;\n    while (++i < byteLength && (mul *= 256)) {\n        this[offset + i] = value / mul & 255;\n    }\n    return offset + byteLength;\n};\nBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    byteLength = byteLength | 0;\n    if (!noAssert) {\n        var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n        checkInt(this, value, offset, byteLength, maxBytes, 0);\n    }\n    var i = byteLength - 1;\n    var mul = 1;\n    this[offset + i] = value & 255;\n    while (--i >= 0 && (mul *= 256)) {\n        this[offset + i] = value / mul & 255;\n    }\n    return offset + byteLength;\n};\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 1, 255, 0);\n    if (!Buffer.TYPED_ARRAY_SUPPORT)\n        value = Math.floor(value);\n    this[offset] = value & 255;\n    return offset + 1;\n};\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n    if (value < 0)\n        value = 65535 + value + 1;\n    for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n        buf[offset + i] = (value & 255 << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n    }\n}\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 2, 65535, 0);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 255;\n        this[offset + 1] = value >>> 8;\n    } else {\n        objectWriteUInt16(this, value, offset, true);\n    }\n    return offset + 2;\n};\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 2, 65535, 0);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 8;\n        this[offset + 1] = value & 255;\n    } else {\n        objectWriteUInt16(this, value, offset, false);\n    }\n    return offset + 2;\n};\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n    if (value < 0)\n        value = 4294967295 + value + 1;\n    for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n        buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 255;\n    }\n}\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 4, 4294967295, 0);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset + 3] = value >>> 24;\n        this[offset + 2] = value >>> 16;\n        this[offset + 1] = value >>> 8;\n        this[offset] = value & 255;\n    } else {\n        objectWriteUInt32(this, value, offset, true);\n    }\n    return offset + 4;\n};\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 4, 4294967295, 0);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 24;\n        this[offset + 1] = value >>> 16;\n        this[offset + 2] = value >>> 8;\n        this[offset + 3] = value & 255;\n    } else {\n        objectWriteUInt32(this, value, offset, false);\n    }\n    return offset + 4;\n};\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) {\n        var limit = Math.pow(2, 8 * byteLength - 1);\n        checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n    var i = 0;\n    var mul = 1;\n    var sub = 0;\n    this[offset] = value & 255;\n    while (++i < byteLength && (mul *= 256)) {\n        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n            sub = 1;\n        }\n        this[offset + i] = (value / mul >> 0) - sub & 255;\n    }\n    return offset + byteLength;\n};\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert) {\n        var limit = Math.pow(2, 8 * byteLength - 1);\n        checkInt(this, value, offset, byteLength, limit - 1, -limit);\n    }\n    var i = byteLength - 1;\n    var mul = 1;\n    var sub = 0;\n    this[offset + i] = value & 255;\n    while (--i >= 0 && (mul *= 256)) {\n        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n            sub = 1;\n        }\n        this[offset + i] = (value / mul >> 0) - sub & 255;\n    }\n    return offset + byteLength;\n};\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 1, 127, -128);\n    if (!Buffer.TYPED_ARRAY_SUPPORT)\n        value = Math.floor(value);\n    if (value < 0)\n        value = 255 + value + 1;\n    this[offset] = value & 255;\n    return offset + 1;\n};\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 2, 32767, -32768);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 255;\n        this[offset + 1] = value >>> 8;\n    } else {\n        objectWriteUInt16(this, value, offset, true);\n    }\n    return offset + 2;\n};\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 2, 32767, -32768);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 8;\n        this[offset + 1] = value & 255;\n    } else {\n        objectWriteUInt16(this, value, offset, false);\n    }\n    return offset + 2;\n};\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 4, 2147483647, -2147483648);\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 255;\n        this[offset + 1] = value >>> 8;\n        this[offset + 2] = value >>> 16;\n        this[offset + 3] = value >>> 24;\n    } else {\n        objectWriteUInt32(this, value, offset, true);\n    }\n    return offset + 4;\n};\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n    value = +value;\n    offset = offset | 0;\n    if (!noAssert)\n        checkInt(this, value, offset, 4, 2147483647, -2147483648);\n    if (value < 0)\n        value = 4294967295 + value + 1;\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 24;\n        this[offset + 1] = value >>> 16;\n        this[offset + 2] = value >>> 8;\n        this[offset + 3] = value & 255;\n    } else {\n        objectWriteUInt32(this, value, offset, false);\n    }\n    return offset + 4;\n};\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n    if (offset + ext > buf.length)\n        throw new RangeError('Index out of range');\n    if (offset < 0)\n        throw new RangeError('Index out of range');\n}\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n    if (!noAssert) {\n        checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n    }\n    ieee754.write(buf, value, offset, littleEndian, 23, 4);\n    return offset + 4;\n}\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, true, noAssert);\n};\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, false, noAssert);\n};\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n    if (!noAssert) {\n        checkIEEE754(buf, value, offset, 8, 1.7976931348623157e+308, -1.7976931348623157e+308);\n    }\n    ieee754.write(buf, value, offset, littleEndian, 52, 8);\n    return offset + 8;\n}\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n    return writeDouble(this, value, offset, true, noAssert);\n};\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n    return writeDouble(this, value, offset, false, noAssert);\n};\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!start)\n        start = 0;\n    if (!end && end !== 0)\n        end = this.length;\n    if (targetStart >= target.length)\n        targetStart = target.length;\n    if (!targetStart)\n        targetStart = 0;\n    if (end > 0 && end < start)\n        end = start;\n    // Copy 0 bytes; we're done\n    if (end === start)\n        return 0;\n    if (target.length === 0 || this.length === 0)\n        return 0;\n    // Fatal error conditions\n    if (targetStart < 0) {\n        throw new RangeError('targetStart out of bounds');\n    }\n    if (start < 0 || start >= this.length)\n        throw new RangeError('sourceStart out of bounds');\n    if (end < 0)\n        throw new RangeError('sourceEnd out of bounds');\n    // Are we oob?\n    if (end > this.length)\n        end = this.length;\n    if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start;\n    }\n    var len = end - start;\n    var i;\n    if (this === target && start < targetStart && targetStart < end) {\n        // descending copy from end\n        for (i = len - 1; i >= 0; --i) {\n            target[i + targetStart] = this[i + start];\n        }\n    } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n        // ascending copy from start\n        for (i = 0; i < len; ++i) {\n            target[i + targetStart] = this[i + start];\n        }\n    } else {\n        Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n    }\n    return len;\n};\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n    // Handle string cases:\n    if (typeof val === 'string') {\n        if (typeof start === 'string') {\n            encoding = start;\n            start = 0;\n            end = this.length;\n        } else if (typeof end === 'string') {\n            encoding = end;\n            end = this.length;\n        }\n        if (val.length === 1) {\n            var code = val.charCodeAt(0);\n            if (code < 256) {\n                val = code;\n            }\n        }\n        if (encoding !== undefined && typeof encoding !== 'string') {\n            throw new TypeError('encoding must be a string');\n        }\n        if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n            throw new TypeError('Unknown encoding: ' + encoding);\n        }\n    } else if (typeof val === 'number') {\n        val = val & 255;\n    }\n    // Invalid ranges are not set to a default, so can range check early.\n    if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError('Out of range index');\n    }\n    if (end <= start) {\n        return this;\n    }\n    start = start >>> 0;\n    end = end === undefined ? this.length : end >>> 0;\n    if (!val)\n        val = 0;\n    var i;\n    if (typeof val === 'number') {\n        for (i = start; i < end; ++i) {\n            this[i] = val;\n        }\n    } else {\n        var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n        var len = bytes.length;\n        for (i = 0; i < end - start; ++i) {\n            this[i + start] = bytes[i % len];\n        }\n    }\n    return this;\n};\n// HELPER FUNCTIONS\n// ================\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\nfunction base64clean(str) {\n    // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n    str = stringtrim(str).replace(INVALID_BASE64_RE, '');\n    // Node converts strings with length < 2 to ''\n    if (str.length < 2)\n        return '';\n    // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n    while (str.length % 4 !== 0) {\n        str = str + '=';\n    }\n    return str;\n}\nfunction stringtrim(str) {\n    if (str.trim)\n        return str.trim();\n    return str.replace(/^\\s+|\\s+$/g, '');\n}\nfunction toHex(n) {\n    if (n < 16)\n        return '0' + n.toString(16);\n    return n.toString(16);\n}\nfunction utf8ToBytes(string, units) {\n    units = units || Infinity;\n    var codePoint;\n    var length = string.length;\n    var leadSurrogate = null;\n    var bytes = [];\n    for (var i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i);\n        // is surrogate component\n        if (codePoint > 55295 && codePoint < 57344) {\n            // last char was a lead\n            if (!leadSurrogate) {\n                // no lead yet\n                if (codePoint > 56319) {\n                    // unexpected trail\n                    if ((units -= 3) > -1)\n                        bytes.push(239, 191, 189);\n                    continue;\n                } else if (i + 1 === length) {\n                    // unpaired lead\n                    if ((units -= 3) > -1)\n                        bytes.push(239, 191, 189);\n                    continue;\n                }\n                // valid lead\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // 2 leads in a row\n            if (codePoint < 56320) {\n                if ((units -= 3) > -1)\n                    bytes.push(239, 191, 189);\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // valid surrogate pair\n            codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n        } else if (leadSurrogate) {\n            // valid bmp char, but last char was a lead\n            if ((units -= 3) > -1)\n                bytes.push(239, 191, 189);\n        }\n        leadSurrogate = null;\n        // encode utf8\n        if (codePoint < 128) {\n            if ((units -= 1) < 0)\n                break;\n            bytes.push(codePoint);\n        } else if (codePoint < 2048) {\n            if ((units -= 2) < 0)\n                break;\n            bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);\n        } else if (codePoint < 65536) {\n            if ((units -= 3) < 0)\n                break;\n            bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n        } else if (codePoint < 1114112) {\n            if ((units -= 4) < 0)\n                break;\n            bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n        } else {\n            throw new Error('Invalid code point');\n        }\n    }\n    return bytes;\n}\nfunction asciiToBytes(str) {\n    var byteArray = [];\n    for (var i = 0; i < str.length; ++i) {\n        // Node's code seems to be doing this and not & 0x7F..\n        byteArray.push(str.charCodeAt(i) & 255);\n    }\n    return byteArray;\n}\nfunction utf16leToBytes(str, units) {\n    var c, hi, lo;\n    var byteArray = [];\n    for (var i = 0; i < str.length; ++i) {\n        if ((units -= 2) < 0)\n            break;\n        c = str.charCodeAt(i);\n        hi = c >> 8;\n        lo = c % 256;\n        byteArray.push(lo);\n        byteArray.push(hi);\n    }\n    return byteArray;\n}\nfunction base64ToBytes(str) {\n    return base64.toByteArray(base64clean(str));\n}\nfunction blitBuffer(src, dst, offset, length) {\n    for (var i = 0; i < length; ++i) {\n        if (i + offset >= dst.length || i >= src.length)\n            break;\n        dst[i + offset] = src[i];\n    }\n    return i;\n}\nfunction isnan(val) {\n    return val !== val    // eslint-disable-line no-self-compare\n;\n}","/* global TransformStream */\n\nexport function transformStream(readable, transformer, oncancel) {\n  try {\n    return readable.pipeThrough(new TransformStream(transformer));\n  } catch (e) {\n    const reader = readable.getReader();\n    return new ReadableStream({\n      start(controller) {\n        if (transformer.start) {\n          return transformer.start(controller);\n        }\n      },\n      async pull(controller) {\n        let enqueued = false;\n        const wrappedController = {\n          enqueue(d) {\n            enqueued = true;\n            controller.enqueue(d);\n          }\n        };\n        while (!enqueued) {\n          const data = await reader.read();\n          if (data.done) {\n            if (transformer.flush) {\n              await transformer.flush(controller);\n            }\n            return controller.close();\n          }\n          await transformer.transform(data.value, wrappedController);\n        }\n      },\n      cancel(reason) {\n        readable.cancel(reason);\n        if (oncancel) {\n          oncancel(reason);\n        }\n      }\n    });\n  }\n}\n\nclass BlobStreamController {\n  constructor(blob, size) {\n    this.blob = blob;\n    this.index = 0;\n    this.chunkSize = size || 1024 * 64;\n  }\n\n  pull(controller) {\n    return new Promise((resolve, reject) => {\n      const bytesLeft = this.blob.size - this.index;\n      if (bytesLeft <= 0) {\n        controller.close();\n        return resolve();\n      }\n      const size = Math.min(this.chunkSize, bytesLeft);\n      const slice = this.blob.slice(this.index, this.index + size);\n      const reader = new FileReader();\n      reader.onload = () => {\n        controller.enqueue(new Uint8Array(reader.result));\n        resolve();\n      };\n      reader.onerror = reject;\n      reader.readAsArrayBuffer(slice);\n      this.index += size;\n    });\n  }\n}\n\nexport function blobStream(blob, size) {\n  return new ReadableStream(new BlobStreamController(blob, size));\n}\n\nclass ConcatStreamController {\n  constructor(streams) {\n    this.streams = streams;\n    this.index = 0;\n    this.reader = null;\n    this.nextReader();\n  }\n\n  nextReader() {\n    const next = this.streams[this.index++];\n    this.reader = next && next.getReader();\n  }\n\n  async pull(controller) {\n    if (!this.reader) {\n      return controller.close();\n    }\n    const data = await this.reader.read();\n    if (data.done) {\n      this.nextReader();\n      return this.pull(controller);\n    }\n    controller.enqueue(data.value);\n  }\n}\n\nexport function concatStream(streams) {\n  return new ReadableStream(new ConcatStreamController(streams));\n}\n","import storage from './storage';\nimport { platform, locale } from './utils';\nimport { sendMetrics } from './api';\n\nlet appState = null;\nlet experiment = null;\nconst HOUR = 1000 * 60 * 60;\nconst events = [];\nlet session_id = Date.now();\nconst lang = locale();\n\nexport default function initialize(state, emitter) {\n  appState = state;\n\n  emitter.on('DOMContentLoaded', () => {\n    experiment = storage.enrolled;\n    if (!appState.user.firstAction) {\n      appState.user.firstAction =\n        appState.route === '/' ? 'upload' : 'download';\n    }\n    const query = appState.query;\n    addEvent('client_visit', {\n      entrypoint: appState.route === '/' ? 'upload' : 'download',\n      referrer: document.referrer,\n      utm_campaign: query.utm_campaign,\n      utm_content: query.utm_content,\n      utm_medium: query.utm_medium,\n      utm_source: query.utm_source,\n      utm_term: query.utm_term\n    });\n  });\n  emitter.on('experiment', experimentEvent);\n  window.addEventListener('unload', submitEvents);\n}\n\nfunction sizeOrder(n) {\n  return Math.floor(Math.log10(n));\n}\n\nfunction submitEvents() {\n  if (navigator.doNotTrack === '1') {\n    return;\n  }\n  sendMetrics(\n    new Blob(\n      [\n        JSON.stringify({\n          now: Date.now(),\n          session_id,\n          lang,\n          platform: platform(),\n          events\n        })\n      ],\n      { type: 'text/plain' } // see http://crbug.com/490015\n    )\n  );\n  events.splice(0);\n}\n\nasync function addEvent(event_type, event_properties) {\n  const user_id = await appState.user.metricId();\n  const device_id = await appState.user.deviceId();\n  const ab_id = Object.keys(experiment)[0];\n  if (ab_id) {\n    event_properties.experiment = ab_id;\n    event_properties.variant = experiment[ab_id];\n  }\n  events.push({\n    device_id,\n    event_properties,\n    event_type,\n    time: Date.now(),\n    user_id,\n    user_properties: {\n      anonymous: !appState.user.loggedIn,\n      first_action: appState.user.firstAction,\n      active_count: storage.files.length\n    }\n  });\n  if (events.length === 25) {\n    submitEvents();\n  }\n}\n\nfunction cancelledUpload(archive, duration) {\n  return addEvent('client_upload', {\n    download_limit: archive.dlimit,\n    duration: sizeOrder(duration),\n    file_count: archive.numFiles,\n    password_protected: !!archive.password,\n    size: sizeOrder(archive.size),\n    status: 'cancel',\n    time_limit: archive.timeLimit\n  });\n}\n\nfunction completedUpload(archive, duration) {\n  return addEvent('client_upload', {\n    download_limit: archive.dlimit,\n    duration: sizeOrder(duration),\n    file_count: archive.numFiles,\n    password_protected: !!archive.password,\n    size: sizeOrder(archive.size),\n    status: 'ok',\n    time_limit: archive.timeLimit\n  });\n}\n\nfunction stoppedUpload(archive, duration = 0) {\n  return addEvent('client_upload', {\n    download_limit: archive.dlimit,\n    duration: sizeOrder(duration),\n    file_count: archive.numFiles,\n    password_protected: !!archive.password,\n    size: sizeOrder(archive.size),\n    status: 'error',\n    time_limit: archive.timeLimit\n  });\n}\n\nfunction stoppedDownload(params) {\n  return addEvent('client_download', {\n    duration: sizeOrder(params.duration),\n    password_protected: params.password_protected,\n    size: sizeOrder(params.size),\n    status: 'error'\n  });\n}\n\nfunction completedDownload(params) {\n  return addEvent('client_download', {\n    duration: sizeOrder(params.duration),\n    password_protected: params.password_protected,\n    size: sizeOrder(params.size),\n    status: 'ok'\n  });\n}\n\nfunction deletedUpload(ownedFile) {\n  return addEvent('client_delete', {\n    age: Math.floor((Date.now() - ownedFile.createdAt) / HOUR),\n    downloaded: ownedFile.dtotal > 0,\n    status: 'ok'\n  });\n}\n\nfunction experimentEvent(params) {\n  return addEvent('client_experiment', params);\n}\n\nfunction submittedSignup(params) {\n  return addEvent('client_login', {\n    status: 'ok',\n    trigger: params.trigger\n  });\n}\n\nfunction canceledSignup(params) {\n  return addEvent('client_login', {\n    status: 'cancel',\n    trigger: params.trigger\n  });\n}\n\nfunction loggedOut(params) {\n  addEvent('client_logout', {\n    status: 'ok',\n    trigger: params.trigger\n  });\n  // flush events and start new anon session\n  submitEvents();\n  session_id = Date.now();\n}\n\nexport {\n  cancelledUpload,\n  stoppedUpload,\n  completedUpload,\n  deletedUpload,\n  stoppedDownload,\n  completedDownload,\n  submittedSignup,\n  canceledSignup,\n  loggedOut\n};\n","var originalFunctionToString;\n/** Patch toString calls to return proper name for wrapped functions */\nvar FunctionToString = /** @class */ (function () {\n    function FunctionToString() {\n        /**\n         * @inheritDoc\n         */\n        this.name = FunctionToString.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    FunctionToString.prototype.setupOnce = function () {\n        originalFunctionToString = Function.prototype.toString;\n        Function.prototype.toString = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var context = this.__sentry__ ? this.__sentry_original__ : this;\n            // tslint:disable-next-line:no-unsafe-any\n            return originalFunctionToString.apply(context, args);\n        };\n    };\n    /**\n     * @inheritDoc\n     */\n    FunctionToString.id = 'FunctionToString';\n    return FunctionToString;\n}());\nexport { FunctionToString };\n//# sourceMappingURL=functiontostring.js.map","import * as tslib_1 from \"tslib\";\nimport { addGlobalEventProcessor, getCurrentHub } from '@sentry/hub';\nimport { getEventDescription, isMatchingPattern, logger } from '@sentry/utils';\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nvar DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n/** Inbound filters configurable by the user */\nvar InboundFilters = /** @class */ (function () {\n    function InboundFilters(_options) {\n        if (_options === void 0) { _options = {}; }\n        this._options = _options;\n        /**\n         * @inheritDoc\n         */\n        this.name = InboundFilters.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    InboundFilters.prototype.setupOnce = function () {\n        addGlobalEventProcessor(function (event) {\n            var hub = getCurrentHub();\n            if (!hub) {\n                return event;\n            }\n            var self = hub.getIntegration(InboundFilters);\n            if (self) {\n                var client = hub.getClient();\n                var clientOptions = client ? client.getOptions() : {};\n                var options = self._mergeOptions(clientOptions);\n                if (self._shouldDropEvent(event, options)) {\n                    return null;\n                }\n            }\n            return event;\n        });\n    };\n    /** JSDoc */\n    InboundFilters.prototype._shouldDropEvent = function (event, options) {\n        if (this._isSentryError(event, options)) {\n            logger.warn(\"Event dropped due to being internal Sentry Error.\\nEvent: \" + getEventDescription(event));\n            return true;\n        }\n        if (this._isIgnoredError(event, options)) {\n            logger.warn(\"Event dropped due to being matched by `ignoreErrors` option.\\nEvent: \" + getEventDescription(event));\n            return true;\n        }\n        if (this._isBlacklistedUrl(event, options)) {\n            logger.warn(\"Event dropped due to being matched by `blacklistUrls` option.\\nEvent: \" + getEventDescription(event) + \".\\nUrl: \" + this._getEventFilterUrl(event));\n            return true;\n        }\n        if (!this._isWhitelistedUrl(event, options)) {\n            logger.warn(\"Event dropped due to not being matched by `whitelistUrls` option.\\nEvent: \" + getEventDescription(event) + \".\\nUrl: \" + this._getEventFilterUrl(event));\n            return true;\n        }\n        return false;\n    };\n    /** JSDoc */\n    InboundFilters.prototype._isSentryError = function (event, options) {\n        if (options === void 0) { options = {}; }\n        if (!options.ignoreInternal) {\n            return false;\n        }\n        try {\n            return ((event &&\n                event.exception &&\n                event.exception.values &&\n                event.exception.values[0] &&\n                event.exception.values[0].type === 'SentryError') ||\n                false);\n        }\n        catch (_oO) {\n            return false;\n        }\n    };\n    /** JSDoc */\n    InboundFilters.prototype._isIgnoredError = function (event, options) {\n        if (options === void 0) { options = {}; }\n        if (!options.ignoreErrors || !options.ignoreErrors.length) {\n            return false;\n        }\n        return this._getPossibleEventMessages(event).some(function (message) {\n            // Not sure why TypeScript complains here...\n            return options.ignoreErrors.some(function (pattern) { return isMatchingPattern(message, pattern); });\n        });\n    };\n    /** JSDoc */\n    InboundFilters.prototype._isBlacklistedUrl = function (event, options) {\n        if (options === void 0) { options = {}; }\n        // TODO: Use Glob instead?\n        if (!options.blacklistUrls || !options.blacklistUrls.length) {\n            return false;\n        }\n        var url = this._getEventFilterUrl(event);\n        return !url ? false : options.blacklistUrls.some(function (pattern) { return isMatchingPattern(url, pattern); });\n    };\n    /** JSDoc */\n    InboundFilters.prototype._isWhitelistedUrl = function (event, options) {\n        if (options === void 0) { options = {}; }\n        // TODO: Use Glob instead?\n        if (!options.whitelistUrls || !options.whitelistUrls.length) {\n            return true;\n        }\n        var url = this._getEventFilterUrl(event);\n        return !url ? true : options.whitelistUrls.some(function (pattern) { return isMatchingPattern(url, pattern); });\n    };\n    /** JSDoc */\n    InboundFilters.prototype._mergeOptions = function (clientOptions) {\n        if (clientOptions === void 0) { clientOptions = {}; }\n        return {\n            blacklistUrls: tslib_1.__spread((this._options.blacklistUrls || []), (clientOptions.blacklistUrls || [])),\n            ignoreErrors: tslib_1.__spread((this._options.ignoreErrors || []), (clientOptions.ignoreErrors || []), DEFAULT_IGNORE_ERRORS),\n            ignoreInternal: typeof this._options.ignoreInternal !== 'undefined' ? this._options.ignoreInternal : true,\n            whitelistUrls: tslib_1.__spread((this._options.whitelistUrls || []), (clientOptions.whitelistUrls || [])),\n        };\n    };\n    /** JSDoc */\n    InboundFilters.prototype._getPossibleEventMessages = function (event) {\n        if (event.message) {\n            return [event.message];\n        }\n        if (event.exception) {\n            try {\n                var _a = (event.exception.values && event.exception.values[0]) || {}, _b = _a.type, type = _b === void 0 ? '' : _b, _c = _a.value, value = _c === void 0 ? '' : _c;\n                return [\"\" + value, type + \": \" + value];\n            }\n            catch (oO) {\n                logger.error(\"Cannot extract message for event \" + getEventDescription(event));\n                return [];\n            }\n        }\n        return [];\n    };\n    /** JSDoc */\n    InboundFilters.prototype._getEventFilterUrl = function (event) {\n        try {\n            if (event.stacktrace) {\n                var frames_1 = event.stacktrace.frames;\n                return (frames_1 && frames_1[frames_1.length - 1].filename) || null;\n            }\n            if (event.exception) {\n                var frames_2 = event.exception.values && event.exception.values[0].stacktrace && event.exception.values[0].stacktrace.frames;\n                return (frames_2 && frames_2[frames_2.length - 1].filename) || null;\n            }\n            return null;\n        }\n        catch (oO) {\n            logger.error(\"Cannot extract url for event \" + getEventDescription(event));\n            return null;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    InboundFilters.id = 'InboundFilters';\n    return InboundFilters;\n}());\nexport { InboundFilters };\n//# sourceMappingURL=inboundfilters.js.map","export { addBreadcrumb, captureException, captureEvent, captureMessage, configureScope, setContext, setExtra, setExtras, setTag, setTags, setUser, withScope, } from '@sentry/minimal';\nexport { addGlobalEventProcessor, getCurrentHub, getHubFromCarrier, Hub, Scope, Span } from '@sentry/hub';\nexport { API } from './api';\nexport { BaseClient } from './baseclient';\nexport { BaseBackend } from './basebackend';\nexport { Dsn } from './dsn';\nexport { initAndBind } from './sdk';\nexport { NoopTransport } from './transports/noop';\nimport * as Integrations from './integrations';\nexport { Integrations };\n//# sourceMappingURL=index.js.map","import { arrayToB64, isFile } from './utils';\nimport OwnedFile from './ownedFile';\n\nclass Mem {\n  constructor() {\n    this.items = new Map();\n  }\n\n  get length() {\n    return this.items.size;\n  }\n\n  getItem(key) {\n    return this.items.get(key);\n  }\n\n  setItem(key, value) {\n    return this.items.set(key, value);\n  }\n\n  removeItem(key) {\n    return this.items.delete(key);\n  }\n\n  key(i) {\n    return this.items.keys()[i];\n  }\n}\n\nclass Storage {\n  constructor() {\n    try {\n      this.engine = localStorage || new Mem();\n    } catch (e) {\n      this.engine = new Mem();\n    }\n    this._files = this.loadFiles();\n  }\n\n  loadFiles() {\n    const fs = new Map();\n    for (let i = 0; i < this.engine.length; i++) {\n      const k = this.engine.key(i);\n      if (isFile(k)) {\n        try {\n          const f = new OwnedFile(JSON.parse(this.engine.getItem(k)));\n          if (!f.id) {\n            f.id = f.fileId;\n          }\n\n          fs.set(f.id, f);\n        } catch (err) {\n          // obviously you're not a golfer\n          this.engine.removeItem(k);\n        }\n      }\n    }\n    return fs;\n  }\n\n  get id() {\n    let id = this.engine.getItem('device_id');\n    if (!id) {\n      id = arrayToB64(crypto.getRandomValues(new Uint8Array(16)));\n      this.engine.setItem('device_id', id);\n    }\n    return id;\n  }\n\n  get totalDownloads() {\n    return Number(this.engine.getItem('totalDownloads'));\n  }\n  set totalDownloads(n) {\n    this.engine.setItem('totalDownloads', n);\n  }\n  get totalUploads() {\n    return Number(this.engine.getItem('totalUploads'));\n  }\n  set totalUploads(n) {\n    this.engine.setItem('totalUploads', n);\n  }\n  get referrer() {\n    return this.engine.getItem('referrer');\n  }\n  set referrer(str) {\n    this.engine.setItem('referrer', str);\n  }\n  get enrolled() {\n    return JSON.parse(this.engine.getItem('ab_experiments') || '{}');\n  }\n\n  enroll(id, variant) {\n    const enrolled = {};\n    enrolled[id] = variant;\n    this.engine.setItem('ab_experiments', JSON.stringify(enrolled));\n  }\n\n  get files() {\n    return Array.from(this._files.values()).sort(\n      (a, b) => a.createdAt - b.createdAt\n    );\n  }\n\n  get user() {\n    try {\n      return JSON.parse(this.engine.getItem('user'));\n    } catch (e) {\n      return null;\n    }\n  }\n\n  set user(info) {\n    return this.engine.setItem('user', JSON.stringify(info));\n  }\n\n  getFileById(id) {\n    return this._files.get(id);\n  }\n\n  get(id) {\n    return this.engine.getItem(id);\n  }\n\n  set(id, value) {\n    return this.engine.setItem(id, value);\n  }\n\n  remove(property) {\n    if (isFile(property)) {\n      this._files.delete(property);\n    }\n    this.engine.removeItem(property);\n  }\n\n  addFile(file) {\n    this._files.set(file.id, file);\n    this.writeFile(file);\n  }\n\n  writeFile(file) {\n    this.engine.setItem(file.id, JSON.stringify(file));\n  }\n\n  writeFiles() {\n    this._files.forEach(f => this.writeFile(f));\n  }\n\n  clearLocalFiles() {\n    this._files.forEach(f => this.engine.removeItem(f.id));\n    this._files = new Map();\n  }\n\n  async merge(files = []) {\n    let incoming = false;\n    let outgoing = false;\n    let downloadCount = false;\n    for (const f of files) {\n      if (!this.getFileById(f.id)) {\n        this.addFile(new OwnedFile(f));\n        incoming = true;\n      }\n    }\n    const workingFiles = this.files.slice();\n    for (const f of workingFiles) {\n      const cc = await f.updateDownloadCount();\n      if (cc) {\n        await this.writeFile(f);\n      }\n      downloadCount = downloadCount || cc;\n      outgoing = outgoing || f.expired;\n      if (f.expired) {\n        this.remove(f.id);\n      } else if (!files.find(x => x.id === f.id)) {\n        outgoing = true;\n      }\n    }\n    return {\n      incoming,\n      outgoing,\n      downloadCount\n    };\n  }\n}\n\nexport default new Storage();\n","import 'buffer';\nimport { transformStream } from './streams';\n\nconst NONCE_LENGTH = 12;\nconst TAG_LENGTH = 16;\nconst KEY_LENGTH = 16;\nconst MODE_ENCRYPT = 'encrypt';\nconst MODE_DECRYPT = 'decrypt';\nexport const ECE_RECORD_SIZE = 1024 * 64;\n\nconst encoder = new TextEncoder();\n\nfunction generateSalt(len) {\n  const randSalt = new Uint8Array(len);\n  crypto.getRandomValues(randSalt);\n  return randSalt.buffer;\n}\n\nclass ECETransformer {\n  constructor(mode, ikm, rs, salt) {\n    this.mode = mode;\n    this.prevChunk;\n    this.seq = 0;\n    this.firstchunk = true;\n    this.rs = rs;\n    this.ikm = ikm.buffer;\n    this.salt = salt;\n  }\n\n  async generateKey() {\n    const inputKey = await crypto.subtle.importKey(\n      'raw',\n      this.ikm,\n      'HKDF',\n      false,\n      ['deriveKey']\n    );\n\n    return crypto.subtle.deriveKey(\n      {\n        name: 'HKDF',\n        salt: this.salt,\n        info: encoder.encode('Content-Encoding: aes128gcm\\0'),\n        hash: 'SHA-256'\n      },\n      inputKey,\n      {\n        name: 'AES-GCM',\n        length: 128\n      },\n      true, // Edge polyfill requires key to be extractable to encrypt :/\n      ['encrypt', 'decrypt']\n    );\n  }\n\n  async generateNonceBase() {\n    const inputKey = await crypto.subtle.importKey(\n      'raw',\n      this.ikm,\n      'HKDF',\n      false,\n      ['deriveKey']\n    );\n\n    const base = await crypto.subtle.exportKey(\n      'raw',\n      await crypto.subtle.deriveKey(\n        {\n          name: 'HKDF',\n          salt: this.salt,\n          info: encoder.encode('Content-Encoding: nonce\\0'),\n          hash: 'SHA-256'\n        },\n        inputKey,\n        {\n          name: 'AES-GCM',\n          length: 128\n        },\n        true,\n        ['encrypt', 'decrypt']\n      )\n    );\n\n    return Buffer.from(base.slice(0, NONCE_LENGTH));\n  }\n\n  generateNonce(seq) {\n    if (seq > 0xffffffff) {\n      throw new Error('record sequence number exceeds limit');\n    }\n    const nonce = Buffer.from(this.nonceBase);\n    const m = nonce.readUIntBE(nonce.length - 4, 4);\n    const xor = (m ^ seq) >>> 0; //forces unsigned int xor\n    nonce.writeUIntBE(xor, nonce.length - 4, 4);\n\n    return nonce;\n  }\n\n  pad(data, isLast) {\n    const len = data.length;\n    if (len + TAG_LENGTH >= this.rs) {\n      throw new Error('data too large for record size');\n    }\n\n    if (isLast) {\n      const padding = Buffer.alloc(1);\n      padding.writeUInt8(2, 0);\n      return Buffer.concat([data, padding]);\n    } else {\n      const padding = Buffer.alloc(this.rs - len - TAG_LENGTH);\n      padding.fill(0);\n      padding.writeUInt8(1, 0);\n      return Buffer.concat([data, padding]);\n    }\n  }\n\n  unpad(data, isLast) {\n    for (let i = data.length - 1; i >= 0; i--) {\n      if (data[i]) {\n        if (isLast) {\n          if (data[i] !== 2) {\n            throw new Error('delimiter of final record is not 2');\n          }\n        } else {\n          if (data[i] !== 1) {\n            throw new Error('delimiter of not final record is not 1');\n          }\n        }\n        return data.slice(0, i);\n      }\n    }\n    throw new Error('no delimiter found');\n  }\n\n  createHeader() {\n    const nums = Buffer.alloc(5);\n    nums.writeUIntBE(this.rs, 0, 4);\n    nums.writeUIntBE(0, 4, 1);\n    return Buffer.concat([Buffer.from(this.salt), nums]);\n  }\n\n  readHeader(buffer) {\n    if (buffer.length < 21) {\n      throw new Error('chunk too small for reading header');\n    }\n    const header = {};\n    header.salt = buffer.buffer.slice(0, KEY_LENGTH);\n    header.rs = buffer.readUIntBE(KEY_LENGTH, 4);\n    const idlen = buffer.readUInt8(KEY_LENGTH + 4);\n    header.length = idlen + KEY_LENGTH + 5;\n    return header;\n  }\n\n  async encryptRecord(buffer, seq, isLast) {\n    const nonce = this.generateNonce(seq);\n    const encrypted = await crypto.subtle.encrypt(\n      { name: 'AES-GCM', iv: nonce },\n      this.key,\n      this.pad(buffer, isLast)\n    );\n    return Buffer.from(encrypted);\n  }\n\n  async decryptRecord(buffer, seq, isLast) {\n    const nonce = this.generateNonce(seq);\n    const data = await crypto.subtle.decrypt(\n      {\n        name: 'AES-GCM',\n        iv: nonce,\n        tagLength: 128\n      },\n      this.key,\n      buffer\n    );\n\n    return this.unpad(Buffer.from(data), isLast);\n  }\n\n  async start(controller) {\n    if (this.mode === MODE_ENCRYPT) {\n      this.key = await this.generateKey();\n      this.nonceBase = await this.generateNonceBase();\n      controller.enqueue(this.createHeader());\n    } else if (this.mode !== MODE_DECRYPT) {\n      throw new Error('mode must be either encrypt or decrypt');\n    }\n  }\n\n  async transformPrevChunk(isLast, controller) {\n    if (this.mode === MODE_ENCRYPT) {\n      controller.enqueue(\n        await this.encryptRecord(this.prevChunk, this.seq, isLast)\n      );\n      this.seq++;\n    } else {\n      if (this.seq === 0) {\n        //the first chunk during decryption contains only the header\n        const header = this.readHeader(this.prevChunk);\n        this.salt = header.salt;\n        this.rs = header.rs;\n        this.key = await this.generateKey();\n        this.nonceBase = await this.generateNonceBase();\n      } else {\n        controller.enqueue(\n          await this.decryptRecord(this.prevChunk, this.seq - 1, isLast)\n        );\n      }\n      this.seq++;\n    }\n  }\n\n  async transform(chunk, controller) {\n    if (!this.firstchunk) {\n      await this.transformPrevChunk(false, controller);\n    }\n    this.firstchunk = false;\n    this.prevChunk = Buffer.from(chunk.buffer);\n  }\n\n  async flush(controller) {\n    //console.log('ece stream ends')\n    if (this.prevChunk) {\n      await this.transformPrevChunk(true, controller);\n    }\n  }\n}\n\nclass StreamSlicer {\n  constructor(rs, mode) {\n    this.mode = mode;\n    this.rs = rs;\n    this.chunkSize = mode === MODE_ENCRYPT ? rs - 17 : 21;\n    this.partialChunk = new Uint8Array(this.chunkSize); //where partial chunks are saved\n    this.offset = 0;\n  }\n\n  send(buf, controller) {\n    controller.enqueue(buf);\n    if (this.chunkSize === 21 && this.mode === MODE_DECRYPT) {\n      this.chunkSize = this.rs;\n    }\n    this.partialChunk = new Uint8Array(this.chunkSize);\n    this.offset = 0;\n  }\n\n  //reslice input into record sized chunks\n  transform(chunk, controller) {\n    //console.log('Received chunk with %d bytes.', chunk.byteLength)\n    let i = 0;\n\n    if (this.offset > 0) {\n      const len = Math.min(chunk.byteLength, this.chunkSize - this.offset);\n      this.partialChunk.set(chunk.slice(0, len), this.offset);\n      this.offset += len;\n      i += len;\n\n      if (this.offset === this.chunkSize) {\n        this.send(this.partialChunk, controller);\n      }\n    }\n\n    while (i < chunk.byteLength) {\n      const remainingBytes = chunk.byteLength - i;\n      if (remainingBytes >= this.chunkSize) {\n        const record = chunk.slice(i, i + this.chunkSize);\n        i += this.chunkSize;\n        this.send(record, controller);\n      } else {\n        const end = chunk.slice(i, i + remainingBytes);\n        i += end.byteLength;\n        this.partialChunk.set(end);\n        this.offset = end.byteLength;\n      }\n    }\n  }\n\n  flush(controller) {\n    if (this.offset > 0) {\n      controller.enqueue(this.partialChunk.slice(0, this.offset));\n    }\n  }\n}\n\n/*\ninput: a ReadableStream containing data to be transformed\nkey:  Uint8Array containing key of size KEY_LENGTH\nrs:   int containing record size, optional\nsalt: ArrayBuffer containing salt of KEY_LENGTH length, optional\n*/\nexport function encryptStream(\n  input,\n  key,\n  rs = ECE_RECORD_SIZE,\n  salt = generateSalt(KEY_LENGTH)\n) {\n  const mode = 'encrypt';\n  const inputStream = transformStream(input, new StreamSlicer(rs, mode));\n  return transformStream(inputStream, new ECETransformer(mode, key, rs, salt));\n}\n\n/*\ninput: a ReadableStream containing data to be transformed\nkey:  Uint8Array containing key of size KEY_LENGTH\nrs:   int containing record size, optional\n*/\nexport function decryptStream(input, key, rs = ECE_RECORD_SIZE) {\n  const mode = 'decrypt';\n  const inputStream = transformStream(input, new StreamSlicer(rs, mode));\n  return transformStream(inputStream, new ECETransformer(mode, key, rs));\n}\n","import { isThenable } from './is';\n/** SyncPromise internal states */\nvar States;\n(function (States) {\n    /** Pending */\n    States[\"PENDING\"] = \"PENDING\";\n    /** Resolved / OK */\n    States[\"RESOLVED\"] = \"RESOLVED\";\n    /** Rejected / Error */\n    States[\"REJECTED\"] = \"REJECTED\";\n})(States || (States = {}));\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nvar SyncPromise = /** @class */ (function () {\n    function SyncPromise(executor) {\n        var _this = this;\n        this._state = States.PENDING;\n        this._handlers = [];\n        /** JSDoc */\n        this._resolve = function (value) {\n            _this._setResult(States.RESOLVED, value);\n        };\n        /** JSDoc */\n        this._reject = function (reason) {\n            _this._setResult(States.REJECTED, reason);\n        };\n        /** JSDoc */\n        this._setResult = function (state, value) {\n            if (_this._state !== States.PENDING) {\n                return;\n            }\n            if (isThenable(value)) {\n                value.then(_this._resolve, _this._reject);\n                return;\n            }\n            _this._state = state;\n            _this._value = value;\n            _this._executeHandlers();\n        };\n        // TODO: FIXME\n        /** JSDoc */\n        this._attachHandler = function (handler) {\n            _this._handlers = _this._handlers.concat(handler);\n            _this._executeHandlers();\n        };\n        /** JSDoc */\n        this._executeHandlers = function () {\n            if (_this._state === States.PENDING) {\n                return;\n            }\n            if (_this._state === States.REJECTED) {\n                _this._handlers.forEach(function (handler) {\n                    if (handler.onrejected) {\n                        handler.onrejected(_this._value);\n                    }\n                });\n            }\n            else {\n                _this._handlers.forEach(function (handler) {\n                    if (handler.onfulfilled) {\n                        // tslint:disable-next-line:no-unsafe-any\n                        handler.onfulfilled(_this._value);\n                    }\n                });\n            }\n            _this._handlers = [];\n        };\n        try {\n            executor(this._resolve, this._reject);\n        }\n        catch (e) {\n            this._reject(e);\n        }\n    }\n    /** JSDoc */\n    SyncPromise.prototype.toString = function () {\n        return '[object SyncPromise]';\n    };\n    /** JSDoc */\n    SyncPromise.resolve = function (value) {\n        return new SyncPromise(function (resolve) {\n            resolve(value);\n        });\n    };\n    /** JSDoc */\n    SyncPromise.reject = function (reason) {\n        return new SyncPromise(function (_, reject) {\n            reject(reason);\n        });\n    };\n    /** JSDoc */\n    SyncPromise.all = function (collection) {\n        return new SyncPromise(function (resolve, reject) {\n            if (!Array.isArray(collection)) {\n                reject(new TypeError(\"Promise.all requires an array as input.\"));\n                return;\n            }\n            if (collection.length === 0) {\n                resolve([]);\n                return;\n            }\n            var counter = collection.length;\n            var resolvedCollection = [];\n            collection.forEach(function (item, index) {\n                SyncPromise.resolve(item)\n                    .then(function (value) {\n                    resolvedCollection[index] = value;\n                    counter -= 1;\n                    if (counter !== 0) {\n                        return;\n                    }\n                    resolve(resolvedCollection);\n                })\n                    .then(null, reject);\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.then = function (onfulfilled, onrejected) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            _this._attachHandler({\n                onfulfilled: function (result) {\n                    if (!onfulfilled) {\n                        // TODO: ¯\\_(ツ)_/¯\n                        // TODO: FIXME\n                        resolve(result);\n                        return;\n                    }\n                    try {\n                        resolve(onfulfilled(result));\n                        return;\n                    }\n                    catch (e) {\n                        reject(e);\n                        return;\n                    }\n                },\n                onrejected: function (reason) {\n                    if (!onrejected) {\n                        reject(reason);\n                        return;\n                    }\n                    try {\n                        resolve(onrejected(reason));\n                        return;\n                    }\n                    catch (e) {\n                        reject(e);\n                        return;\n                    }\n                },\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.catch = function (onrejected) {\n        return this.then(function (val) { return val; }, onrejected);\n    };\n    /** JSDoc */\n    SyncPromise.prototype.finally = function (onfinally) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            var val;\n            var isRejected;\n            return _this.then(function (value) {\n                isRejected = false;\n                val = value;\n                if (onfinally) {\n                    onfinally();\n                }\n            }, function (reason) {\n                isRejected = true;\n                val = reason;\n                if (onfinally) {\n                    onfinally();\n                }\n            }).then(function () {\n                if (isRejected) {\n                    reject(val);\n                    return;\n                }\n                // tslint:disable-next-line:no-unsafe-any\n                resolve(val);\n            });\n        });\n    };\n    return SyncPromise;\n}());\nexport { SyncPromise };\n//# sourceMappingURL=syncpromise.js.map","import { consoleSandbox, getGlobalObject } from './misc';\n// TODO: Implement different loggers for different environments\nvar global = getGlobalObject();\n/** Prefix for logging strings */\nvar PREFIX = 'Sentry Logger ';\n/** JSDoc */\nvar Logger = /** @class */ (function () {\n    /** JSDoc */\n    function Logger() {\n        this._enabled = false;\n    }\n    /** JSDoc */\n    Logger.prototype.disable = function () {\n        this._enabled = false;\n    };\n    /** JSDoc */\n    Logger.prototype.enable = function () {\n        this._enabled = true;\n    };\n    /** JSDoc */\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.log(PREFIX + \"[Log]: \" + args.join(' ')); // tslint:disable-line:no-console\n        });\n    };\n    /** JSDoc */\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.warn(PREFIX + \"[Warn]: \" + args.join(' ')); // tslint:disable-line:no-console\n        });\n    };\n    /** JSDoc */\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.error(PREFIX + \"[Error]: \" + args.join(' ')); // tslint:disable-line:no-console\n        });\n    };\n    return Logger;\n}());\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nglobal.__SENTRY__ = global.__SENTRY__ || {};\nvar logger = global.__SENTRY__.logger || (global.__SENTRY__.logger = new Logger());\nexport { logger };\n//# sourceMappingURL=logger.js.map","import { getCurrentHub, initAndBind, Integrations as CoreIntegrations } from '@sentry/core';\nimport { getGlobalObject, SyncPromise } from '@sentry/utils';\nimport { BrowserClient } from './client';\nimport { wrap as internalWrap } from './helpers';\nimport { Breadcrumbs, GlobalHandlers, LinkedErrors, TryCatch, UserAgent } from './integrations';\nexport var defaultIntegrations = [\n    new CoreIntegrations.InboundFilters(),\n    new CoreIntegrations.FunctionToString(),\n    new TryCatch(),\n    new Breadcrumbs(),\n    new GlobalHandlers(),\n    new LinkedErrors(),\n    new UserAgent(),\n];\n/**\n * The Sentry Browser SDK Client.\n *\n * To use this SDK, call the {@link init} function as early as possible when\n * loading the web page. To set context information or send manual events, use\n * the provided methods.\n *\n * @example\n *\n * ```\n *\n * import { init } from '@sentry/browser';\n *\n * init({\n *   dsn: '__DSN__',\n *   // ...\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { configureScope } from '@sentry/browser';\n * configureScope((scope: Scope) => {\n *   scope.setExtra({ battery: 0.7 });\n *   scope.setTag({ user_mode: 'admin' });\n *   scope.setUser({ id: '4711' });\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { addBreadcrumb } from '@sentry/browser';\n * addBreadcrumb({\n *   message: 'My Breadcrumb',\n *   // ...\n * });\n * ```\n *\n * @example\n *\n * ```\n *\n * import * as Sentry from '@sentry/browser';\n * Sentry.captureMessage('Hello, world!');\n * Sentry.captureException(new Error('Good bye'));\n * Sentry.captureEvent({\n *   message: 'Manual',\n *   stacktrace: [\n *     // ...\n *   ],\n * });\n * ```\n *\n * @see {@link BrowserOptions} for documentation on configuration options.\n */\nexport function init(options) {\n    if (options === void 0) { options = {}; }\n    if (options.defaultIntegrations === undefined) {\n        options.defaultIntegrations = defaultIntegrations;\n    }\n    if (options.release === undefined) {\n        var window_1 = getGlobalObject();\n        // This supports the variable that sentry-webpack-plugin injects\n        if (window_1.SENTRY_RELEASE && window_1.SENTRY_RELEASE.id) {\n            options.release = window_1.SENTRY_RELEASE.id;\n        }\n    }\n    initAndBind(BrowserClient, options);\n}\n/**\n * Present the user with a report dialog.\n *\n * @param options Everything is optional, we try to fetch all info need from the global scope.\n */\nexport function showReportDialog(options) {\n    if (options === void 0) { options = {}; }\n    if (!options.eventId) {\n        options.eventId = getCurrentHub().lastEventId();\n    }\n    var client = getCurrentHub().getClient();\n    if (client) {\n        client.showReportDialog(options);\n    }\n}\n/**\n * This is the getter for lastEventId.\n *\n * @returns The last event id of a captured event.\n */\nexport function lastEventId() {\n    return getCurrentHub().lastEventId();\n}\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nexport function forceLoad() {\n    // Noop\n}\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nexport function onLoad(callback) {\n    callback();\n}\n/**\n * A promise that resolves when all current events have been sent.\n * If you provide a timeout and the queue takes longer to drain the promise returns false.\n *\n * @param timeout Maximum time in ms the client should wait.\n */\nexport function flush(timeout) {\n    var client = getCurrentHub().getClient();\n    if (client) {\n        return client.flush(timeout);\n    }\n    return SyncPromise.reject(false);\n}\n/**\n * A promise that resolves when all current events have been sent.\n * If you provide a timeout and the queue takes longer to drain the promise returns false.\n *\n * @param timeout Maximum time in ms the client should wait.\n */\nexport function close(timeout) {\n    var client = getCurrentHub().getClient();\n    if (client) {\n        return client.close(timeout);\n    }\n    return SyncPromise.reject(false);\n}\n/**\n * Wrap code within a try/catch block so the SDK is able to capture errors.\n *\n * @param fn A function to wrap.\n *\n * @returns The result of wrapped function call.\n */\nexport function wrap(fn) {\n    return internalWrap(fn)(); // tslint:disable-line:no-unsafe-any\n}\n//# sourceMappingURL=sdk.js.map","const genmap = require('./generate_asset_map');\nconst isServer = typeof genmap === 'function';\nlet prefix = '';\nlet manifest = {};\ntry {\n  //eslint-disable-next-line node/no-missing-require\n  manifest = require('../dist/manifest.json');\n} catch (e) {\n  // use middleware\n}\n\nconst assets = isServer ? manifest : genmap;\n\nfunction getAsset(name) {\n  return prefix + assets[name];\n}\n\nfunction setPrefix(name) {\n  prefix = name;\n}\n\nfunction getMatches(match) {\n  return Object.keys(assets)\n    .filter(k => match.test(k))\n    .map(getAsset);\n}\n\nconst instance = {\n  setPrefix: setPrefix,\n  get: getAsset,\n  match: getMatches,\n  setMiddleware: function(middleware) {\n    function getManifest() {\n      return JSON.parse(\n        middleware.fileSystem.readFileSync(\n          middleware.getFilenameFromUrl('/manifest.json')\n        )\n      );\n    }\n    if (middleware) {\n      instance.get = function getAssetWithMiddleware(name) {\n        const m = getManifest();\n        return prefix + m[name];\n      };\n      instance.match = function matchAssetWithMiddleware(match) {\n        const m = getManifest();\n        return Object.keys(m)\n          .filter(k => match.test(k))\n          .map(k => prefix + m[k]);\n      };\n    }\n  }\n};\n\nmodule.exports = instance;\n","import { arrayToB64, b64ToArray } from './utils';\nimport { decryptStream, encryptStream } from './ece.js';\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\n\nexport default class Keychain {\n  constructor(secretKeyB64, nonce) {\n    this._nonce = nonce || 'yRCdyQ1EMSA3mo4rqSkuNQ==';\n    if (secretKeyB64) {\n      this.rawSecret = b64ToArray(secretKeyB64);\n    } else {\n      this.rawSecret = crypto.getRandomValues(new Uint8Array(16));\n    }\n    this.secretKeyPromise = crypto.subtle.importKey(\n      'raw',\n      this.rawSecret,\n      'HKDF',\n      false,\n      ['deriveKey']\n    );\n    this.metaKeyPromise = this.secretKeyPromise.then(function(secretKey) {\n      return crypto.subtle.deriveKey(\n        {\n          name: 'HKDF',\n          salt: new Uint8Array(),\n          info: encoder.encode('metadata'),\n          hash: 'SHA-256'\n        },\n        secretKey,\n        {\n          name: 'AES-GCM',\n          length: 128\n        },\n        false,\n        ['encrypt', 'decrypt']\n      );\n    });\n    this.authKeyPromise = this.secretKeyPromise.then(function(secretKey) {\n      return crypto.subtle.deriveKey(\n        {\n          name: 'HKDF',\n          salt: new Uint8Array(),\n          info: encoder.encode('authentication'),\n          hash: 'SHA-256'\n        },\n        secretKey,\n        {\n          name: 'HMAC',\n          hash: { name: 'SHA-256' }\n        },\n        true,\n        ['sign']\n      );\n    });\n  }\n\n  get nonce() {\n    return this._nonce;\n  }\n\n  set nonce(n) {\n    if (n && n !== this._nonce) {\n      this._nonce = n;\n    }\n  }\n\n  setPassword(password, shareUrl) {\n    this.authKeyPromise = crypto.subtle\n      .importKey('raw', encoder.encode(password), { name: 'PBKDF2' }, false, [\n        'deriveKey'\n      ])\n      .then(passwordKey =>\n        crypto.subtle.deriveKey(\n          {\n            name: 'PBKDF2',\n            salt: encoder.encode(shareUrl),\n            iterations: 100,\n            hash: 'SHA-256'\n          },\n          passwordKey,\n          {\n            name: 'HMAC',\n            hash: 'SHA-256'\n          },\n          true,\n          ['sign']\n        )\n      );\n  }\n\n  setAuthKey(authKeyB64) {\n    this.authKeyPromise = crypto.subtle.importKey(\n      'raw',\n      b64ToArray(authKeyB64),\n      {\n        name: 'HMAC',\n        hash: 'SHA-256'\n      },\n      true,\n      ['sign']\n    );\n  }\n\n  async authKeyB64() {\n    const authKey = await this.authKeyPromise;\n    const rawAuth = await crypto.subtle.exportKey('raw', authKey);\n    return arrayToB64(new Uint8Array(rawAuth));\n  }\n\n  async authHeader() {\n    const authKey = await this.authKeyPromise;\n    const sig = await crypto.subtle.sign(\n      {\n        name: 'HMAC'\n      },\n      authKey,\n      b64ToArray(this.nonce)\n    );\n    return `send-v1 ${arrayToB64(new Uint8Array(sig))}`;\n  }\n\n  async encryptMetadata(metadata) {\n    const metaKey = await this.metaKeyPromise;\n    const ciphertext = await crypto.subtle.encrypt(\n      {\n        name: 'AES-GCM',\n        iv: new Uint8Array(12),\n        tagLength: 128\n      },\n      metaKey,\n      encoder.encode(\n        JSON.stringify({\n          name: metadata.name,\n          size: metadata.size,\n          type: metadata.type || 'application/octet-stream',\n          manifest: metadata.manifest || {}\n        })\n      )\n    );\n    return ciphertext;\n  }\n\n  encryptStream(plainStream) {\n    return encryptStream(plainStream, this.rawSecret);\n  }\n\n  decryptStream(cryptotext) {\n    return decryptStream(cryptotext, this.rawSecret);\n  }\n\n  async decryptMetadata(ciphertext) {\n    const metaKey = await this.metaKeyPromise;\n    const plaintext = await crypto.subtle.decrypt(\n      {\n        name: 'AES-GCM',\n        iv: new Uint8Array(12),\n        tagLength: 128\n      },\n      metaKey,\n      ciphertext\n    );\n    return JSON.parse(decoder.decode(plaintext));\n  }\n}\n","var g;\n// This works in non-strict mode\ng = function () {\n    return this;\n}();\ntry {\n    // This works if eval is allowed (see CSP)\n    g = g || new Function('return this')();\n} catch (e) {\n    // This works if the window reference is available\n    if (typeof window === 'object')\n        g = window;\n}\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\nmodule.exports = g;","import Keychain from './keychain';\nimport { arrayToB64 } from './utils';\nimport { del, fileInfo, setParams, setPassword } from './api';\n\nexport default class OwnedFile {\n  constructor(obj) {\n    if (!obj.manifest) {\n      throw new Error('invalid file object');\n    }\n    this.id = obj.id;\n    this.url = obj.url;\n    this.name = obj.name;\n    this.size = obj.size;\n    this.manifest = obj.manifest;\n    this.time = obj.time;\n    this.speed = obj.speed;\n    this.createdAt = obj.createdAt;\n    this.expiresAt = obj.expiresAt;\n    this.ownerToken = obj.ownerToken;\n    this.dlimit = obj.dlimit || 1;\n    this.dtotal = obj.dtotal || 0;\n    this.keychain = new Keychain(obj.secretKey, obj.nonce);\n    this._hasPassword = !!obj.hasPassword;\n    this.timeLimit = obj.timeLimit;\n  }\n\n  get hasPassword() {\n    return !!this._hasPassword;\n  }\n\n  get expired() {\n    return this.dlimit === this.dtotal || Date.now() > this.expiresAt;\n  }\n\n  async setPassword(password) {\n    try {\n      this.password = password;\n      this._hasPassword = true;\n      this.keychain.setPassword(password, this.url);\n      const result = await setPassword(this.id, this.ownerToken, this.keychain);\n      return result;\n    } catch (e) {\n      this.password = null;\n      this._hasPassword = false;\n      throw e;\n    }\n  }\n\n  del() {\n    return del(this.id, this.ownerToken);\n  }\n\n  changeLimit(dlimit, user = {}) {\n    if (this.dlimit !== dlimit) {\n      this.dlimit = dlimit;\n      return setParams(this.id, this.ownerToken, user.bearerToken, { dlimit });\n    }\n    return Promise.resolve(true);\n  }\n\n  async updateDownloadCount() {\n    const oldTotal = this.dtotal;\n    const oldLimit = this.dlimit;\n    try {\n      const result = await fileInfo(this.id, this.ownerToken);\n      this.dtotal = result.dtotal;\n      this.dlimit = result.dlimit;\n    } catch (e) {\n      if (e.message === '404') {\n        this.dtotal = this.dlimit;\n      }\n      // ignore other errors\n    }\n    return oldTotal !== this.dtotal || oldLimit !== this.dlimit;\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      url: this.url,\n      name: this.name,\n      size: this.size,\n      manifest: this.manifest,\n      time: this.time,\n      speed: this.speed,\n      createdAt: this.createdAt,\n      expiresAt: this.expiresAt,\n      secretKey: arrayToB64(this.keychain.rawSecret),\n      ownerToken: this.ownerToken,\n      dlimit: this.dlimit,\n      dtotal: this.dtotal,\n      hasPassword: this.hasPassword,\n      timeLimit: this.timeLimit\n    };\n  }\n}\n","import * as tslib_1 from \"tslib\";\nimport { getGlobalObject, isThenable, normalize, SyncPromise } from '@sentry/utils';\nimport { Span } from './span';\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nvar Scope = /** @class */ (function () {\n    function Scope() {\n        /** Flag if notifiying is happening. */\n        this._notifyingListeners = false;\n        /** Callback for client to receive scope changes. */\n        this._scopeListeners = [];\n        /** Callback list that will be called after {@link applyToEvent}. */\n        this._eventProcessors = [];\n        /** Array of breadcrumbs. */\n        this._breadcrumbs = [];\n        /** User */\n        this._user = {};\n        /** Tags */\n        this._tags = {};\n        /** Extra */\n        this._extra = {};\n        /** Contexts */\n        this._context = {};\n    }\n    /**\n     * Add internal on change listener. Used for sub SDKs that need to store the scope.\n     * @hidden\n     */\n    Scope.prototype.addScopeListener = function (callback) {\n        this._scopeListeners.push(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.addEventProcessor = function (callback) {\n        this._eventProcessors.push(callback);\n        return this;\n    };\n    /**\n     * This will be called on every set call.\n     */\n    Scope.prototype._notifyScopeListeners = function () {\n        var _this = this;\n        if (!this._notifyingListeners) {\n            this._notifyingListeners = true;\n            setTimeout(function () {\n                _this._scopeListeners.forEach(function (callback) {\n                    callback(_this);\n                });\n                _this._notifyingListeners = false;\n            });\n        }\n    };\n    /**\n     * This will be called after {@link applyToEvent} is finished.\n     */\n    Scope.prototype._notifyEventProcessors = function (processors, event, hint, index) {\n        var _this = this;\n        if (index === void 0) { index = 0; }\n        return new SyncPromise(function (resolve, reject) {\n            var processor = processors[index];\n            // tslint:disable-next-line:strict-type-predicates\n            if (event === null || typeof processor !== 'function') {\n                resolve(event);\n            }\n            else {\n                var result = processor(tslib_1.__assign({}, event), hint);\n                if (isThenable(result)) {\n                    result\n                        .then(function (final) { return _this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve); })\n                        .then(null, reject);\n                }\n                else {\n                    _this._notifyEventProcessors(processors, result, hint, index + 1)\n                        .then(resolve)\n                        .then(null, reject);\n                }\n            }\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setUser = function (user) {\n        this._user = normalize(user);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setTags = function (tags) {\n        this._tags = tslib_1.__assign({}, this._tags, normalize(tags));\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setTag = function (key, value) {\n        var _a;\n        this._tags = tslib_1.__assign({}, this._tags, (_a = {}, _a[key] = normalize(value), _a));\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setExtras = function (extra) {\n        this._extra = tslib_1.__assign({}, this._extra, normalize(extra));\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setExtra = function (key, extra) {\n        var _a;\n        this._extra = tslib_1.__assign({}, this._extra, (_a = {}, _a[key] = normalize(extra), _a));\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setFingerprint = function (fingerprint) {\n        this._fingerprint = normalize(fingerprint);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setLevel = function (level) {\n        this._level = normalize(level);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setTransaction = function (transaction) {\n        this._transaction = transaction;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setContext = function (name, context) {\n        this._context[name] = context ? normalize(context) : undefined;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setSpan = function (span) {\n        this._span = span;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.startSpan = function (parentSpan) {\n        var span = new Span();\n        span.setParent(parentSpan);\n        this.setSpan(span);\n        return span;\n    };\n    /**\n     * Internal getter for Span, used in Hub.\n     * @hidden\n     */\n    Scope.prototype.getSpan = function () {\n        return this._span;\n    };\n    /**\n     * Inherit values from the parent scope.\n     * @param scope to clone.\n     */\n    Scope.clone = function (scope) {\n        var newScope = new Scope();\n        if (scope) {\n            newScope._breadcrumbs = tslib_1.__spread(scope._breadcrumbs);\n            newScope._tags = tslib_1.__assign({}, scope._tags);\n            newScope._extra = tslib_1.__assign({}, scope._extra);\n            newScope._context = tslib_1.__assign({}, scope._context);\n            newScope._user = scope._user;\n            newScope._level = scope._level;\n            newScope._span = scope._span;\n            newScope._transaction = scope._transaction;\n            newScope._fingerprint = scope._fingerprint;\n            newScope._eventProcessors = tslib_1.__spread(scope._eventProcessors);\n        }\n        return newScope;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.clear = function () {\n        this._breadcrumbs = [];\n        this._tags = {};\n        this._extra = {};\n        this._user = {};\n        this._context = {};\n        this._level = undefined;\n        this._transaction = undefined;\n        this._fingerprint = undefined;\n        this._span = undefined;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.addBreadcrumb = function (breadcrumb, maxBreadcrumbs) {\n        var timestamp = new Date().getTime() / 1000;\n        var mergedBreadcrumb = tslib_1.__assign({ timestamp: timestamp }, breadcrumb);\n        this._breadcrumbs =\n            maxBreadcrumbs !== undefined && maxBreadcrumbs >= 0\n                ? tslib_1.__spread(this._breadcrumbs, [normalize(mergedBreadcrumb)]).slice(-maxBreadcrumbs)\n                : tslib_1.__spread(this._breadcrumbs, [normalize(mergedBreadcrumb)]);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.clearBreadcrumbs = function () {\n        this._breadcrumbs = [];\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * Applies fingerprint from the scope to the event if there's one,\n     * uses message if there's one instead or get rid of empty fingerprint\n     */\n    Scope.prototype._applyFingerprint = function (event) {\n        // Make sure it's an array first and we actually have something in place\n        event.fingerprint = event.fingerprint\n            ? Array.isArray(event.fingerprint)\n                ? event.fingerprint\n                : [event.fingerprint]\n            : [];\n        // If we have something on the scope, then merge it with event\n        if (this._fingerprint) {\n            event.fingerprint = event.fingerprint.concat(this._fingerprint);\n        }\n        // If we have no data at all, remove empty array default\n        if (event.fingerprint && !event.fingerprint.length) {\n            delete event.fingerprint;\n        }\n    };\n    /**\n     * Applies the current context and fingerprint to the event.\n     * Note that breadcrumbs will be added by the client.\n     * Also if the event has already breadcrumbs on it, we do not merge them.\n     * @param event Event\n     * @param hint May contain additional informartion about the original exception.\n     * @hidden\n     */\n    Scope.prototype.applyToEvent = function (event, hint) {\n        if (this._extra && Object.keys(this._extra).length) {\n            event.extra = tslib_1.__assign({}, this._extra, event.extra);\n        }\n        if (this._tags && Object.keys(this._tags).length) {\n            event.tags = tslib_1.__assign({}, this._tags, event.tags);\n        }\n        if (this._user && Object.keys(this._user).length) {\n            event.user = tslib_1.__assign({}, this._user, event.user);\n        }\n        if (this._context && Object.keys(this._context).length) {\n            event.contexts = tslib_1.__assign({}, this._context, event.contexts);\n        }\n        if (this._level) {\n            event.level = this._level;\n        }\n        if (this._transaction) {\n            event.transaction = this._transaction;\n        }\n        if (this._span) {\n            event.contexts = event.contexts || {};\n            event.contexts.trace = this._span;\n        }\n        this._applyFingerprint(event);\n        event.breadcrumbs = tslib_1.__spread((event.breadcrumbs || []), this._breadcrumbs);\n        event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n        return this._notifyEventProcessors(tslib_1.__spread(getGlobalEventProcessors(), this._eventProcessors), event, hint);\n    };\n    return Scope;\n}());\nexport { Scope };\n/**\n * Retruns the global event processors.\n */\nfunction getGlobalEventProcessors() {\n    var global = getGlobalObject();\n    global.__SENTRY__ = global.__SENTRY__ || {};\n    global.__SENTRY__.globalEventProcessors = global.__SENTRY__.globalEventProcessors || [];\n    return global.__SENTRY__.globalEventProcessors;\n}\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nexport function addGlobalEventProcessor(callback) {\n    getGlobalEventProcessors().push(callback);\n}\n//# sourceMappingURL=scope.js.map","// tslint:disable:object-literal-sort-keys\nimport * as tslib_1 from \"tslib\";\n// global reference to slice\nvar UNKNOWN_FUNCTION = '?';\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nvar chrome = /^\\s*at (?:(.*?) ?\\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nvar gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js))(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nvar geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nvar chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n/** JSDoc */\nexport function computeStackTrace(ex) {\n    // tslint:disable:no-unsafe-any\n    var stack = null;\n    var popSize = ex && ex.framesToPop;\n    try {\n        // This must be tried first because Opera 10 *destroys*\n        // its stacktrace property if you try to access the stack\n        // property first!!\n        stack = computeStackTraceFromStacktraceProp(ex);\n        if (stack) {\n            return popFrames(stack, popSize);\n        }\n    }\n    catch (e) {\n        // no-empty\n    }\n    try {\n        stack = computeStackTraceFromStackProp(ex);\n        if (stack) {\n            return popFrames(stack, popSize);\n        }\n    }\n    catch (e) {\n        // no-empty\n    }\n    return {\n        message: extractMessage(ex),\n        name: ex && ex.name,\n        stack: [],\n        failed: true,\n    };\n}\n/** JSDoc */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction computeStackTraceFromStackProp(ex) {\n    // tslint:disable:no-conditional-assignment\n    if (!ex || !ex.stack) {\n        return null;\n    }\n    var stack = [];\n    var lines = ex.stack.split('\\n');\n    var isEval;\n    var submatch;\n    var parts;\n    var element;\n    for (var i = 0; i < lines.length; ++i) {\n        if ((parts = chrome.exec(lines[i]))) {\n            var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n            isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n            if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n                // throw out eval line/column and use top-most line/column number\n                parts[2] = submatch[1]; // url\n                parts[3] = submatch[2]; // line\n                parts[4] = submatch[3]; // column\n            }\n            element = {\n                url: parts[2],\n                func: parts[1] || UNKNOWN_FUNCTION,\n                args: isNative ? [parts[2]] : [],\n                line: parts[3] ? +parts[3] : null,\n                column: parts[4] ? +parts[4] : null,\n            };\n        }\n        else if ((parts = winjs.exec(lines[i]))) {\n            element = {\n                url: parts[2],\n                func: parts[1] || UNKNOWN_FUNCTION,\n                args: [],\n                line: +parts[3],\n                column: parts[4] ? +parts[4] : null,\n            };\n        }\n        else if ((parts = gecko.exec(lines[i]))) {\n            isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n            if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n                // throw out eval line/column and use top-most line number\n                parts[1] = parts[1] || \"eval\";\n                parts[3] = submatch[1];\n                parts[4] = submatch[2];\n                parts[5] = ''; // no column when eval\n            }\n            else if (i === 0 && !parts[5] && ex.columnNumber !== void 0) {\n                // FireFox uses this awesome columnNumber property for its top frame\n                // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n                // so adding 1\n                // NOTE: this hack doesn't work if top-most frame is eval\n                stack[0].column = ex.columnNumber + 1;\n            }\n            element = {\n                url: parts[3],\n                func: parts[1] || UNKNOWN_FUNCTION,\n                args: parts[2] ? parts[2].split(',') : [],\n                line: parts[4] ? +parts[4] : null,\n                column: parts[5] ? +parts[5] : null,\n            };\n        }\n        else {\n            continue;\n        }\n        if (!element.func && element.line) {\n            element.func = UNKNOWN_FUNCTION;\n        }\n        stack.push(element);\n    }\n    if (!stack.length) {\n        return null;\n    }\n    return {\n        message: extractMessage(ex),\n        name: ex.name,\n        stack: stack,\n    };\n}\n/** JSDoc */\nfunction computeStackTraceFromStacktraceProp(ex) {\n    if (!ex || !ex.stacktrace) {\n        return null;\n    }\n    // Access and store the stacktrace property before doing ANYTHING\n    // else to it because Opera is not very good at providing it\n    // reliably in other circumstances.\n    var stacktrace = ex.stacktrace;\n    var opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n    var opera11Regex = / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^\\)]+))\\((.*)\\))? in (.*):\\s*$/i;\n    var lines = stacktrace.split('\\n');\n    var stack = [];\n    var parts;\n    for (var line = 0; line < lines.length; line += 2) {\n        // tslint:disable:no-conditional-assignment\n        var element = null;\n        if ((parts = opera10Regex.exec(lines[line]))) {\n            element = {\n                url: parts[2],\n                func: parts[3],\n                args: [],\n                line: +parts[1],\n                column: null,\n            };\n        }\n        else if ((parts = opera11Regex.exec(lines[line]))) {\n            element = {\n                url: parts[6],\n                func: parts[3] || parts[4],\n                args: parts[5] ? parts[5].split(',') : [],\n                line: +parts[1],\n                column: +parts[2],\n            };\n        }\n        if (element) {\n            if (!element.func && element.line) {\n                element.func = UNKNOWN_FUNCTION;\n            }\n            stack.push(element);\n        }\n    }\n    if (!stack.length) {\n        return null;\n    }\n    return {\n        message: extractMessage(ex),\n        name: ex.name,\n        stack: stack,\n    };\n}\n/** Remove N number of frames from the stack */\nfunction popFrames(stacktrace, popSize) {\n    try {\n        return tslib_1.__assign({}, stacktrace, { stack: stacktrace.stack.slice(popSize) });\n    }\n    catch (e) {\n        return stacktrace;\n    }\n}\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\nfunction extractMessage(ex) {\n    var message = ex && ex.message;\n    if (!message) {\n        return 'No error message';\n    }\n    if (message.error && typeof message.error.message === 'string') {\n        return message.error.message;\n    }\n    return message;\n}\n//# sourceMappingURL=tracekit.js.map","/** The status of an event. */\nexport var Status;\n(function (Status) {\n    /** The status could not be determined. */\n    Status[\"Unknown\"] = \"unknown\";\n    /** The event was skipped due to configuration or callbacks. */\n    Status[\"Skipped\"] = \"skipped\";\n    /** The event was sent to Sentry successfully. */\n    Status[\"Success\"] = \"success\";\n    /** The client is currently rate limited and will try again later. */\n    Status[\"RateLimit\"] = \"rate_limit\";\n    /** The event could not be processed. */\n    Status[\"Invalid\"] = \"invalid\";\n    /** A server-side error ocurred during submission. */\n    Status[\"Failed\"] = \"failed\";\n})(Status || (Status = {}));\n// tslint:disable:completed-docs\n// tslint:disable:no-unnecessary-qualifier no-namespace\n(function (Status) {\n    /**\n     * Converts a HTTP status code into a {@link Status}.\n     *\n     * @param code The HTTP response status code.\n     * @returns The send status or {@link Status.Unknown}.\n     */\n    function fromHttpCode(code) {\n        if (code >= 200 && code < 300) {\n            return Status.Success;\n        }\n        if (code === 429) {\n            return Status.RateLimit;\n        }\n        if (code >= 400 && code < 500) {\n            return Status.Invalid;\n        }\n        if (code >= 500) {\n            return Status.Failed;\n        }\n        return Status.Unknown;\n    }\n    Status.fromHttpCode = fromHttpCode;\n})(Status || (Status = {}));\n//# sourceMappingURL=status.js.map","export var setPrototypeOf = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties); // tslint:disable-line:no-unbound-method\n/**\n * setPrototypeOf polyfill using __proto__\n */\nfunction setProtoOf(obj, proto) {\n    // @ts-ignore\n    obj.__proto__ = proto;\n    return obj;\n}\n/**\n * setPrototypeOf polyfill using mixin\n */\nfunction mixinProperties(obj, proto) {\n    for (var prop in proto) {\n        if (!obj.hasOwnProperty(prop)) {\n            // @ts-ignore\n            obj[prop] = proto[prop];\n        }\n    }\n    return obj;\n}\n//# sourceMappingURL=polyfill.js.map","import * as tslib_1 from \"tslib\";\nimport { setPrototypeOf } from './polyfill';\n/** An error emitted by Sentry SDKs and related utilities. */\nvar SentryError = /** @class */ (function (_super) {\n    tslib_1.__extends(SentryError, _super);\n    function SentryError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        // tslint:disable:no-unsafe-any\n        _this.name = _newTarget.prototype.constructor.name;\n        setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return SentryError;\n}(Error));\nexport { SentryError };\n//# sourceMappingURL=error.js.map","var splice = require('remove-array-items');\nvar nanotiming = require('nanotiming');\nmodule.exports = Nanobus;\nfunction Nanobus(name) {\n    if (!(this instanceof Nanobus))\n        return new Nanobus(name);\n    this._name = name || 'nanobus';\n    this._starListeners = [];\n    this._listeners = {};\n}\nNanobus.prototype.emit = function (eventName) {\n    var data = [];\n    for (var i = 1, len = arguments.length; i < len; i++) {\n        data.push(arguments[i]);\n    }\n    var emitTiming = nanotiming(this._name + '(\\'' + eventName.toString() + '\\')');\n    var listeners = this._listeners[eventName];\n    if (listeners && listeners.length > 0) {\n        this._emit(this._listeners[eventName], data);\n    }\n    if (this._starListeners.length > 0) {\n        this._emit(this._starListeners, eventName, data, emitTiming.uuid);\n    }\n    emitTiming();\n    return this;\n};\nNanobus.prototype.on = Nanobus.prototype.addListener = function (eventName, listener) {\n    if (eventName === '*') {\n        this._starListeners.push(listener);\n    } else {\n        if (!this._listeners[eventName])\n            this._listeners[eventName] = [];\n        this._listeners[eventName].push(listener);\n    }\n    return this;\n};\nNanobus.prototype.prependListener = function (eventName, listener) {\n    if (eventName === '*') {\n        this._starListeners.unshift(listener);\n    } else {\n        if (!this._listeners[eventName])\n            this._listeners[eventName] = [];\n        this._listeners[eventName].unshift(listener);\n    }\n    return this;\n};\nNanobus.prototype.once = function (eventName, listener) {\n    var self = this;\n    this.on(eventName, once);\n    function once() {\n        listener.apply(self, arguments);\n        self.removeListener(eventName, once);\n    }\n    return this;\n};\nNanobus.prototype.prependOnceListener = function (eventName, listener) {\n    var self = this;\n    this.prependListener(eventName, once);\n    function once() {\n        listener.apply(self, arguments);\n        self.removeListener(eventName, once);\n    }\n    return this;\n};\nNanobus.prototype.removeListener = function (eventName, listener) {\n    if (eventName === '*') {\n        this._starListeners = this._starListeners.slice();\n        return remove(this._starListeners, listener);\n    } else {\n        if (typeof this._listeners[eventName] !== 'undefined') {\n            this._listeners[eventName] = this._listeners[eventName].slice();\n        }\n        return remove(this._listeners[eventName], listener);\n    }\n    function remove(arr, listener) {\n        if (!arr)\n            return;\n        var index = arr.indexOf(listener);\n        if (index !== -1) {\n            splice(arr, index, 1);\n            return true;\n        }\n    }\n};\nNanobus.prototype.removeAllListeners = function (eventName) {\n    if (eventName) {\n        if (eventName === '*') {\n            this._starListeners = [];\n        } else {\n            this._listeners[eventName] = [];\n        }\n    } else {\n        this._starListeners = [];\n        this._listeners = {};\n    }\n    return this;\n};\nNanobus.prototype.listeners = function (eventName) {\n    var listeners = eventName !== '*' ? this._listeners[eventName] : this._starListeners;\n    var ret = [];\n    if (listeners) {\n        var ilength = listeners.length;\n        for (var i = 0; i < ilength; i++)\n            ret.push(listeners[i]);\n    }\n    return ret;\n};\nNanobus.prototype._emit = function (arr, eventName, data, uuid) {\n    if (typeof arr === 'undefined')\n        return;\n    if (arr.length === 0)\n        return;\n    if (data === undefined) {\n        data = eventName;\n        eventName = null;\n    }\n    if (eventName) {\n        if (uuid !== undefined) {\n            data = [eventName].concat(data, uuid);\n        } else {\n            data = [eventName].concat(data);\n        }\n    }\n    var length = arr.length;\n    for (var i = 0; i < length; i++) {\n        var listener = arr[i];\n        listener.apply(listener, data);\n    }\n};","export var SDK_NAME = 'sentry.javascript.browser';\nexport var SDK_VERSION = '5.8.0';\n//# sourceMappingURL=version.js.map","import { extractExceptionKeysForMessage, isEvent, normalizeToSize } from '@sentry/utils';\nimport { computeStackTrace } from './tracekit';\nvar STACKTRACE_LIMIT = 50;\n/**\n * This function creates an exception from an TraceKitStackTrace\n * @param stacktrace TraceKitStackTrace that will be converted to an exception\n * @hidden\n */\nexport function exceptionFromStacktrace(stacktrace) {\n    var frames = prepareFramesForEvent(stacktrace.stack);\n    var exception = {\n        type: stacktrace.name,\n        value: stacktrace.message,\n    };\n    if (frames && frames.length) {\n        exception.stacktrace = { frames: frames };\n    }\n    // tslint:disable-next-line:strict-type-predicates\n    if (exception.type === undefined && exception.value === '') {\n        exception.value = 'Unrecoverable error caught';\n    }\n    return exception;\n}\n/**\n * @hidden\n */\nexport function eventFromPlainObject(exception, syntheticException, rejection) {\n    var event = {\n        exception: {\n            values: [\n                {\n                    type: isEvent(exception) ? exception.constructor.name : rejection ? 'UnhandledRejection' : 'Error',\n                    value: \"Non-Error \" + (rejection ? 'promise rejection' : 'exception') + \" captured with keys: \" + extractExceptionKeysForMessage(exception),\n                },\n            ],\n        },\n        extra: {\n            __serialized__: normalizeToSize(exception),\n        },\n    };\n    if (syntheticException) {\n        var stacktrace = computeStackTrace(syntheticException);\n        var frames_1 = prepareFramesForEvent(stacktrace.stack);\n        event.stacktrace = {\n            frames: frames_1,\n        };\n    }\n    return event;\n}\n/**\n * @hidden\n */\nexport function eventFromStacktrace(stacktrace) {\n    var exception = exceptionFromStacktrace(stacktrace);\n    return {\n        exception: {\n            values: [exception],\n        },\n    };\n}\n/**\n * @hidden\n */\nexport function prepareFramesForEvent(stack) {\n    if (!stack || !stack.length) {\n        return [];\n    }\n    var localStack = stack;\n    var firstFrameFunction = localStack[0].func || '';\n    var lastFrameFunction = localStack[localStack.length - 1].func || '';\n    // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n    if (firstFrameFunction.indexOf('captureMessage') !== -1 || firstFrameFunction.indexOf('captureException') !== -1) {\n        localStack = localStack.slice(1);\n    }\n    // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n    if (lastFrameFunction.indexOf('sentryWrapped') !== -1) {\n        localStack = localStack.slice(0, -1);\n    }\n    // The frame where the crash happened, should be the last entry in the array\n    return localStack\n        .map(function (frame) { return ({\n        colno: frame.column === null ? undefined : frame.column,\n        filename: frame.url || localStack[0].url,\n        function: frame.func || '?',\n        in_app: true,\n        lineno: frame.line === null ? undefined : frame.line,\n    }); })\n        .slice(0, STACKTRACE_LIMIT)\n        .reverse();\n}\n//# sourceMappingURL=parsers.js.map","import * as tslib_1 from \"tslib\";\nimport { SentryError } from '@sentry/utils';\n/** Regular expression used to parse a Dsn. */\nvar DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+))?@)([\\w\\.-]+)(?::(\\d+))?\\/(.+)/;\n/** Error message */\nvar ERROR_MESSAGE = 'Invalid Dsn';\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nvar Dsn = /** @class */ (function () {\n    /** Creates a new Dsn component */\n    function Dsn(from) {\n        if (typeof from === 'string') {\n            this._fromString(from);\n        }\n        else {\n            this._fromComponents(from);\n        }\n        this._validate();\n    }\n    /**\n     * Renders the string representation of this Dsn.\n     *\n     * By default, this will render the public representation without the password\n     * component. To get the deprecated private _representation, set `withPassword`\n     * to true.\n     *\n     * @param withPassword When set to true, the password will be included.\n     */\n    Dsn.prototype.toString = function (withPassword) {\n        if (withPassword === void 0) { withPassword = false; }\n        // tslint:disable-next-line:no-this-assignment\n        var _a = this, host = _a.host, path = _a.path, pass = _a.pass, port = _a.port, projectId = _a.projectId, protocol = _a.protocol, user = _a.user;\n        return (protocol + \"://\" + user + (withPassword && pass ? \":\" + pass : '') +\n            (\"@\" + host + (port ? \":\" + port : '') + \"/\" + (path ? path + \"/\" : path) + projectId));\n    };\n    /** Parses a string into this Dsn. */\n    Dsn.prototype._fromString = function (str) {\n        var match = DSN_REGEX.exec(str);\n        if (!match) {\n            throw new SentryError(ERROR_MESSAGE);\n        }\n        var _a = tslib_1.__read(match.slice(1), 6), protocol = _a[0], user = _a[1], _b = _a[2], pass = _b === void 0 ? '' : _b, host = _a[3], _c = _a[4], port = _c === void 0 ? '' : _c, lastPath = _a[5];\n        var path = '';\n        var projectId = lastPath;\n        var split = projectId.split('/');\n        if (split.length > 1) {\n            path = split.slice(0, -1).join('/');\n            projectId = split.pop();\n        }\n        this._fromComponents({ host: host, pass: pass, path: path, projectId: projectId, port: port, protocol: protocol, user: user });\n    };\n    /** Maps Dsn components into this instance. */\n    Dsn.prototype._fromComponents = function (components) {\n        this.protocol = components.protocol;\n        this.user = components.user;\n        this.pass = components.pass || '';\n        this.host = components.host;\n        this.port = components.port || '';\n        this.path = components.path || '';\n        this.projectId = components.projectId;\n    };\n    /** Validates this Dsn and throws on error. */\n    Dsn.prototype._validate = function () {\n        var _this = this;\n        ['protocol', 'user', 'host', 'projectId'].forEach(function (component) {\n            if (!_this[component]) {\n                throw new SentryError(ERROR_MESSAGE);\n            }\n        });\n        if (this.protocol !== 'http' && this.protocol !== 'https') {\n            throw new SentryError(ERROR_MESSAGE);\n        }\n        if (this.port && isNaN(parseInt(this.port, 10))) {\n            throw new SentryError(ERROR_MESSAGE);\n        }\n    };\n    return Dsn;\n}());\nexport { Dsn };\n//# sourceMappingURL=dsn.js.map","import { SentryError } from './error';\nimport { SyncPromise } from './syncpromise';\n/** A simple queue that holds promises. */\nvar PromiseBuffer = /** @class */ (function () {\n    function PromiseBuffer(_limit) {\n        this._limit = _limit;\n        /** Internal set of queued Promises */\n        this._buffer = [];\n    }\n    /**\n     * Says if the buffer is ready to take more requests\n     */\n    PromiseBuffer.prototype.isReady = function () {\n        return this._limit === undefined || this.length() < this._limit;\n    };\n    /**\n     * Add a promise to the queue.\n     *\n     * @param task Can be any PromiseLike<T>\n     * @returns The original promise.\n     */\n    PromiseBuffer.prototype.add = function (task) {\n        var _this = this;\n        if (!this.isReady()) {\n            return SyncPromise.reject(new SentryError('Not adding Promise due to buffer limit reached.'));\n        }\n        if (this._buffer.indexOf(task) === -1) {\n            this._buffer.push(task);\n        }\n        task\n            .then(function () { return _this.remove(task); })\n            .then(null, function () {\n            return _this.remove(task).then(null, function () {\n                // We have to add this catch here otherwise we have an unhandledPromiseRejection\n                // because it's a new Promise chain.\n            });\n        });\n        return task;\n    };\n    /**\n     * Remove a promise to the queue.\n     *\n     * @param task Can be any PromiseLike<T>\n     * @returns Removed promise.\n     */\n    PromiseBuffer.prototype.remove = function (task) {\n        var removedTask = this._buffer.splice(this._buffer.indexOf(task), 1)[0];\n        return removedTask;\n    };\n    /**\n     * This function returns the number of unresolved promises in the queue.\n     */\n    PromiseBuffer.prototype.length = function () {\n        return this._buffer.length;\n    };\n    /**\n     * This will drain the whole queue, returns true if queue is empty or drained.\n     * If timeout is provided and the queue takes longer to drain, the promise still resolves but with false.\n     *\n     * @param timeout Number in ms to wait until it resolves with false.\n     */\n    PromiseBuffer.prototype.drain = function (timeout) {\n        var _this = this;\n        return new SyncPromise(function (resolve) {\n            var capturedSetTimeout = setTimeout(function () {\n                if (timeout && timeout > 0) {\n                    resolve(false);\n                }\n            }, timeout);\n            SyncPromise.all(_this._buffer)\n                .then(function () {\n                clearTimeout(capturedSetTimeout);\n                resolve(true);\n            })\n                .then(null, function () {\n                resolve(true);\n            });\n        });\n    };\n    return PromiseBuffer;\n}());\nexport { PromiseBuffer };\n//# sourceMappingURL=promisebuffer.js.map","import { API } from '@sentry/core';\nimport { PromiseBuffer, SentryError } from '@sentry/utils';\n/** Base Transport class implementation */\nvar BaseTransport = /** @class */ (function () {\n    function BaseTransport(options) {\n        this.options = options;\n        /** A simple buffer holding all requests. */\n        this._buffer = new PromiseBuffer(30);\n        this.url = new API(this.options.dsn).getStoreEndpointWithUrlEncodedAuth();\n    }\n    /**\n     * @inheritDoc\n     */\n    BaseTransport.prototype.sendEvent = function (_) {\n        throw new SentryError('Transport Class has to implement `sendEvent` method');\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseTransport.prototype.close = function (timeout) {\n        return this._buffer.drain(timeout);\n    };\n    return BaseTransport;\n}());\nexport { BaseTransport };\n//# sourceMappingURL=base.js.map","import { addExceptionMechanism, addExceptionTypeValue, isDOMError, isDOMException, isError, isErrorEvent, isEvent, isPlainObject, } from '@sentry/utils';\nimport { eventFromPlainObject, eventFromStacktrace, prepareFramesForEvent } from './parsers';\nimport { computeStackTrace } from './tracekit';\n/** JSDoc */\nexport function eventFromUnknownInput(exception, syntheticException, options) {\n    if (options === void 0) { options = {}; }\n    var event;\n    if (isErrorEvent(exception) && exception.error) {\n        // If it is an ErrorEvent with `error` property, extract it to get actual Error\n        var errorEvent = exception;\n        exception = errorEvent.error; // tslint:disable-line:no-parameter-reassignment\n        event = eventFromStacktrace(computeStackTrace(exception));\n        return event;\n    }\n    if (isDOMError(exception) || isDOMException(exception)) {\n        // If it is a DOMError or DOMException (which are legacy APIs, but still supported in some browsers)\n        // then we just extract the name and message, as they don't provide anything else\n        // https://developer.mozilla.org/en-US/docs/Web/API/DOMError\n        // https://developer.mozilla.org/en-US/docs/Web/API/DOMException\n        var domException = exception;\n        var name_1 = domException.name || (isDOMError(domException) ? 'DOMError' : 'DOMException');\n        var message = domException.message ? name_1 + \": \" + domException.message : name_1;\n        event = eventFromString(message, syntheticException, options);\n        addExceptionTypeValue(event, message);\n        return event;\n    }\n    if (isError(exception)) {\n        // we have a real Error object, do nothing\n        event = eventFromStacktrace(computeStackTrace(exception));\n        return event;\n    }\n    if (isPlainObject(exception) || isEvent(exception)) {\n        // If it is plain Object or Event, serialize it manually and extract options\n        // This will allow us to group events based on top-level keys\n        // which is much better than creating new group when any key/value change\n        var objectException = exception;\n        event = eventFromPlainObject(objectException, syntheticException, options.rejection);\n        addExceptionMechanism(event, {\n            synthetic: true,\n        });\n        return event;\n    }\n    // If none of previous checks were valid, then it means that it's not:\n    // - an instance of DOMError\n    // - an instance of DOMException\n    // - an instance of Event\n    // - an instance of Error\n    // - a valid ErrorEvent (one with an error property)\n    // - a plain Object\n    //\n    // So bail out and capture it as a simple message:\n    event = eventFromString(exception, syntheticException, options);\n    addExceptionTypeValue(event, \"\" + exception, undefined);\n    addExceptionMechanism(event, {\n        synthetic: true,\n    });\n    return event;\n}\n// this._options.attachStacktrace\n/** JSDoc */\nexport function eventFromString(input, syntheticException, options) {\n    if (options === void 0) { options = {}; }\n    var event = {\n        message: input,\n    };\n    if (options.attachStacktrace && syntheticException) {\n        var stacktrace = computeStackTrace(syntheticException);\n        var frames_1 = prepareFramesForEvent(stacktrace.stack);\n        event.stacktrace = {\n            frames: frames_1,\n        };\n    }\n    return event;\n}\n//# sourceMappingURL=eventbuilder.js.map","module.exports = require('nanohtml');","var scheduler = require('nanoscheduler')();\nvar perf;\nnanotiming.disabled = true;\ntry {\n    perf = window.performance;\n    nanotiming.disabled = window.localStorage.DISABLE_NANOTIMING === 'true' || !perf.mark;\n} catch (e) {\n}\nmodule.exports = nanotiming;\nfunction nanotiming(name) {\n    if (nanotiming.disabled)\n        return noop;\n    var uuid = (perf.now() * 10000).toFixed() % Number.MAX_SAFE_INTEGER;\n    var startName = 'start-' + uuid + '-' + name;\n    perf.mark(startName);\n    function end(cb) {\n        var endName = 'end-' + uuid + '-' + name;\n        perf.mark(endName);\n        scheduler.push(function () {\n            var err = null;\n            try {\n                var measureName = name + ' [' + uuid + ']';\n                perf.measure(measureName, startName, endName);\n                perf.clearMarks(startName);\n                perf.clearMarks(endName);\n            } catch (e) {\n                err = e;\n            }\n            if (cb)\n                cb(err, name);\n        });\n    }\n    end.uuid = uuid;\n    return end;\n}\nfunction noop(cb) {\n    if (cb) {\n        scheduler.push(function () {\n            cb(new Error('nanotiming: performance API unavailable'));\n        });\n    }\n}","const html = require('choo/html');\n\nmodule.exports = function(message) {\n  return function(state, emit, close) {\n    return html`\n      <send-ok-dialog class=\"flex flex-col max-w-sm p-4 m-auto\">\n        <h2 class=\"text-center text-xl font-bold m-8 leading-normal\">\n          ${message}\n        </h2>\n        <button\n          class=\"btn rounded-lg w-full flex-shrink-0\"\n          onclick=\"${close}\"\n          title=\"${state.translate('okButton')}\"\n        >\n          ${state.translate('okButton')}\n        </button>\n      </send-ok-dialog>\n    `;\n  };\n};\n","/* global AUTH_CONFIG */\nimport { arrayToB64, b64ToArray } from './utils';\n\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\n\nfunction getOtherInfo(enc) {\n  const name = encoder.encode(enc);\n  const length = 256;\n  const buffer = new ArrayBuffer(name.length + 16);\n  const dv = new DataView(buffer);\n  const result = new Uint8Array(buffer);\n  let i = 0;\n  dv.setUint32(i, name.length);\n  i += 4;\n  result.set(name, i);\n  i += name.length;\n  dv.setUint32(i, 0);\n  i += 4;\n  dv.setUint32(i, 0);\n  i += 4;\n  dv.setUint32(i, length);\n  return result;\n}\n\nfunction concat(b1, b2) {\n  const result = new Uint8Array(b1.length + b2.length);\n  result.set(b1, 0);\n  result.set(b2, b1.length);\n  return result;\n}\n\nasync function concatKdf(key, enc) {\n  if (key.length !== 32) {\n    throw new Error('unsupported key length');\n  }\n  const otherInfo = getOtherInfo(enc);\n  const buffer = new ArrayBuffer(4 + key.length + otherInfo.length);\n  const dv = new DataView(buffer);\n  const concat = new Uint8Array(buffer);\n  dv.setUint32(0, 1);\n  concat.set(key, 4);\n  concat.set(otherInfo, key.length + 4);\n  const result = await crypto.subtle.digest('SHA-256', concat);\n  return new Uint8Array(result);\n}\n\nexport async function prepareScopedBundleKey(storage) {\n  const keys = await crypto.subtle.generateKey(\n    {\n      name: 'ECDH',\n      namedCurve: 'P-256'\n    },\n    true,\n    ['deriveBits']\n  );\n  const privateJwk = await crypto.subtle.exportKey('jwk', keys.privateKey);\n  const publicJwk = await crypto.subtle.exportKey('jwk', keys.publicKey);\n  const kid = await crypto.subtle.digest(\n    'SHA-256',\n    encoder.encode(JSON.stringify(publicJwk))\n  );\n  privateJwk.kid = kid;\n  publicJwk.kid = kid;\n  storage.set('scopedBundlePrivateKey', JSON.stringify(privateJwk));\n  return arrayToB64(encoder.encode(JSON.stringify(publicJwk)));\n}\n\nexport async function decryptBundle(storage, bundle) {\n  const privateJwk = JSON.parse(storage.get('scopedBundlePrivateKey'));\n  storage.remove('scopedBundlePrivateKey');\n  const privateKey = await crypto.subtle.importKey(\n    'jwk',\n    privateJwk,\n    {\n      name: 'ECDH',\n      namedCurve: 'P-256'\n    },\n    false,\n    ['deriveBits']\n  );\n  const jweParts = bundle.split('.');\n  if (jweParts.length !== 5) {\n    throw new Error('invalid jwe');\n  }\n  const header = JSON.parse(decoder.decode(b64ToArray(jweParts[0])));\n  const additionalData = encoder.encode(jweParts[0]);\n  const iv = b64ToArray(jweParts[2]);\n  const ciphertext = b64ToArray(jweParts[3]);\n  const tag = b64ToArray(jweParts[4]);\n\n  if (header.alg !== 'ECDH-ES' || header.enc !== 'A256GCM') {\n    throw new Error('unsupported jwe type');\n  }\n\n  const publicKey = await crypto.subtle.importKey(\n    'jwk',\n    header.epk,\n    {\n      name: 'ECDH',\n      namedCurve: 'P-256'\n    },\n    false,\n    []\n  );\n  const sharedBits = await crypto.subtle.deriveBits(\n    {\n      name: 'ECDH',\n      public: publicKey\n    },\n    privateKey,\n    256\n  );\n\n  const rawSharedKey = await concatKdf(new Uint8Array(sharedBits), header.enc);\n  const sharedKey = await crypto.subtle.importKey(\n    'raw',\n    rawSharedKey,\n    {\n      name: 'AES-GCM'\n    },\n    false,\n    ['decrypt']\n  );\n\n  const plaintext = await crypto.subtle.decrypt(\n    {\n      name: 'AES-GCM',\n      iv: iv,\n      additionalData: additionalData,\n      tagLength: tag.length * 8\n    },\n    sharedKey,\n    concat(ciphertext, tag)\n  );\n\n  return JSON.parse(decoder.decode(plaintext));\n}\n\nexport async function preparePkce(storage) {\n  const verifier = arrayToB64(crypto.getRandomValues(new Uint8Array(64)));\n  storage.set('pkceVerifier', verifier);\n  const challenge = await crypto.subtle.digest(\n    'SHA-256',\n    encoder.encode(verifier)\n  );\n  return arrayToB64(new Uint8Array(challenge));\n}\n\nexport async function deriveFileListKey(ikm) {\n  const baseKey = await crypto.subtle.importKey(\n    'raw',\n    b64ToArray(ikm),\n    { name: 'HKDF' },\n    false,\n    ['deriveKey']\n  );\n  const fileListKey = await crypto.subtle.deriveKey(\n    {\n      name: 'HKDF',\n      salt: new Uint8Array(),\n      info: encoder.encode('fileList'),\n      hash: 'SHA-256'\n    },\n    baseKey,\n    {\n      name: 'AES-GCM',\n      length: 128\n    },\n    true,\n    ['encrypt', 'decrypt']\n  );\n  const rawFileListKey = await crypto.subtle.exportKey('raw', fileListKey);\n  return arrayToB64(new Uint8Array(rawFileListKey));\n}\n\nexport async function getFileListKey(storage, bundle) {\n  const jwks = await decryptBundle(storage, bundle);\n  const jwk = jwks[AUTH_CONFIG.key_scope];\n  return deriveFileListKey(jwk.k);\n}\n","import { isRegExp } from './is';\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function truncate(str, max) {\n    if (max === void 0) { max = 0; }\n    // tslint:disable-next-line:strict-type-predicates\n    if (typeof str !== 'string' || max === 0) {\n        return str;\n    }\n    return str.length <= max ? str : str.substr(0, max) + \"...\";\n}\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function snipLine(line, colno) {\n    var newLine = line;\n    var ll = newLine.length;\n    if (ll <= 150) {\n        return newLine;\n    }\n    if (colno > ll) {\n        colno = ll; // tslint:disable-line:no-parameter-reassignment\n    }\n    var start = Math.max(colno - 60, 0);\n    if (start < 5) {\n        start = 0;\n    }\n    var end = Math.min(start + 140, ll);\n    if (end > ll - 5) {\n        end = ll;\n    }\n    if (end === ll) {\n        start = Math.max(end - 140, 0);\n    }\n    newLine = newLine.slice(start, end);\n    if (start > 0) {\n        newLine = \"'{snip} \" + newLine;\n    }\n    if (end < ll) {\n        newLine += ' {snip}';\n    }\n    return newLine;\n}\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\nexport function safeJoin(input, delimiter) {\n    if (!Array.isArray(input)) {\n        return '';\n    }\n    var output = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < input.length; i++) {\n        var value = input[i];\n        try {\n            output.push(String(value));\n        }\n        catch (e) {\n            output.push('[value cannot be serialized]');\n        }\n    }\n    return output.join(delimiter);\n}\n/**\n * Checks if the value matches a regex or includes the string\n * @param value The string value to be checked against\n * @param pattern Either a regex or a string that must be contained in value\n */\nexport function isMatchingPattern(value, pattern) {\n    if (isRegExp(pattern)) {\n        return pattern.test(value);\n    }\n    if (typeof pattern === 'string') {\n        return value.indexOf(pattern) !== -1;\n    }\n    return false;\n}\n//# sourceMappingURL=string.js.map","/** JSDoc */\nexport var Severity;\n(function (Severity) {\n    /** JSDoc */\n    Severity[\"Fatal\"] = \"fatal\";\n    /** JSDoc */\n    Severity[\"Error\"] = \"error\";\n    /** JSDoc */\n    Severity[\"Warning\"] = \"warning\";\n    /** JSDoc */\n    Severity[\"Log\"] = \"log\";\n    /** JSDoc */\n    Severity[\"Info\"] = \"info\";\n    /** JSDoc */\n    Severity[\"Debug\"] = \"debug\";\n    /** JSDoc */\n    Severity[\"Critical\"] = \"critical\";\n})(Severity || (Severity = {}));\n// tslint:disable:completed-docs\n// tslint:disable:no-unnecessary-qualifier no-namespace\n(function (Severity) {\n    /**\n     * Converts a string-based level into a {@link Severity}.\n     *\n     * @param level string representation of Severity\n     * @returns Severity\n     */\n    function fromString(level) {\n        switch (level) {\n            case 'debug':\n                return Severity.Debug;\n            case 'info':\n                return Severity.Info;\n            case 'warn':\n            case 'warning':\n                return Severity.Warning;\n            case 'error':\n                return Severity.Error;\n            case 'fatal':\n                return Severity.Fatal;\n            case 'critical':\n                return Severity.Critical;\n            case 'log':\n            default:\n                return Severity.Log;\n        }\n    }\n    Severity.fromString = fromString;\n})(Severity || (Severity = {}));\n//# sourceMappingURL=severity.js.map","import { Status } from '@sentry/types';\nimport { SyncPromise } from '@sentry/utils';\n/** Noop transport */\nvar NoopTransport = /** @class */ (function () {\n    function NoopTransport() {\n    }\n    /**\n     * @inheritDoc\n     */\n    NoopTransport.prototype.sendEvent = function (_) {\n        return SyncPromise.resolve({\n            reason: \"NoopTransport: Event has been skipped because no Dsn is configured.\",\n            status: Status.Skipped,\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    NoopTransport.prototype.close = function (_) {\n        return SyncPromise.resolve(true);\n    };\n    return NoopTransport;\n}());\nexport { NoopTransport };\n//# sourceMappingURL=noop.js.map","import * as tslib_1 from \"tslib\";\nimport { BaseBackend } from '@sentry/core';\nimport { Severity } from '@sentry/types';\nimport { addExceptionMechanism, supportsFetch, SyncPromise } from '@sentry/utils';\nimport { eventFromString, eventFromUnknownInput } from './eventbuilder';\nimport { FetchTransport, XHRTransport } from './transports';\n/**\n * The Sentry Browser SDK Backend.\n * @hidden\n */\nvar BrowserBackend = /** @class */ (function (_super) {\n    tslib_1.__extends(BrowserBackend, _super);\n    function BrowserBackend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @inheritDoc\n     */\n    BrowserBackend.prototype._setupTransport = function () {\n        if (!this._options.dsn) {\n            // We return the noop transport here in case there is no Dsn.\n            return _super.prototype._setupTransport.call(this);\n        }\n        var transportOptions = tslib_1.__assign({}, this._options.transportOptions, { dsn: this._options.dsn });\n        if (this._options.transport) {\n            return new this._options.transport(transportOptions);\n        }\n        if (supportsFetch()) {\n            return new FetchTransport(transportOptions);\n        }\n        return new XHRTransport(transportOptions);\n    };\n    /**\n     * @inheritDoc\n     */\n    BrowserBackend.prototype.eventFromException = function (exception, hint) {\n        var syntheticException = (hint && hint.syntheticException) || undefined;\n        var event = eventFromUnknownInput(exception, syntheticException, {\n            attachStacktrace: this._options.attachStacktrace,\n        });\n        addExceptionMechanism(event, {\n            handled: true,\n            type: 'generic',\n        });\n        event.level = Severity.Error;\n        if (hint && hint.event_id) {\n            event.event_id = hint.event_id;\n        }\n        return SyncPromise.resolve(event);\n    };\n    /**\n     * @inheritDoc\n     */\n    BrowserBackend.prototype.eventFromMessage = function (message, level, hint) {\n        if (level === void 0) { level = Severity.Info; }\n        var syntheticException = (hint && hint.syntheticException) || undefined;\n        var event = eventFromString(message, syntheticException, {\n            attachStacktrace: this._options.attachStacktrace,\n        });\n        event.level = level;\n        if (hint && hint.event_id) {\n            event.event_id = hint.event_id;\n        }\n        return SyncPromise.resolve(event);\n    };\n    return BrowserBackend;\n}(BaseBackend));\nexport { BrowserBackend };\n//# sourceMappingURL=backend.js.map","import * as tslib_1 from \"tslib\";\nimport { API, BaseClient } from '@sentry/core';\nimport { getGlobalObject, logger } from '@sentry/utils';\nimport { BrowserBackend } from './backend';\nimport { SDK_NAME, SDK_VERSION } from './version';\n/**\n * The Sentry Browser SDK Client.\n *\n * @see BrowserOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nvar BrowserClient = /** @class */ (function (_super) {\n    tslib_1.__extends(BrowserClient, _super);\n    /**\n     * Creates a new Browser SDK instance.\n     *\n     * @param options Configuration options for this SDK.\n     */\n    function BrowserClient(options) {\n        if (options === void 0) { options = {}; }\n        return _super.call(this, BrowserBackend, options) || this;\n    }\n    /**\n     * @inheritDoc\n     */\n    BrowserClient.prototype._prepareEvent = function (event, scope, hint) {\n        event.platform = event.platform || 'javascript';\n        event.sdk = tslib_1.__assign({}, event.sdk, { name: SDK_NAME, packages: tslib_1.__spread(((event.sdk && event.sdk.packages) || []), [\n                {\n                    name: 'npm:@sentry/browser',\n                    version: SDK_VERSION,\n                },\n            ]), version: SDK_VERSION });\n        return _super.prototype._prepareEvent.call(this, event, scope, hint);\n    };\n    /**\n     * Show a report dialog to the user to send feedback to a specific event.\n     *\n     * @param options Set individual options for the dialog\n     */\n    BrowserClient.prototype.showReportDialog = function (options) {\n        if (options === void 0) { options = {}; }\n        // doesn't work without a document (React Native)\n        var document = getGlobalObject().document;\n        if (!document) {\n            return;\n        }\n        if (!this._isEnabled()) {\n            logger.error('Trying to call showReportDialog with Sentry Client is disabled');\n            return;\n        }\n        var dsn = options.dsn || this.getDsn();\n        if (!options.eventId) {\n            logger.error('Missing `eventId` option in showReportDialog call');\n            return;\n        }\n        if (!dsn) {\n            logger.error('Missing `Dsn` option in showReportDialog call');\n            return;\n        }\n        var script = document.createElement('script');\n        script.async = true;\n        script.src = new API(dsn).getReportDialogEndpoint(options);\n        if (options.onLoad) {\n            script.onload = options.onLoad;\n        }\n        (document.head || document.body).appendChild(script);\n    };\n    return BrowserClient;\n}(BaseClient));\nexport { BrowserClient };\n//# sourceMappingURL=client.js.map","import { urlEncode } from '@sentry/utils';\nimport { Dsn } from './dsn';\nvar SENTRY_API_VERSION = '7';\n/** Helper class to provide urls to different Sentry endpoints. */\nvar API = /** @class */ (function () {\n    /** Create a new instance of API */\n    function API(dsn) {\n        this.dsn = dsn;\n        this._dsnObject = new Dsn(dsn);\n    }\n    /** Returns the Dsn object. */\n    API.prototype.getDsn = function () {\n        return this._dsnObject;\n    };\n    /** Returns a string with auth headers in the url to the store endpoint. */\n    API.prototype.getStoreEndpoint = function () {\n        return \"\" + this._getBaseUrl() + this.getStoreEndpointPath();\n    };\n    /** Returns the store endpoint with auth added in url encoded. */\n    API.prototype.getStoreEndpointWithUrlEncodedAuth = function () {\n        var dsn = this._dsnObject;\n        var auth = {\n            sentry_key: dsn.user,\n            sentry_version: SENTRY_API_VERSION,\n        };\n        // Auth is intentionally sent as part of query string (NOT as custom HTTP header)\n        // to avoid preflight CORS requests\n        return this.getStoreEndpoint() + \"?\" + urlEncode(auth);\n    };\n    /** Returns the base path of the url including the port. */\n    API.prototype._getBaseUrl = function () {\n        var dsn = this._dsnObject;\n        var protocol = dsn.protocol ? dsn.protocol + \":\" : '';\n        var port = dsn.port ? \":\" + dsn.port : '';\n        return protocol + \"//\" + dsn.host + port;\n    };\n    /** Returns only the path component for the store endpoint. */\n    API.prototype.getStoreEndpointPath = function () {\n        var dsn = this._dsnObject;\n        return (dsn.path ? \"/\" + dsn.path : '') + \"/api/\" + dsn.projectId + \"/store/\";\n    };\n    /** Returns an object that can be used in request headers. */\n    API.prototype.getRequestHeaders = function (clientName, clientVersion) {\n        var dsn = this._dsnObject;\n        var header = [\"Sentry sentry_version=\" + SENTRY_API_VERSION];\n        header.push(\"sentry_timestamp=\" + new Date().getTime());\n        header.push(\"sentry_client=\" + clientName + \"/\" + clientVersion);\n        header.push(\"sentry_key=\" + dsn.user);\n        if (dsn.pass) {\n            header.push(\"sentry_secret=\" + dsn.pass);\n        }\n        return {\n            'Content-Type': 'application/json',\n            'X-Sentry-Auth': header.join(', '),\n        };\n    };\n    /** Returns the url to the report dialog endpoint. */\n    API.prototype.getReportDialogEndpoint = function (dialogOptions) {\n        if (dialogOptions === void 0) { dialogOptions = {}; }\n        var dsn = this._dsnObject;\n        var endpoint = \"\" + this._getBaseUrl() + (dsn.path ? \"/\" + dsn.path : '') + \"/api/embed/error-page/\";\n        var encodedOptions = [];\n        encodedOptions.push(\"dsn=\" + dsn.toString());\n        for (var key in dialogOptions) {\n            if (key === 'user') {\n                if (!dialogOptions.user) {\n                    continue;\n                }\n                if (dialogOptions.user.name) {\n                    encodedOptions.push(\"name=\" + encodeURIComponent(dialogOptions.user.name));\n                }\n                if (dialogOptions.user.email) {\n                    encodedOptions.push(\"email=\" + encodeURIComponent(dialogOptions.user.email));\n                }\n            }\n            else {\n                encodedOptions.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(dialogOptions[key]));\n            }\n        }\n        if (encodedOptions.length) {\n            return endpoint + \"?\" + encodedOptions.join('&');\n        }\n        return endpoint;\n    };\n    return API;\n}());\nexport { API };\n//# sourceMappingURL=api.js.map","'use strict';\nexports.byteLength = byteLength;\nexports.toByteArray = toByteArray;\nexports.fromByteArray = fromByteArray;\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nfor (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\nfunction getLens(b64) {\n    var len = b64.length;\n    if (len % 4 > 0) {\n        throw new Error('Invalid string. Length must be a multiple of 4');\n    }\n    // Trim off extra bytes after placeholder bytes are found\n    // See: https://github.com/beatgammit/base64-js/issues/42\n    var validLen = b64.indexOf('=');\n    if (validLen === -1)\n        validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [\n        validLen,\n        placeHoldersLen\n    ];\n}\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction _byteLength(b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0;\n    // if there are placeholders, only get up to the last complete 4 chars\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n    for (i = 0; i < len; i += 4) {\n        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    return arr;\n}\nfunction tripletToBase64(num) {\n    return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n}\nfunction encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for (var i = start; i < end; i += 3) {\n        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (uint8[i + 2] & 255);\n        output.push(tripletToBase64(tmp));\n    }\n    return output.join('');\n}\nfunction fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3;\n    // if we have 1 byte left, pad 2 bytes\n    var parts = [];\n    var maxChunkLength = 16383;\n    // must be multiple of 3\n    // go through the array every three bytes, we'll deal with trailing stuff later\n    for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n        parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    }\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + '==');\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + '=');\n    }\n    return parts.join('');\n}","const html = require('choo/html');\n\nmodule.exports = function(state, emit) {\n  return html`\n    <send-modal\n      class=\"absolute inset-0 flex items-center justify-center overflow-hidden z-40 bg-white md:rounded-xl md:my-8 dark:bg-grey-90\"\n    >\n      <div\n        class=\"h-full w-full max-h-screen absolute top-0 flex items-center justify-center\"\n      >\n        <div class=\"w-full\">\n          ${state.modal(state, emit, close)}\n        </div>\n      </div>\n    </send-modal>\n  `;\n\n  function close(event) {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    emit('closeModal');\n  }\n};\n","const html = require('choo/html');\nconst { copyToClipboard } = require('../utils');\n\nmodule.exports = function(name, url) {\n  const dialog = function(state, emit, close) {\n    return html`\n      <send-copy-dialog\n        class=\"flex flex-col items-center text-center p-4 max-w-sm m-auto\"\n      >\n        <h1 class=\"text-3xl font-bold my-4\">\n          ${state.translate('notifyUploadEncryptDone')}\n        </h1>\n        <p\n          class=\"font-normal leading-normal text-grey-80 word-break-all dark:text-grey-40\"\n        >\n          ${state.translate('copyLinkDescription')} <br />\n          ${name}\n        </p>\n        <input\n          type=\"text\"\n          id=\"share-url\"\n          class=\"w-full my-4 border rounded-lg leading-loose h-12 px-2 py-1 dark:bg-grey-80\"\n          value=\"${url}\"\n          readonly=\"true\"\n        />\n        <button\n          class=\"btn rounded-lg w-full flex-shrink-0 focus:outline\"\n          onclick=\"${copy}\"\n          title=\"${state.translate('copyLinkButton')}\"\n        >\n          ${state.translate('copyLinkButton')}\n        </button>\n        <button\n          class=\"link-blue my-4 font-medium cursor-pointer focus:outline\"\n          onclick=\"${close}\"\n          title=\"${state.translate('okButton')}\"\n        >\n          ${state.translate('okButton')}\n        </button>\n      </send-copy-dialog>\n    `;\n\n    function copy(event) {\n      event.stopPropagation();\n      copyToClipboard(url);\n      event.target.textContent = state.translate('copiedUrl');\n      setTimeout(close, 1000);\n    }\n  };\n  dialog.type = 'copy';\n  return dialog;\n};\n","const html = require('choo/html');\n\nmodule.exports = function(name, url) {\n  const dialog = function(state, emit, close) {\n    return html`\n      <send-share-dialog\n        class=\"flex flex-col items-center text-center p-4 max-w-sm m-auto\"\n      >\n        <h1 class=\"text-3xl font-bold my-4\">\n          ${state.translate('notifyUploadEncryptDone')}\n        </h1>\n        <p\n          class=\"font-normal leading-normal text-grey-80 word-break-all dark:text-grey-40\"\n        >\n          ${state.translate('shareLinkDescription')}<br />\n          ${name}\n        </p>\n        <input\n          type=\"text\"\n          id=\"share-url\"\n          class=\"w-full my-4 border rounded-lg leading-loose h-12 px-2 py-1 dark:bg-grey-80\"\n          value=\"${url}\"\n          readonly=\"true\"\n        />\n        <button\n          class=\"btn rounded-lg w-full flex-shrink-0 focus:outline\"\n          onclick=\"${share}\"\n          title=\"${state.translate('shareLinkButton')}\"\n        >\n          ${state.translate('shareLinkButton')}\n        </button>\n        <button\n          class=\"link-blue my-4 font-medium cursor-pointer focus:outline\"\n          onclick=\"${close}\"\n          title=\"${state.translate('okButton')}\"\n        >\n          ${state.translate('okButton')}\n        </button>\n      </send-share-dialog>\n    `;\n\n    async function share(event) {\n      event.stopPropagation();\n      try {\n        await navigator.share({\n          title: state.translate('-send-brand'),\n          text: state.translate('shareMessage', { name }),\n          url\n        });\n      } catch (e) {\n        if (e.code === e.ABORT_ERR) {\n          return;\n        }\n        console.error(e);\n      }\n      close();\n    }\n  };\n  dialog.type = 'share';\n  return dialog;\n};\n","const html = require('choo/html');\nconst assets = require('../../common/assets');\nconst { bytes, platform } = require('../utils');\nconst { canceledSignup, submittedSignup } = require('../metrics');\n\nmodule.exports = function(trigger) {\n  return function(state, emit, close) {\n    const DAYS = Math.floor(state.LIMITS.MAX_EXPIRE_SECONDS / 86400);\n    const hidden = platform() === 'android' ? 'hidden' : '';\n    let submitting = false;\n    return html`\n      <send-signup-dialog\n        class=\"flex flex-col lg:flex-row justify-center px-8 md:px-24 w-full h-full\"\n      >\n        <img src=\"${assets.get('master-logo.svg')}\" class=\"h-16 mt-1 mb-4\" />\n        <section\n          class=\"flex flex-col flex-shrink-0 self-center lg:mx-6 lg:max-w-xs\"\n        >\n          <h1 class=\"text-3xl font-bold text-center lg:text-left\">\n            ${state.translate('accountBenefitTitle')}\n          </h1>\n          <ul\n            class=\"leading-normal list-disc text-grey-80 my-2 mt-4 pl-4 md:self-center dark:text-grey-40\"\n          >\n            <li>\n              ${state.translate('accountBenefitLargeFiles', {\n                size: bytes(state.LIMITS.MAX_FILE_SIZE)\n              })}\n            </li>\n            <li>${state.translate('accountBenefitDownloadCount')}</li>\n            <li>\n              ${state.translate('accountBenefitTimeLimit', { count: DAYS })}\n            </li>\n            <li>${state.translate('accountBenefitSync')}</li>\n            <li>${state.translate('accountBenefitMoz')}</li>\n          </ul>\n        </section>\n        <section\n          class=\"flex flex-col flex-grow m-4 md:self-center md:w-128 lg:max-w-xs\"\n        >\n          <form onsubmit=${submitEmail} data-no-csrf>\n            <input\n              id=\"email-input\"\n              type=\"email\"\n              class=\"${hidden} border rounded-lg w-full px-2 py-1 h-12 mb-3 text-lg text-grey-70 leading-loose dark:bg-grey-80 dark:text-white\"\n              placeholder=${state.translate('emailPlaceholder')}\n            />\n            <input\n              class=\"btn rounded-lg w-full flex flex-shrink-0 items-center justify-center\"\n              value=\"${state.translate('signInOnlyButton')}\"\n              title=\"${state.translate('signInOnlyButton')}\"\n              id=\"email-submit\"\n              type=\"submit\"\n            />\n          </form>\n          <button\n            class=\"my-3 link-blue font-medium\"\n            title=\"${state.translate('deletePopupCancel')}\"\n            onclick=${cancel}\n          >\n            ${state.translate('deletePopupCancel')}\n          </button>\n        </section>\n      </send-signup-dialog>\n    `;\n\n    function emailish(str) {\n      if (!str) {\n        return false;\n      }\n      // just check if it's the right shape\n      const a = str.split('@');\n      return a.length === 2 && a.every(s => s.length > 0);\n    }\n\n    function cancel(event) {\n      canceledSignup({ trigger });\n      close(event);\n    }\n\n    function submitEmail(event) {\n      event.preventDefault();\n      if (submitting) {\n        return;\n      }\n      submitting = true;\n\n      const el = document.getElementById('email-input');\n      const email = el.value;\n      submittedSignup({ trigger });\n      emit('login', emailish(email) ? email : null);\n    }\n  };\n};\n","const html = require('choo/html');\nconst version = require('../../package.json').version;\nconst { browserName } = require('../utils');\n\nmodule.exports = function() {\n  return function(state, emit, close) {\n    const surveyUrl = `${\n      state.PREFS.surveyUrl\n    }?ver=${version}&browser=${browserName()}&anon=${\n      state.user.loggedIn\n    }&active_count=${state.storage.files.length}`;\n    return html`\n      <send-survey-dialog\n        class=\"flex flex-col items-center text-center p-4 max-w-sm m-auto\"\n      >\n        <h1 class=\"text-3xl font-bold my-4\">\n          Tell us what you think.\n        </h1>\n        <p class=\"font-normal leading-normal text-grey-80 px-4\">\n          Love Firefox Send? Take a quick survey to let us know how we can make\n          it better.\n        </p>\n        <a\n          class=\"btn rounded-lg w-full flex-shrink-0 focus:outline my-5\"\n          onclick=\"${() => emit('closeModal')}\"\n          title=\"Give feedback\"\n          href=\"${surveyUrl}\"\n          target=\"_blank\"\n        >\n          Give feedback\n        </a>\n        <button\n          class=\"link-blue font-medium cursor-pointer focus:outline\"\n          onclick=\"${close}\"\n          title=\"Skip\"\n        >\n          Skip\n        </button>\n      </send-survey-dialog>\n    `;\n  };\n};\n","'use strict';\nmodule.exports = ['indeterminate'];","module.exports = require('nanocomponent');","export { BaseTransport } from './base';\nexport { FetchTransport } from './fetch';\nexport { XHRTransport } from './xhr';\n//# sourceMappingURL=index.js.map","import { uuid4 } from '@sentry/utils';\nexport var TRACEPARENT_REGEXP = /^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$/;\n/**\n * Span containg all data about a span\n */\nvar Span = /** @class */ (function () {\n    function Span(_traceId, _spanId, _sampled, _parent) {\n        if (_traceId === void 0) { _traceId = uuid4(); }\n        if (_spanId === void 0) { _spanId = uuid4().substring(16); }\n        this._traceId = _traceId;\n        this._spanId = _spanId;\n        this._sampled = _sampled;\n        this._parent = _parent;\n    }\n    /**\n     * Setter for parent\n     */\n    Span.prototype.setParent = function (parent) {\n        this._parent = parent;\n        return this;\n    };\n    /**\n     * Setter for sampled\n     */\n    Span.prototype.setSampled = function (sampled) {\n        this._sampled = sampled;\n        return this;\n    };\n    /**\n     * Continues a trace\n     * @param traceparent Traceparent string\n     */\n    Span.fromTraceparent = function (traceparent) {\n        var matches = traceparent.match(TRACEPARENT_REGEXP);\n        if (matches) {\n            var sampled = void 0;\n            if (matches[3] === '1') {\n                sampled = true;\n            }\n            else if (matches[3] === '0') {\n                sampled = false;\n            }\n            var parent_1 = new Span(matches[1], matches[2], sampled);\n            return new Span(matches[1], undefined, sampled, parent_1);\n        }\n        return undefined;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toTraceparent = function () {\n        var sampled = '';\n        if (this._sampled === true) {\n            sampled = '-1';\n        }\n        else if (this._sampled === false) {\n            sampled = '-0';\n        }\n        return this._traceId + \"-\" + this._spanId + sampled;\n    };\n    /**\n     * @inheritDoc\n     */\n    Span.prototype.toJSON = function () {\n        return {\n            parent: (this._parent && this._parent.toJSON()) || undefined,\n            sampled: this._sampled,\n            span_id: this._spanId,\n            trace_id: this._traceId,\n        };\n    };\n    return Span;\n}());\nexport { Span };\n//# sourceMappingURL=span.js.map","import { fill, getGlobalObject } from '@sentry/utils';\nimport { wrap } from '../helpers';\n/** Wrap timer functions and event targets to catch errors and provide better meta data */\nvar TryCatch = /** @class */ (function () {\n    function TryCatch() {\n        /** JSDoc */\n        this._ignoreOnError = 0;\n        /**\n         * @inheritDoc\n         */\n        this.name = TryCatch.id;\n    }\n    /** JSDoc */\n    TryCatch.prototype._wrapTimeFunction = function (original) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var originalCallback = args[0];\n            args[0] = wrap(originalCallback, {\n                mechanism: {\n                    data: { function: getFunctionName(original) },\n                    handled: true,\n                    type: 'instrument',\n                },\n            });\n            return original.apply(this, args);\n        };\n    };\n    /** JSDoc */\n    TryCatch.prototype._wrapRAF = function (original) {\n        return function (callback) {\n            return original(wrap(callback, {\n                mechanism: {\n                    data: {\n                        function: 'requestAnimationFrame',\n                        handler: getFunctionName(original),\n                    },\n                    handled: true,\n                    type: 'instrument',\n                },\n            }));\n        };\n    };\n    /** JSDoc */\n    TryCatch.prototype._wrapEventTarget = function (target) {\n        var global = getGlobalObject();\n        var proto = global[target] && global[target].prototype;\n        if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n            return;\n        }\n        fill(proto, 'addEventListener', function (original) {\n            return function (eventName, fn, options) {\n                try {\n                    // tslint:disable-next-line:no-unbound-method strict-type-predicates\n                    if (typeof fn.handleEvent === 'function') {\n                        fn.handleEvent = wrap(fn.handleEvent.bind(fn), {\n                            mechanism: {\n                                data: {\n                                    function: 'handleEvent',\n                                    handler: getFunctionName(fn),\n                                    target: target,\n                                },\n                                handled: true,\n                                type: 'instrument',\n                            },\n                        });\n                    }\n                }\n                catch (err) {\n                    // can sometimes get 'Permission denied to access property \"handle Event'\n                }\n                return original.call(this, eventName, wrap(fn, {\n                    mechanism: {\n                        data: {\n                            function: 'addEventListener',\n                            handler: getFunctionName(fn),\n                            target: target,\n                        },\n                        handled: true,\n                        type: 'instrument',\n                    },\n                }), options);\n            };\n        });\n        fill(proto, 'removeEventListener', function (original) {\n            return function (eventName, fn, options) {\n                var callback = fn;\n                try {\n                    callback = callback && (callback.__sentry_wrapped__ || callback);\n                }\n                catch (e) {\n                    // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n                }\n                return original.call(this, eventName, callback, options);\n            };\n        });\n    };\n    /**\n     * Wrap timer functions and event targets to catch errors\n     * and provide better metadata.\n     */\n    TryCatch.prototype.setupOnce = function () {\n        this._ignoreOnError = this._ignoreOnError;\n        var global = getGlobalObject();\n        fill(global, 'setTimeout', this._wrapTimeFunction.bind(this));\n        fill(global, 'setInterval', this._wrapTimeFunction.bind(this));\n        fill(global, 'requestAnimationFrame', this._wrapRAF.bind(this));\n        [\n            'EventTarget',\n            'Window',\n            'Node',\n            'ApplicationCache',\n            'AudioTrackList',\n            'ChannelMergerNode',\n            'CryptoOperation',\n            'EventSource',\n            'FileReader',\n            'HTMLUnknownElement',\n            'IDBDatabase',\n            'IDBRequest',\n            'IDBTransaction',\n            'KeyOperation',\n            'MediaController',\n            'MessagePort',\n            'ModalWindow',\n            'Notification',\n            'SVGElementInstance',\n            'Screen',\n            'TextTrack',\n            'TextTrackCue',\n            'TextTrackList',\n            'WebSocket',\n            'WebSocketWorker',\n            'Worker',\n            'XMLHttpRequest',\n            'XMLHttpRequestEventTarget',\n            'XMLHttpRequestUpload',\n        ].forEach(this._wrapEventTarget.bind(this));\n    };\n    /**\n     * @inheritDoc\n     */\n    TryCatch.id = 'TryCatch';\n    return TryCatch;\n}());\nexport { TryCatch };\n/**\n * Safely extract function name from itself\n */\nfunction getFunctionName(fn) {\n    try {\n        return (fn && fn.name) || '<anonymous>';\n    }\n    catch (e) {\n        // Just accessing custom props in some Selenium environments\n        // can cause a \"Permission denied\" exception (see raven-js#495).\n        return '<anonymous>';\n    }\n}\n//# sourceMappingURL=trycatch.js.map","import * as tslib_1 from \"tslib\";\nimport { API, getCurrentHub } from '@sentry/core';\nimport { Severity } from '@sentry/types';\nimport { fill, getEventDescription, getGlobalObject, isString, logger, normalize, parseUrl, safeJoin, supportsHistory, supportsNativeFetch, } from '@sentry/utils';\nimport { breadcrumbEventHandler, keypressEventHandler, wrap } from '../helpers';\nvar global = getGlobalObject();\nvar lastHref;\n/** Default Breadcrumbs instrumentations */\nvar Breadcrumbs = /** @class */ (function () {\n    /**\n     * @inheritDoc\n     */\n    function Breadcrumbs(options) {\n        /**\n         * @inheritDoc\n         */\n        this.name = Breadcrumbs.id;\n        this._options = tslib_1.__assign({ console: true, dom: true, fetch: true, history: true, sentry: true, xhr: true }, options);\n    }\n    /** JSDoc */\n    Breadcrumbs.prototype._instrumentConsole = function () {\n        if (!('console' in global)) {\n            return;\n        }\n        ['debug', 'info', 'warn', 'error', 'log', 'assert'].forEach(function (level) {\n            if (!(level in global.console)) {\n                return;\n            }\n            fill(global.console, level, function (originalConsoleLevel) {\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var breadcrumbData = {\n                        category: 'console',\n                        data: {\n                            extra: {\n                                arguments: normalize(args, 3),\n                            },\n                            logger: 'console',\n                        },\n                        level: Severity.fromString(level),\n                        message: safeJoin(args, ' '),\n                    };\n                    if (level === 'assert') {\n                        if (args[0] === false) {\n                            breadcrumbData.message = \"Assertion failed: \" + (safeJoin(args.slice(1), ' ') || 'console.assert');\n                            breadcrumbData.data.extra.arguments = normalize(args.slice(1), 3);\n                            Breadcrumbs.addBreadcrumb(breadcrumbData, {\n                                input: args,\n                                level: level,\n                            });\n                        }\n                    }\n                    else {\n                        Breadcrumbs.addBreadcrumb(breadcrumbData, {\n                            input: args,\n                            level: level,\n                        });\n                    }\n                    // this fails for some browsers. :(\n                    if (originalConsoleLevel) {\n                        Function.prototype.apply.call(originalConsoleLevel, global.console, args);\n                    }\n                };\n            });\n        });\n    };\n    /** JSDoc */\n    Breadcrumbs.prototype._instrumentDOM = function () {\n        if (!('document' in global)) {\n            return;\n        }\n        // Capture breadcrumbs from any click that is unhandled / bubbled up all the way\n        // to the document. Do this before we instrument addEventListener.\n        global.document.addEventListener('click', breadcrumbEventHandler('click'), false);\n        global.document.addEventListener('keypress', keypressEventHandler(), false);\n        // After hooking into document bubbled up click and keypresses events, we also hook into user handled click & keypresses.\n        ['EventTarget', 'Node'].forEach(function (target) {\n            var proto = global[target] && global[target].prototype;\n            if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n                return;\n            }\n            fill(proto, 'addEventListener', function (original) {\n                return function (eventName, fn, options) {\n                    if (fn && fn.handleEvent) {\n                        if (eventName === 'click') {\n                            fill(fn, 'handleEvent', function (innerOriginal) {\n                                return function (event) {\n                                    breadcrumbEventHandler('click')(event);\n                                    return innerOriginal.call(this, event);\n                                };\n                            });\n                        }\n                        if (eventName === 'keypress') {\n                            fill(fn, 'handleEvent', function (innerOriginal) {\n                                return function (event) {\n                                    keypressEventHandler()(event);\n                                    return innerOriginal.call(this, event);\n                                };\n                            });\n                        }\n                    }\n                    else {\n                        if (eventName === 'click') {\n                            breadcrumbEventHandler('click', true)(this);\n                        }\n                        if (eventName === 'keypress') {\n                            keypressEventHandler()(this);\n                        }\n                    }\n                    return original.call(this, eventName, fn, options);\n                };\n            });\n            fill(proto, 'removeEventListener', function (original) {\n                return function (eventName, fn, options) {\n                    var callback = fn;\n                    try {\n                        callback = callback && (callback.__sentry_wrapped__ || callback);\n                    }\n                    catch (e) {\n                        // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n                    }\n                    return original.call(this, eventName, callback, options);\n                };\n            });\n        });\n    };\n    /** JSDoc */\n    Breadcrumbs.prototype._instrumentFetch = function () {\n        if (!supportsNativeFetch()) {\n            return;\n        }\n        fill(global, 'fetch', function (originalFetch) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var fetchInput = args[0];\n                var method = 'GET';\n                var url;\n                if (typeof fetchInput === 'string') {\n                    url = fetchInput;\n                }\n                else if ('Request' in global && fetchInput instanceof Request) {\n                    url = fetchInput.url;\n                    if (fetchInput.method) {\n                        method = fetchInput.method;\n                    }\n                }\n                else {\n                    url = String(fetchInput);\n                }\n                if (args[1] && args[1].method) {\n                    method = args[1].method;\n                }\n                var client = getCurrentHub().getClient();\n                var dsn = client && client.getDsn();\n                if (dsn) {\n                    var filterUrl = new API(dsn).getStoreEndpoint();\n                    // if Sentry key appears in URL, don't capture it as a request\n                    // but rather as our own 'sentry' type breadcrumb\n                    if (filterUrl && url.indexOf(filterUrl) !== -1) {\n                        if (method === 'POST' && args[1] && args[1].body) {\n                            addSentryBreadcrumb(args[1].body);\n                        }\n                        return originalFetch.apply(global, args);\n                    }\n                }\n                var fetchData = {\n                    method: isString(method) ? method.toUpperCase() : method,\n                    url: url,\n                };\n                return originalFetch\n                    .apply(global, args)\n                    .then(function (response) {\n                    fetchData.status_code = response.status;\n                    Breadcrumbs.addBreadcrumb({\n                        category: 'fetch',\n                        data: fetchData,\n                        type: 'http',\n                    }, {\n                        input: args,\n                        response: response,\n                    });\n                    return response;\n                })\n                    .then(null, function (error) {\n                    Breadcrumbs.addBreadcrumb({\n                        category: 'fetch',\n                        data: fetchData,\n                        level: Severity.Error,\n                        type: 'http',\n                    }, {\n                        error: error,\n                        input: args,\n                    });\n                    throw error;\n                });\n            };\n        });\n    };\n    /** JSDoc */\n    Breadcrumbs.prototype._instrumentHistory = function () {\n        var _this = this;\n        if (!supportsHistory()) {\n            return;\n        }\n        var captureUrlChange = function (from, to) {\n            var parsedLoc = parseUrl(global.location.href);\n            var parsedTo = parseUrl(to);\n            var parsedFrom = parseUrl(from);\n            // Initial pushState doesn't provide `from` information\n            if (!parsedFrom.path) {\n                parsedFrom = parsedLoc;\n            }\n            // because onpopstate only tells you the \"new\" (to) value of location.href, and\n            // not the previous (from) value, we need to track the value of the current URL\n            // state ourselves\n            lastHref = to;\n            // Use only the path component of the URL if the URL matches the current\n            // document (almost all the time when using pushState)\n            if (parsedLoc.protocol === parsedTo.protocol && parsedLoc.host === parsedTo.host) {\n                // tslint:disable-next-line:no-parameter-reassignment\n                to = parsedTo.relative;\n            }\n            if (parsedLoc.protocol === parsedFrom.protocol && parsedLoc.host === parsedFrom.host) {\n                // tslint:disable-next-line:no-parameter-reassignment\n                from = parsedFrom.relative;\n            }\n            Breadcrumbs.addBreadcrumb({\n                category: 'navigation',\n                data: {\n                    from: from,\n                    to: to,\n                },\n            });\n        };\n        // record navigation (URL) changes\n        var oldOnPopState = global.onpopstate;\n        global.onpopstate = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var currentHref = global.location.href;\n            captureUrlChange(lastHref, currentHref);\n            if (oldOnPopState) {\n                return oldOnPopState.apply(_this, args);\n            }\n        };\n        /**\n         * @hidden\n         */\n        function historyReplacementFunction(originalHistoryFunction) {\n            // note history.pushState.length is 0; intentionally not declaring\n            // params to preserve 0 arity\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var url = args.length > 2 ? args[2] : undefined;\n                // url argument is optional\n                if (url) {\n                    // coerce to string (this is what pushState does)\n                    captureUrlChange(lastHref, String(url));\n                }\n                return originalHistoryFunction.apply(this, args);\n            };\n        }\n        fill(global.history, 'pushState', historyReplacementFunction);\n        fill(global.history, 'replaceState', historyReplacementFunction);\n    };\n    /** JSDoc */\n    Breadcrumbs.prototype._instrumentXHR = function () {\n        if (!('XMLHttpRequest' in global)) {\n            return;\n        }\n        /**\n         * @hidden\n         */\n        function wrapProp(prop, xhr) {\n            if (prop in xhr && typeof xhr[prop] === 'function') {\n                fill(xhr, prop, function (original) {\n                    return wrap(original, {\n                        mechanism: {\n                            data: {\n                                function: prop,\n                                handler: (original && original.name) || '<anonymous>',\n                            },\n                            handled: true,\n                            type: 'instrument',\n                        },\n                    });\n                });\n            }\n        }\n        var xhrproto = XMLHttpRequest.prototype;\n        fill(xhrproto, 'open', function (originalOpen) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var url = args[1];\n                this.__sentry_xhr__ = {\n                    method: isString(args[0]) ? args[0].toUpperCase() : args[0],\n                    url: args[1],\n                };\n                var client = getCurrentHub().getClient();\n                var dsn = client && client.getDsn();\n                if (dsn) {\n                    var filterUrl = new API(dsn).getStoreEndpoint();\n                    // if Sentry key appears in URL, don't capture it as a request\n                    // but rather as our own 'sentry' type breadcrumb\n                    if (isString(url) && (filterUrl && url.indexOf(filterUrl) !== -1)) {\n                        this.__sentry_own_request__ = true;\n                    }\n                }\n                return originalOpen.apply(this, args);\n            };\n        });\n        fill(xhrproto, 'send', function (originalSend) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var xhr = this; // tslint:disable-line:no-this-assignment\n                if (xhr.__sentry_own_request__) {\n                    addSentryBreadcrumb(args[0]);\n                }\n                /**\n                 * @hidden\n                 */\n                function onreadystatechangeHandler() {\n                    if (xhr.readyState === 4) {\n                        if (xhr.__sentry_own_request__) {\n                            return;\n                        }\n                        try {\n                            // touching statusCode in some platforms throws\n                            // an exception\n                            if (xhr.__sentry_xhr__) {\n                                xhr.__sentry_xhr__.status_code = xhr.status;\n                            }\n                        }\n                        catch (e) {\n                            /* do nothing */\n                        }\n                        Breadcrumbs.addBreadcrumb({\n                            category: 'xhr',\n                            data: xhr.__sentry_xhr__,\n                            type: 'http',\n                        }, {\n                            xhr: xhr,\n                        });\n                    }\n                }\n                var xmlHttpRequestProps = ['onload', 'onerror', 'onprogress'];\n                xmlHttpRequestProps.forEach(function (prop) {\n                    wrapProp(prop, xhr);\n                });\n                if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n                    fill(xhr, 'onreadystatechange', function (original) {\n                        return wrap(original, {\n                            mechanism: {\n                                data: {\n                                    function: 'onreadystatechange',\n                                    handler: (original && original.name) || '<anonymous>',\n                                },\n                                handled: true,\n                                type: 'instrument',\n                            },\n                        }, onreadystatechangeHandler);\n                    });\n                }\n                else {\n                    // if onreadystatechange wasn't actually set by the page on this xhr, we\n                    // are free to set our own and capture the breadcrumb\n                    xhr.onreadystatechange = onreadystatechangeHandler;\n                }\n                return originalSend.apply(this, args);\n            };\n        });\n    };\n    /**\n     * Helper that checks if integration is enabled on the client.\n     * @param breadcrumb Breadcrumb\n     * @param hint BreadcrumbHint\n     */\n    Breadcrumbs.addBreadcrumb = function (breadcrumb, hint) {\n        if (getCurrentHub().getIntegration(Breadcrumbs)) {\n            getCurrentHub().addBreadcrumb(breadcrumb, hint);\n        }\n    };\n    /**\n     * Instrument browser built-ins w/ breadcrumb capturing\n     *  - Console API\n     *  - DOM API (click/typing)\n     *  - XMLHttpRequest API\n     *  - Fetch API\n     *  - History API\n     */\n    Breadcrumbs.prototype.setupOnce = function () {\n        if (this._options.console) {\n            this._instrumentConsole();\n        }\n        if (this._options.dom) {\n            this._instrumentDOM();\n        }\n        if (this._options.xhr) {\n            this._instrumentXHR();\n        }\n        if (this._options.fetch) {\n            this._instrumentFetch();\n        }\n        if (this._options.history) {\n            this._instrumentHistory();\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Breadcrumbs.id = 'Breadcrumbs';\n    return Breadcrumbs;\n}());\nexport { Breadcrumbs };\n/** JSDoc */\nfunction addSentryBreadcrumb(serializedData) {\n    // There's always something that can go wrong with deserialization...\n    try {\n        var event_1 = JSON.parse(serializedData);\n        Breadcrumbs.addBreadcrumb({\n            category: 'sentry',\n            event_id: event_1.event_id,\n            level: event_1.level || Severity.fromString('error'),\n            message: getEventDescription(event_1),\n        }, {\n            event: event_1,\n        });\n    }\n    catch (_oO) {\n        logger.error('Error while adding sentry type breadcrumb');\n    }\n}\n//# sourceMappingURL=breadcrumbs.js.map","import * as tslib_1 from \"tslib\";\nimport { getCurrentHub } from '@sentry/core';\nimport { Severity } from '@sentry/types';\nimport { addExceptionMechanism, getGlobalObject, getLocationHref, isErrorEvent, isPrimitive, isString, logger, } from '@sentry/utils';\nimport { eventFromUnknownInput } from '../eventbuilder';\nimport { shouldIgnoreOnError } from '../helpers';\n/** Global handlers */\nvar GlobalHandlers = /** @class */ (function () {\n    /** JSDoc */\n    function GlobalHandlers(options) {\n        /**\n         * @inheritDoc\n         */\n        this.name = GlobalHandlers.id;\n        /** JSDoc */\n        this._global = getGlobalObject();\n        /** JSDoc */\n        this._oldOnErrorHandler = null;\n        /** JSDoc */\n        this._oldOnUnhandledRejectionHandler = null;\n        /** JSDoc */\n        this._onErrorHandlerInstalled = false;\n        /** JSDoc */\n        this._onUnhandledRejectionHandlerInstalled = false;\n        this._options = tslib_1.__assign({ onerror: true, onunhandledrejection: true }, options);\n    }\n    /**\n     * @inheritDoc\n     */\n    GlobalHandlers.prototype.setupOnce = function () {\n        Error.stackTraceLimit = 50;\n        if (this._options.onerror) {\n            logger.log('Global Handler attached: onerror');\n            this._installGlobalOnErrorHandler();\n        }\n        if (this._options.onunhandledrejection) {\n            logger.log('Global Handler attached: onunhandledrejection');\n            this._installGlobalOnUnhandledRejectionHandler();\n        }\n    };\n    /** JSDoc */\n    GlobalHandlers.prototype._installGlobalOnErrorHandler = function () {\n        if (this._onErrorHandlerInstalled) {\n            return;\n        }\n        var self = this; // tslint:disable-line:no-this-assignment\n        this._oldOnErrorHandler = this._global.onerror;\n        this._global.onerror = function (msg, url, line, column, error) {\n            var currentHub = getCurrentHub();\n            var hasIntegration = currentHub.getIntegration(GlobalHandlers);\n            var isFailedOwnDelivery = error && error.__sentry_own_request__ === true;\n            if (!hasIntegration || shouldIgnoreOnError() || isFailedOwnDelivery) {\n                if (self._oldOnErrorHandler) {\n                    return self._oldOnErrorHandler.apply(this, arguments);\n                }\n                return false;\n            }\n            var client = currentHub.getClient();\n            var event = isPrimitive(error)\n                ? self._eventFromIncompleteOnError(msg, url, line, column)\n                : self._enhanceEventWithInitialFrame(eventFromUnknownInput(error, undefined, {\n                    attachStacktrace: client && client.getOptions().attachStacktrace,\n                    rejection: false,\n                }), url, line, column);\n            addExceptionMechanism(event, {\n                handled: false,\n                type: 'onerror',\n            });\n            currentHub.captureEvent(event, {\n                originalException: error,\n            });\n            if (self._oldOnErrorHandler) {\n                return self._oldOnErrorHandler.apply(this, arguments);\n            }\n            return false;\n        };\n        this._onErrorHandlerInstalled = true;\n    };\n    /** JSDoc */\n    GlobalHandlers.prototype._installGlobalOnUnhandledRejectionHandler = function () {\n        if (this._onUnhandledRejectionHandlerInstalled) {\n            return;\n        }\n        var self = this; // tslint:disable-line:no-this-assignment\n        this._oldOnUnhandledRejectionHandler = this._global.onunhandledrejection;\n        this._global.onunhandledrejection = function (e) {\n            var error = e;\n            try {\n                error = e && 'reason' in e ? e.reason : e;\n            }\n            catch (_oO) {\n                // no-empty\n            }\n            var currentHub = getCurrentHub();\n            var hasIntegration = currentHub.getIntegration(GlobalHandlers);\n            var isFailedOwnDelivery = error && error.__sentry_own_request__ === true;\n            if (!hasIntegration || shouldIgnoreOnError() || isFailedOwnDelivery) {\n                if (self._oldOnUnhandledRejectionHandler) {\n                    return self._oldOnUnhandledRejectionHandler.apply(this, arguments);\n                }\n                return false;\n            }\n            var client = currentHub.getClient();\n            var event = isPrimitive(error)\n                ? self._eventFromIncompleteRejection(error)\n                : eventFromUnknownInput(error, undefined, {\n                    attachStacktrace: client && client.getOptions().attachStacktrace,\n                    rejection: true,\n                });\n            event.level = Severity.Error;\n            addExceptionMechanism(event, {\n                handled: false,\n                type: 'onunhandledrejection',\n            });\n            currentHub.captureEvent(event, {\n                originalException: error,\n            });\n            if (self._oldOnUnhandledRejectionHandler) {\n                return self._oldOnUnhandledRejectionHandler.apply(this, arguments);\n            }\n            return false;\n        };\n        this._onUnhandledRejectionHandlerInstalled = true;\n    };\n    /**\n     * This function creates a stack from an old, error-less onerror handler.\n     */\n    GlobalHandlers.prototype._eventFromIncompleteOnError = function (msg, url, line, column) {\n        var ERROR_TYPES_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n        // If 'message' is ErrorEvent, get real message from inside\n        var message = isErrorEvent(msg) ? msg.message : msg;\n        var name;\n        if (isString(message)) {\n            var groups = message.match(ERROR_TYPES_RE);\n            if (groups) {\n                name = groups[1];\n                message = groups[2];\n            }\n        }\n        var event = {\n            exception: {\n                values: [\n                    {\n                        type: name || 'Error',\n                        value: message,\n                    },\n                ],\n            },\n        };\n        return this._enhanceEventWithInitialFrame(event, url, line, column);\n    };\n    /**\n     * This function creates an Event from an TraceKitStackTrace that has part of it missing.\n     */\n    GlobalHandlers.prototype._eventFromIncompleteRejection = function (error) {\n        return {\n            exception: {\n                values: [\n                    {\n                        type: 'UnhandledRejection',\n                        value: \"Non-Error promise rejection captured with value: \" + error,\n                    },\n                ],\n            },\n        };\n    };\n    /** JSDoc */\n    GlobalHandlers.prototype._enhanceEventWithInitialFrame = function (event, url, line, column) {\n        event.exception = event.exception || {};\n        event.exception.values = event.exception.values || [];\n        event.exception.values[0] = event.exception.values[0] || {};\n        event.exception.values[0].stacktrace = event.exception.values[0].stacktrace || {};\n        event.exception.values[0].stacktrace.frames = event.exception.values[0].stacktrace.frames || [];\n        var colno = isNaN(parseInt(column, 10)) ? undefined : column;\n        var lineno = isNaN(parseInt(line, 10)) ? undefined : line;\n        var filename = isString(url) && url.length > 0 ? url : getLocationHref();\n        if (event.exception.values[0].stacktrace.frames.length === 0) {\n            event.exception.values[0].stacktrace.frames.push({\n                colno: colno,\n                filename: filename,\n                function: '?',\n                in_app: true,\n                lineno: lineno,\n            });\n        }\n        return event;\n    };\n    /**\n     * @inheritDoc\n     */\n    GlobalHandlers.id = 'GlobalHandlers';\n    return GlobalHandlers;\n}());\nexport { GlobalHandlers };\n//# sourceMappingURL=globalhandlers.js.map","import * as tslib_1 from \"tslib\";\nimport { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { exceptionFromStacktrace } from '../parsers';\nimport { computeStackTrace } from '../tracekit';\nvar DEFAULT_KEY = 'cause';\nvar DEFAULT_LIMIT = 5;\n/** Adds SDK info to an event. */\nvar LinkedErrors = /** @class */ (function () {\n    /**\n     * @inheritDoc\n     */\n    function LinkedErrors(options) {\n        if (options === void 0) { options = {}; }\n        /**\n         * @inheritDoc\n         */\n        this.name = LinkedErrors.id;\n        this._key = options.key || DEFAULT_KEY;\n        this._limit = options.limit || DEFAULT_LIMIT;\n    }\n    /**\n     * @inheritDoc\n     */\n    LinkedErrors.prototype.setupOnce = function () {\n        addGlobalEventProcessor(function (event, hint) {\n            var self = getCurrentHub().getIntegration(LinkedErrors);\n            if (self) {\n                return self._handler(event, hint);\n            }\n            return event;\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    LinkedErrors.prototype._handler = function (event, hint) {\n        if (!event.exception || !event.exception.values || !hint || !(hint.originalException instanceof Error)) {\n            return event;\n        }\n        var linkedErrors = this._walkErrorTree(hint.originalException, this._key);\n        event.exception.values = tslib_1.__spread(linkedErrors, event.exception.values);\n        return event;\n    };\n    /**\n     * @inheritDoc\n     */\n    LinkedErrors.prototype._walkErrorTree = function (error, key, stack) {\n        if (stack === void 0) { stack = []; }\n        if (!(error[key] instanceof Error) || stack.length + 1 >= this._limit) {\n            return stack;\n        }\n        var stacktrace = computeStackTrace(error[key]);\n        var exception = exceptionFromStacktrace(stacktrace);\n        return this._walkErrorTree(error[key], key, tslib_1.__spread([exception], stack));\n    };\n    /**\n     * @inheritDoc\n     */\n    LinkedErrors.id = 'LinkedErrors';\n    return LinkedErrors;\n}());\nexport { LinkedErrors };\n//# sourceMappingURL=linkederrors.js.map","import * as tslib_1 from \"tslib\";\nimport { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { getGlobalObject } from '@sentry/utils';\nvar global = getGlobalObject();\n/** UserAgent */\nvar UserAgent = /** @class */ (function () {\n    function UserAgent() {\n        /**\n         * @inheritDoc\n         */\n        this.name = UserAgent.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    UserAgent.prototype.setupOnce = function () {\n        addGlobalEventProcessor(function (event) {\n            if (getCurrentHub().getIntegration(UserAgent)) {\n                if (!global.navigator || !global.location) {\n                    return event;\n                }\n                // Request Interface: https://docs.sentry.io/development/sdk-dev/event-payloads/request/\n                var request = event.request || {};\n                request.url = request.url || global.location.href;\n                request.headers = request.headers || {};\n                request.headers['User-Agent'] = global.navigator.userAgent;\n                return tslib_1.__assign({}, event, { request: request });\n            }\n            return event;\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    UserAgent.id = 'UserAgent';\n    return UserAgent;\n}());\nexport { UserAgent };\n//# sourceMappingURL=useragent.js.map","import { getCurrentHub } from '@sentry/hub';\nimport { logger } from '@sentry/utils';\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instanciate.\n * @param options Options to pass to the client.\n */\nexport function initAndBind(clientClass, options) {\n    if (options.debug === true) {\n        logger.enable();\n    }\n    getCurrentHub().bindClient(new clientClass(options));\n}\n//# sourceMappingURL=sdk.js.map","export { GlobalHandlers } from './globalhandlers';\nexport { TryCatch } from './trycatch';\nexport { Breadcrumbs } from './breadcrumbs';\nexport { LinkedErrors } from './linkederrors';\nexport { UserAgent } from './useragent';\n//# sourceMappingURL=index.js.map","import Nanobus from 'nanobus';\nimport OwnedFile from './ownedFile';\nimport Keychain from './keychain';\nimport { arrayToB64, bytes } from './utils';\nimport { uploadWs } from './api';\nimport { encryptedSize } from './utils';\n\nexport default class FileSender extends Nanobus {\n  constructor() {\n    super('FileSender');\n    this.keychain = new Keychain();\n    this.reset();\n  }\n\n  get progressRatio() {\n    return this.progress[0] / this.progress[1];\n  }\n\n  get progressIndefinite() {\n    return (\n      ['fileSizeProgress', 'notifyUploadEncryptDone'].indexOf(this.msg) === -1\n    );\n  }\n\n  get sizes() {\n    return {\n      partialSize: bytes(this.progress[0]),\n      totalSize: bytes(this.progress[1])\n    };\n  }\n\n  reset() {\n    this.uploadRequest = null;\n    this.msg = 'importingFile';\n    this.progress = [0, 1];\n    this.cancelled = false;\n  }\n\n  cancel() {\n    this.cancelled = true;\n    if (this.uploadRequest) {\n      this.uploadRequest.cancel();\n    }\n  }\n\n  async upload(archive, bearerToken) {\n    if (this.cancelled) {\n      throw new Error(0);\n    }\n    this.msg = 'encryptingFile';\n    this.emit('encrypting');\n    const totalSize = encryptedSize(archive.size);\n    const encStream = await this.keychain.encryptStream(archive.stream);\n    const metadata = await this.keychain.encryptMetadata(archive);\n    const authKeyB64 = await this.keychain.authKeyB64();\n\n    this.uploadRequest = uploadWs(\n      encStream,\n      metadata,\n      authKeyB64,\n      archive.timeLimit,\n      archive.dlimit,\n      bearerToken,\n      p => {\n        this.progress = [p, totalSize];\n        this.emit('progress');\n      }\n    );\n\n    if (this.cancelled) {\n      throw new Error(0);\n    }\n\n    this.msg = 'fileSizeProgress';\n    this.emit('progress'); // HACK to kick MS Edge\n    try {\n      const result = await this.uploadRequest.result;\n      this.msg = 'notifyUploadEncryptDone';\n      this.uploadRequest = null;\n      this.progress = [1, 1];\n      const secretKey = arrayToB64(this.keychain.rawSecret);\n      const ownedFile = new OwnedFile({\n        id: result.id,\n        url: `${result.url}#${secretKey}`,\n        name: archive.name,\n        size: archive.size,\n        manifest: archive.manifest,\n        time: result.duration,\n        speed: archive.size / (result.duration / 1000),\n        createdAt: Date.now(),\n        expiresAt: Date.now() + archive.timeLimit * 1000,\n        secretKey: secretKey,\n        nonce: this.keychain.nonce,\n        ownerToken: result.ownerToken,\n        dlimit: archive.dlimit,\n        timeLimit: archive.timeLimit\n      });\n\n      return ownedFile;\n    } catch (e) {\n      this.msg = 'errorPageHeader';\n      this.uploadRequest = null;\n      throw e;\n    }\n  }\n}\n","import { Buffer } from 'buffer';\n\nconst createBuffer =\n  Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow\n    ? Buffer.from\n    : // support for Node < 5.10\n      val => new Buffer(val);\n\nexport default createBuffer;\n","import { Buffer } from 'buffer';\nimport createBuffer from './create_buffer';\nimport defineCrc from './define_crc';\n\n// Generated by `./pycrc.py --algorithm=table-driven --model=crc-32 --generate=c`\n// prettier-ignore\nlet TABLE = [\n  0x00000000, 0x77073096, 0xee0e612c, 0x990951ba,\n  0x076dc419, 0x706af48f, 0xe963a535, 0x9e6495a3,\n  0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988,\n  0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91,\n  0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\n  0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,\n  0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec,\n  0x14015c4f, 0x63066cd9, 0xfa0f3d63, 0x8d080df5,\n  0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172,\n  0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n  0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940,\n  0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,\n  0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116,\n  0x21b4f4b5, 0x56b3c423, 0xcfba9599, 0xb8bda50f,\n  0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n  0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d,\n  0x76dc4190, 0x01db7106, 0x98d220bc, 0xefd5102a,\n  0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,\n  0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818,\n  0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n  0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e,\n  0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457,\n  0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c,\n  0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,\n  0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\n  0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb,\n  0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0,\n  0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9,\n  0x5005713c, 0x270241aa, 0xbe0b1010, 0xc90c2086,\n  0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n  0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4,\n  0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad,\n  0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a,\n  0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683,\n  0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\n  0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,\n  0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe,\n  0xf762575d, 0x806567cb, 0x196c3671, 0x6e6b06e7,\n  0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc,\n  0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n  0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252,\n  0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,\n  0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60,\n  0xdf60efc3, 0xa867df55, 0x316e8eef, 0x4669be79,\n  0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n  0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f,\n  0xc5ba3bbe, 0xb2bd0b28, 0x2bb45a92, 0x5cb36a04,\n  0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,\n  0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a,\n  0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n  0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38,\n  0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21,\n  0x86d3d2d4, 0xf1d4e242, 0x68ddb3f8, 0x1fda836e,\n  0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,\n  0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\n  0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45,\n  0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2,\n  0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db,\n  0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0,\n  0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n  0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6,\n  0xbad03605, 0xcdd70693, 0x54de5729, 0x23d967bf,\n  0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94,\n  0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d\n];\n\nif (typeof Int32Array !== 'undefined') TABLE = new Int32Array(TABLE);\n\nconst crc32 = defineCrc('crc-32', function(buf, previous) {\n  if (!Buffer.isBuffer(buf)) buf = createBuffer(buf);\n\n  let crc = previous === 0 ? 0 : ~~previous ^ -1;\n\n  for (let index = 0; index < buf.length; index++) {\n    const byte = buf[index];\n    crc = TABLE[(crc ^ byte) & 0xff] ^ (crc >>> 8);\n  }\n\n  return crc ^ -1;\n});\n\nexport default crc32;\n","export default function(model, calc) {\n  const fn = (buf, previous) => calc(buf, previous) >>> 0;\n  fn.signed = calc;\n  fn.unsigned = fn;\n  fn.model = model;\n\n  return fn;\n}\n","import crc32 from 'crc/crc32';\n\nconst encoder = new TextEncoder();\n\nfunction dosDateTime(dateTime = new Date()) {\n  const year = (dateTime.getFullYear() - 1980) << 9;\n  const month = (dateTime.getMonth() + 1) << 5;\n  const day = dateTime.getDate();\n  const date = year | month | day;\n  const hour = dateTime.getHours() << 11;\n  const minute = dateTime.getMinutes() << 5;\n  const second = Math.floor(dateTime.getSeconds() / 2);\n  const time = hour | minute | second;\n\n  return { date, time };\n}\n\nclass File {\n  constructor(info) {\n    this.name = encoder.encode(info.name);\n    this.size = info.size;\n    this.bytesRead = 0;\n    this.crc = null;\n    this.dateTime = dosDateTime();\n  }\n\n  get header() {\n    const h = new ArrayBuffer(30 + this.name.byteLength);\n    const v = new DataView(h);\n    v.setUint32(0, 0x04034b50, true); // sig\n    v.setUint16(4, 20, true); // version\n    v.setUint16(6, 8, true); // bit flags (8 = use data descriptor)\n    v.setUint16(8, 0, true); // compression\n    v.setUint16(10, this.dateTime.time, true); // modified time\n    v.setUint16(12, this.dateTime.date, true); // modified date\n    v.setUint32(14, 0, true); // crc32 (in descriptor)\n    v.setUint32(18, 0, true); // compressed size (in descriptor)\n    v.setUint32(22, 0, true); // uncompressed size (in descriptor)\n    v.setUint16(26, this.name.byteLength, true); // name length\n    v.setUint16(28, 0, true); // extra field length\n    for (let i = 0; i < this.name.byteLength; i++) {\n      v.setUint8(30 + i, this.name[i]);\n    }\n    return new Uint8Array(h);\n  }\n\n  get dataDescriptor() {\n    const dd = new ArrayBuffer(16);\n    const v = new DataView(dd);\n    v.setUint32(0, 0x08074b50, true); // sig\n    v.setUint32(4, this.crc, true); // crc32\n    v.setUint32(8, this.size, true); // compressed size\n    v.setUint32(12, this.size, true); // uncompressed size\n    return new Uint8Array(dd);\n  }\n\n  directoryRecord(offset) {\n    const dr = new ArrayBuffer(46 + this.name.byteLength);\n    const v = new DataView(dr);\n    v.setUint32(0, 0x02014b50, true); // sig\n    v.setUint16(4, 20, true); // version made\n    v.setUint16(6, 20, true); // version required\n    v.setUint16(8, 8, true); // bit flags (8 = use data descriptor)\n    v.setUint16(10, 0, true); // compression\n    v.setUint16(12, this.dateTime.time, true); // modified time\n    v.setUint16(14, this.dateTime.date, true); // modified date\n    v.setUint32(16, this.crc, true); // crc\n    v.setUint32(20, this.size, true); // compressed size\n    v.setUint32(24, this.size, true); // uncompressed size\n    v.setUint16(28, this.name.byteLength, true); // name length\n    v.setUint16(30, 0, true); // extra length\n    v.setUint16(32, 0, true); // comment length\n    v.setUint16(34, 0, true); // disk number\n    v.setUint16(36, 0, true); // internal file attrs\n    v.setUint32(38, 0, true); // external file attrs\n    v.setUint32(42, offset, true); // file offset\n    for (let i = 0; i < this.name.byteLength; i++) {\n      v.setUint8(46 + i, this.name[i]);\n    }\n    return new Uint8Array(dr);\n  }\n\n  get byteLength() {\n    return this.size + this.name.byteLength + 30 + 16;\n  }\n\n  append(data, controller) {\n    this.bytesRead += data.byteLength;\n    const endIndex = data.byteLength - Math.max(this.bytesRead - this.size, 0);\n    const buf = data.slice(0, endIndex);\n    this.crc = crc32(buf, this.crc);\n    controller.enqueue(buf);\n    if (endIndex < data.byteLength) {\n      return data.slice(endIndex, data.byteLength);\n    }\n  }\n}\n\nfunction centralDirectory(files, controller) {\n  let directoryOffset = 0;\n  let directorySize = 0;\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    const record = file.directoryRecord(directoryOffset);\n    directoryOffset += file.byteLength;\n    controller.enqueue(record);\n    directorySize += record.byteLength;\n  }\n  controller.enqueue(eod(files.length, directorySize, directoryOffset));\n}\n\nfunction eod(fileCount, directorySize, directoryOffset) {\n  const e = new ArrayBuffer(22);\n  const v = new DataView(e);\n  v.setUint32(0, 0x06054b50, true); // sig\n  v.setUint16(4, 0, true); // disk number\n  v.setUint16(6, 0, true); // directory disk\n  v.setUint16(8, fileCount, true); // number of records\n  v.setUint16(10, fileCount, true); // total records\n  v.setUint32(12, directorySize, true); // size of directory\n  v.setUint32(16, directoryOffset, true); // offset of directory\n  v.setUint16(20, 0, true); // comment length\n  return new Uint8Array(e);\n}\n\nclass ZipStreamController {\n  constructor(files, source) {\n    this.files = files;\n    this.fileIndex = 0;\n    this.file = null;\n    this.reader = source.getReader();\n    this.nextFile();\n    this.extra = null;\n  }\n\n  nextFile() {\n    this.file = this.files[this.fileIndex++];\n  }\n\n  async pull(controller) {\n    if (!this.file) {\n      // end of archive\n      centralDirectory(this.files, controller);\n      return controller.close();\n    }\n    if (this.file.bytesRead === 0) {\n      // beginning of file\n      controller.enqueue(this.file.header);\n      if (this.extra) {\n        this.extra = this.file.append(this.extra, controller);\n      }\n    }\n    if (this.file.bytesRead >= this.file.size) {\n      // end of file\n      controller.enqueue(this.file.dataDescriptor);\n      this.nextFile();\n      return this.pull(controller);\n    }\n    const data = await this.reader.read();\n    if (data.done) {\n      this.nextFile();\n      return this.pull(controller);\n    }\n    this.extra = this.file.append(data.value, controller);\n  }\n}\n\nexport default class Zip {\n  constructor(manifest, source) {\n    this.files = manifest.files.map(info => new File(info));\n    this.source = source;\n  }\n\n  get stream() {\n    return new ReadableStream(new ZipStreamController(this.files, this.source));\n  }\n\n  get size() {\n    const entries = this.files.reduce(\n      (total, file) => total + file.byteLength * 2 - file.size,\n      0\n    );\n    const eod = 22;\n    return entries + eod;\n  }\n}\n","import Nanobus from 'nanobus';\nimport Keychain from './keychain';\nimport { delay, bytes, streamToArrayBuffer } from './utils';\nimport { downloadFile, metadata, getApiUrl } from './api';\nimport { blobStream } from './streams';\nimport Zip from './zip';\n\nexport default class FileReceiver extends Nanobus {\n  constructor(fileInfo) {\n    super('FileReceiver');\n    this.keychain = new Keychain(fileInfo.secretKey, fileInfo.nonce);\n    if (fileInfo.requiresPassword) {\n      this.keychain.setPassword(fileInfo.password, fileInfo.url);\n    }\n    this.fileInfo = fileInfo;\n    this.reset();\n  }\n\n  get progressRatio() {\n    return this.progress[0] / this.progress[1];\n  }\n\n  get progressIndefinite() {\n    return this.state !== 'downloading';\n  }\n\n  get sizes() {\n    return {\n      partialSize: bytes(this.progress[0]),\n      totalSize: bytes(this.progress[1])\n    };\n  }\n\n  cancel() {\n    if (this.downloadRequest) {\n      this.downloadRequest.cancel();\n    }\n  }\n\n  reset() {\n    this.msg = 'fileSizeProgress';\n    this.state = 'initialized';\n    this.progress = [0, 1];\n  }\n\n  async getMetadata() {\n    const meta = await metadata(this.fileInfo.id, this.keychain);\n    this.fileInfo.name = meta.name;\n    this.fileInfo.type = meta.type;\n    this.fileInfo.iv = meta.iv;\n    this.fileInfo.size = +meta.size;\n    this.fileInfo.manifest = meta.manifest;\n    this.state = 'ready';\n  }\n\n  sendMessageToSw(msg) {\n    return new Promise((resolve, reject) => {\n      const channel = new MessageChannel();\n\n      channel.port1.onmessage = function(event) {\n        if (event.data === undefined) {\n          reject('bad response from serviceWorker');\n        } else if (event.data.error !== undefined) {\n          reject(event.data.error);\n        } else {\n          resolve(event.data);\n        }\n      };\n\n      navigator.serviceWorker.controller.postMessage(msg, [channel.port2]);\n    });\n  }\n\n  async downloadBlob(noSave = false) {\n    this.state = 'downloading';\n    this.downloadRequest = await downloadFile(\n      this.fileInfo.id,\n      this.keychain,\n      p => {\n        this.progress = [p, this.fileInfo.size];\n        this.emit('progress');\n      }\n    );\n    try {\n      const ciphertext = await this.downloadRequest.result;\n      this.downloadRequest = null;\n      this.msg = 'decryptingFile';\n      this.state = 'decrypting';\n      this.emit('decrypting');\n      let size = this.fileInfo.size;\n      let plainStream = this.keychain.decryptStream(blobStream(ciphertext));\n      if (this.fileInfo.type === 'send-archive') {\n        const zip = new Zip(this.fileInfo.manifest, plainStream);\n        plainStream = zip.stream;\n        size = zip.size;\n      }\n      const plaintext = await streamToArrayBuffer(plainStream, size);\n      if (!noSave) {\n        await saveFile({\n          plaintext,\n          name: decodeURIComponent(this.fileInfo.name),\n          type: this.fileInfo.type\n        });\n      }\n      this.msg = 'downloadFinish';\n      this.emit('complete');\n      this.state = 'complete';\n    } catch (e) {\n      this.downloadRequest = null;\n      throw e;\n    }\n  }\n\n  async downloadStream(noSave = false) {\n    const start = Date.now();\n    const onprogress = p => {\n      this.progress = [p, this.fileInfo.size];\n      this.emit('progress');\n    };\n\n    this.downloadRequest = {\n      cancel: () => {\n        this.sendMessageToSw({ request: 'cancel', id: this.fileInfo.id });\n      }\n    };\n\n    try {\n      this.state = 'downloading';\n\n      const info = {\n        request: 'init',\n        id: this.fileInfo.id,\n        filename: this.fileInfo.name,\n        type: this.fileInfo.type,\n        manifest: this.fileInfo.manifest,\n        key: this.fileInfo.secretKey,\n        requiresPassword: this.fileInfo.requiresPassword,\n        password: this.fileInfo.password,\n        url: this.fileInfo.url,\n        size: this.fileInfo.size,\n        nonce: this.keychain.nonce,\n        noSave\n      };\n      await this.sendMessageToSw(info);\n\n      onprogress(0);\n\n      if (noSave) {\n        const res = await fetch(getApiUrl(`/api/download/${this.fileInfo.id}`));\n        if (res.status !== 200) {\n          throw new Error(res.status);\n        }\n      } else {\n        const downloadPath = `/api/download/${this.fileInfo.id}`;\n        let downloadUrl = getApiUrl(downloadPath);\n        if (downloadUrl === downloadPath) {\n          downloadUrl = `${location.protocol}//${location.host}${downloadPath}`;\n        }\n        const a = document.createElement('a');\n        a.href = downloadUrl;\n        document.body.appendChild(a);\n        a.click();\n      }\n\n      let prog = 0;\n      let hangs = 0;\n      while (prog < this.fileInfo.size) {\n        const msg = await this.sendMessageToSw({\n          request: 'progress',\n          id: this.fileInfo.id\n        });\n        if (msg.progress === prog) {\n          hangs++;\n        } else {\n          hangs = 0;\n        }\n        if (hangs > 30) {\n          // TODO: On Chrome we don't get a cancel\n          // signal so one is indistinguishable from\n          // a hang. We may be able to detect\n          // which end is hung in the service worker\n          // to improve on this.\n          const e = new Error('hung download');\n          e.duration = Date.now() - start;\n          e.size = this.fileInfo.size;\n          e.progress = prog;\n          throw e;\n        }\n        prog = msg.progress;\n        onprogress(prog);\n        await delay(1000);\n      }\n\n      this.downloadRequest = null;\n      this.msg = 'downloadFinish';\n      this.emit('complete');\n      this.state = 'complete';\n    } catch (e) {\n      this.downloadRequest = null;\n      if (e === 'cancelled' || e.message === '400') {\n        throw new Error(0);\n      }\n      throw e;\n    }\n  }\n\n  download(options) {\n    if (options.stream) {\n      return this.downloadStream(options.noSave);\n    }\n    return this.downloadBlob(options.noSave);\n  }\n}\n\nasync function saveFile(file) {\n  return new Promise(function(resolve, reject) {\n    const dataView = new DataView(file.plaintext);\n    const blob = new Blob([dataView], { type: file.type });\n\n    if (navigator.msSaveBlob) {\n      navigator.msSaveBlob(blob, file.name);\n      return resolve();\n    } else if (/iPhone|fxios/i.test(navigator.userAgent)) {\n      // This method is much slower but createObjectURL\n      // is buggy on iOS\n      const reader = new FileReader();\n      reader.addEventListener('loadend', function() {\n        if (reader.error) {\n          return reject(reader.error);\n        }\n        if (reader.result) {\n          const a = document.createElement('a');\n          a.href = reader.result;\n          a.download = file.name;\n          document.body.appendChild(a);\n          a.click();\n        }\n        resolve();\n      });\n      reader.readAsDataURL(blob);\n    } else {\n      const downloadUrl = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = downloadUrl;\n      a.download = file.name;\n      document.body.appendChild(a);\n      a.click();\n      URL.revokeObjectURL(downloadUrl);\n      setTimeout(resolve, 100);\n    }\n  });\n}\n","import FileSender from './fileSender';\nimport FileReceiver from './fileReceiver';\nimport { copyToClipboard, delay, openLinksInNewTab, percent } from './utils';\nimport * as metrics from './metrics';\nimport { bytes, locale } from './utils';\nimport okDialog from './ui/okDialog';\nimport copyDialog from './ui/copyDialog';\nimport shareDialog from './ui/shareDialog';\nimport signupDialog from './ui/signupDialog';\nimport surveyDialog from './ui/surveyDialog';\n\nexport default function(state, emitter) {\n  let lastRender = 0;\n  let updateTitle = false;\n\n  function render() {\n    emitter.emit('render');\n  }\n\n  async function checkFiles() {\n    const changes = await state.user.syncFileList();\n    const rerender = changes.incoming || changes.downloadCount;\n    if (rerender) {\n      render();\n    }\n  }\n\n  function updateProgress() {\n    if (updateTitle) {\n      emitter.emit('DOMTitleChange', percent(state.transfer.progressRatio));\n    }\n    render();\n  }\n\n  emitter.on('DOMContentLoaded', () => {\n    document.addEventListener('blur', () => (updateTitle = true));\n    document.addEventListener('focus', () => {\n      updateTitle = false;\n      emitter.emit('DOMTitleChange', 'Firefox Send');\n    });\n    checkFiles();\n  });\n\n  emitter.on('render', () => {\n    lastRender = Date.now();\n  });\n\n  emitter.on('login', email => {\n    state.user.login(email);\n  });\n\n  emitter.on('logout', () => {\n    state.user.logout();\n    metrics.loggedOut({ trigger: 'button' });\n    emitter.emit('pushState', '/');\n  });\n\n  emitter.on('removeUpload', file => {\n    state.archive.remove(file);\n    if (state.archive.numFiles === 0) {\n      state.archive.clear();\n    }\n    render();\n  });\n\n  emitter.on('delete', async ownedFile => {\n    try {\n      metrics.deletedUpload({\n        size: ownedFile.size,\n        time: ownedFile.time,\n        speed: ownedFile.speed,\n        type: ownedFile.type,\n        ttl: ownedFile.expiresAt - Date.now(),\n        location\n      });\n      state.storage.remove(ownedFile.id);\n      await ownedFile.del();\n    } catch (e) {\n      state.sentry.captureException(e);\n    }\n    render();\n  });\n\n  emitter.on('cancel', () => {\n    state.transfer.cancel();\n  });\n\n  emitter.on('addFiles', async ({ files }) => {\n    if (files.length < 1) {\n      return;\n    }\n    const maxSize = state.user.maxSize;\n    try {\n      state.archive.addFiles(\n        files,\n        maxSize,\n        state.LIMITS.MAX_FILES_PER_ARCHIVE\n      );\n    } catch (e) {\n      if (e.message === 'fileTooBig' && maxSize < state.LIMITS.MAX_FILE_SIZE) {\n        return emitter.emit('signup-cta', 'size');\n      }\n      state.modal = okDialog(\n        state.translate(e.message, {\n          size: bytes(maxSize),\n          count: state.LIMITS.MAX_FILES_PER_ARCHIVE\n        })\n      );\n    }\n    render();\n  });\n\n  emitter.on('signup-cta', source => {\n    const query = state.query;\n    state.user.startAuthFlow(source, {\n      campaign: query.utm_campaign,\n      content: query.utm_content,\n      medium: query.utm_medium,\n      source: query.utm_source,\n      term: query.utm_term\n    });\n    state.modal = signupDialog(source);\n    render();\n  });\n\n  emitter.on('authenticate', async (code, oauthState) => {\n    try {\n      await state.user.finishLogin(code, oauthState);\n      await state.user.syncFileList();\n      emitter.emit('replaceState', '/');\n    } catch (e) {\n      emitter.emit('replaceState', '/error');\n      setTimeout(render);\n    }\n  });\n\n  emitter.on('upload', async () => {\n    if (state.storage.files.length >= state.LIMITS.MAX_ARCHIVES_PER_USER) {\n      state.modal = okDialog(\n        state.translate('tooManyArchives', {\n          count: state.LIMITS.MAX_ARCHIVES_PER_USER\n        })\n      );\n      return render();\n    }\n    const archive = state.archive;\n    const sender = new FileSender();\n\n    sender.on('progress', updateProgress);\n    sender.on('encrypting', render);\n    sender.on('complete', render);\n    state.transfer = sender;\n    state.uploading = true;\n    render();\n\n    const links = openLinksInNewTab();\n    await delay(200);\n    const start = Date.now();\n    try {\n      const ownedFile = await sender.upload(archive, state.user.bearerToken);\n      state.storage.totalUploads += 1;\n      const duration = Date.now() - start;\n      metrics.completedUpload(archive, duration);\n\n      state.storage.addFile(ownedFile);\n      // TODO integrate password into /upload request\n      if (archive.password) {\n        emitter.emit('password', {\n          password: archive.password,\n          file: ownedFile\n        });\n      }\n      state.modal = state.capabilities.share\n        ? shareDialog(ownedFile.name, ownedFile.url)\n        : copyDialog(ownedFile.name, ownedFile.url);\n    } catch (err) {\n      if (err.message === '0') {\n        //cancelled. do nothing\n        metrics.cancelledUpload(archive, err.duration);\n        render();\n      } else {\n        // eslint-disable-next-line no-console\n        console.error(err);\n        state.sentry.withScope(scope => {\n          scope.setExtra('duration', err.duration);\n          scope.setExtra('size', err.size);\n          state.sentry.captureException(err);\n        });\n        metrics.stoppedUpload(archive, err.duration);\n        emitter.emit('pushState', '/error');\n      }\n    } finally {\n      openLinksInNewTab(links, false);\n      archive.clear();\n      state.uploading = false;\n      state.transfer = null;\n      await state.user.syncFileList();\n      render();\n    }\n  });\n\n  emitter.on('password', async ({ password, file }) => {\n    try {\n      state.settingPassword = true;\n      render();\n      await file.setPassword(password);\n      state.storage.writeFile(file);\n      await delay(1000);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(err);\n      state.passwordSetError = err;\n    } finally {\n      state.settingPassword = false;\n    }\n    render();\n  });\n\n  emitter.on('getMetadata', async () => {\n    const file = state.fileInfo;\n\n    const receiver = new FileReceiver(file);\n    try {\n      await receiver.getMetadata();\n      state.transfer = receiver;\n    } catch (e) {\n      if (e.message === '401' || e.message === '404') {\n        file.password = null;\n        if (!file.requiresPassword) {\n          return emitter.emit('pushState', '/404');\n        }\n      }\n    }\n\n    render();\n  });\n\n  emitter.on('download', async file => {\n    state.transfer.on('progress', updateProgress);\n    state.transfer.on('decrypting', render);\n    state.transfer.on('complete', render);\n    const links = openLinksInNewTab();\n    const size = file.size;\n    const start = Date.now();\n    try {\n      const dl = state.transfer.download({\n        stream: state.capabilities.streamDownload\n      });\n      render();\n      await dl;\n      state.storage.totalDownloads += 1;\n      const duration = Date.now() - start;\n      metrics.completedDownload({\n        size,\n        duration,\n        password_protected: file.requiresPassword\n      });\n    } catch (err) {\n      if (err.message === '0') {\n        // download cancelled\n        state.transfer.reset();\n        render();\n      } else {\n        // eslint-disable-next-line no-console\n        state.transfer = null;\n        const location = err.message === '404' ? '/404' : '/error';\n        if (location === '/error') {\n          state.sentry.withScope(scope => {\n            scope.setExtra('duration', err.duration);\n            scope.setExtra('size', err.size);\n            scope.setExtra('progress', err.progress);\n            state.sentry.captureException(err);\n          });\n          const duration = Date.now() - start;\n          metrics.stoppedDownload({\n            size,\n            duration,\n            password_protected: file.requiresPassword\n          });\n        }\n        emitter.emit('pushState', location);\n      }\n    } finally {\n      openLinksInNewTab(links, false);\n    }\n  });\n\n  emitter.on('copy', ({ url }) => {\n    copyToClipboard(url);\n    // metrics.copiedLink({ location });\n  });\n\n  emitter.on('closeModal', () => {\n    if (\n      state.PREFS.surveyUrl &&\n      ['copy', 'share'].includes(state.modal.type) &&\n      locale().startsWith('en') &&\n      (state.storage.totalUploads > 1 || state.storage.totalDownloads > 0) &&\n      !state.user.surveyed\n    ) {\n      state.user.surveyed = true;\n      state.modal = surveyDialog();\n    } else {\n      state.modal = null;\n    }\n    render();\n  });\n\n  setInterval(() => {\n    // poll for updates of the upload list\n    if (!state.modal && state.route === '/') {\n      checkFiles();\n    }\n  }, 2 * 60 * 1000);\n\n  setInterval(() => {\n    // poll for rerendering the file list countdown timers\n    if (\n      !state.modal &&\n      state.route === '/' &&\n      state.storage.files.length > 0 &&\n      Date.now() - lastRender > 30000\n    ) {\n      render();\n    }\n  }, 60000);\n}\n","import { logger } from './logger';\nimport { getGlobalObject } from './misc';\n/**\n * Tells whether current environment supports ErrorEvent objects\n * {@link supportsErrorEvent}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsErrorEvent() {\n    try {\n        // tslint:disable:no-unused-expression\n        new ErrorEvent('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports DOMError objects\n * {@link supportsDOMError}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMError() {\n    try {\n        // It really needs 1 argument, not 0.\n        // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n        // 1 argument required, but only 0 present.\n        // @ts-ignore\n        // tslint:disable:no-unused-expression\n        new DOMError('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports DOMException objects\n * {@link supportsDOMException}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMException() {\n    try {\n        // tslint:disable:no-unused-expression\n        new DOMException('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports Fetch API\n * {@link supportsFetch}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsFetch() {\n    if (!('fetch' in getGlobalObject())) {\n        return false;\n    }\n    try {\n        // tslint:disable-next-line:no-unused-expression\n        new Headers();\n        // tslint:disable-next-line:no-unused-expression\n        new Request('');\n        // tslint:disable-next-line:no-unused-expression\n        new Response();\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports Fetch API natively\n * {@link supportsNativeFetch}.\n *\n * @returns true if `window.fetch` is natively implemented, false otherwise\n */\nexport function supportsNativeFetch() {\n    if (!supportsFetch()) {\n        return false;\n    }\n    var isNativeFunc = function (func) { return func.toString().indexOf('native') !== -1; };\n    var global = getGlobalObject();\n    var result = null;\n    var doc = global.document;\n    if (doc) {\n        var sandbox = doc.createElement('iframe');\n        sandbox.hidden = true;\n        try {\n            doc.head.appendChild(sandbox);\n            if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n                // tslint:disable-next-line no-unbound-method\n                result = isNativeFunc(sandbox.contentWindow.fetch);\n            }\n            doc.head.removeChild(sandbox);\n        }\n        catch (err) {\n            logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n        }\n    }\n    if (result === null) {\n        // tslint:disable-next-line no-unbound-method\n        result = isNativeFunc(global.fetch);\n    }\n    return result;\n}\n/**\n * Tells whether current environment supports ReportingObserver API\n * {@link supportsReportingObserver}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReportingObserver() {\n    // tslint:disable-next-line: no-unsafe-any\n    return 'ReportingObserver' in getGlobalObject();\n}\n/**\n * Tells whether current environment supports Referrer Policy API\n * {@link supportsReferrerPolicy}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReferrerPolicy() {\n    // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n    // https://caniuse.com/#feat=referrer-policy\n    // It doesn't. And it throw exception instead of ignoring this parameter...\n    // REF: https://github.com/getsentry/raven-js/issues/1233\n    if (!supportsFetch()) {\n        return false;\n    }\n    try {\n        // tslint:disable:no-unused-expression\n        new Request('_', {\n            referrerPolicy: 'origin',\n        });\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports History API\n * {@link supportsHistory}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsHistory() {\n    // NOTE: in Chrome App environment, touching history.pushState, *even inside\n    //       a try/catch block*, will cause Chrome to output an error to console.error\n    // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n    var global = getGlobalObject();\n    var chrome = global.chrome;\n    // tslint:disable-next-line:no-unsafe-any\n    var isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    var hasHistoryApi = 'history' in global && !!global.history.pushState && !!global.history.replaceState;\n    return !isChromePackagedApp && hasHistoryApi;\n}\n//# sourceMappingURL=supports.js.map","var scrollToAnchor = require('scroll-to-anchor');\nvar documentReady = require('document-ready');\nvar nanotiming = require('nanotiming');\nvar nanorouter = require('nanorouter');\nvar nanomorph = require('nanomorph');\nvar nanoquery = require('nanoquery');\nvar nanohref = require('nanohref');\nvar nanoraf = require('nanoraf');\nvar nanobus = require('nanobus');\nvar Cache = require('./component/cache');\nmodule.exports = Choo;\nvar HISTORY_OBJECT = {};\nfunction Choo(opts) {\n    var timing = nanotiming('choo.constructor');\n    if (!(this instanceof Choo))\n        return new Choo(opts);\n    opts = opts || {};\n    var self = this;\n    // define events used by choo\n    this._events = {\n        DOMCONTENTLOADED: 'DOMContentLoaded',\n        DOMTITLECHANGE: 'DOMTitleChange',\n        REPLACESTATE: 'replaceState',\n        PUSHSTATE: 'pushState',\n        NAVIGATE: 'navigate',\n        POPSTATE: 'popState',\n        RENDER: 'render'\n    };\n    // properties for internal use only\n    this._historyEnabled = opts.history === undefined ? true : opts.history;\n    this._hrefEnabled = opts.href === undefined ? true : opts.href;\n    this._hashEnabled = opts.hash === undefined ? false : opts.hash;\n    this._hasWindow = typeof window !== 'undefined';\n    this._cache = opts.cache;\n    this._loaded = false;\n    this._stores = [ondomtitlechange];\n    this._tree = null;\n    // state\n    var _state = {\n        events: this._events,\n        components: {}\n    };\n    if (this._hasWindow) {\n        this.state = window.initialState ? Object.assign({}, window.initialState, _state) : _state;\n        delete window.initialState;\n    } else {\n        this.state = _state;\n    }\n    // properties that are part of the API\n    this.router = nanorouter({ curry: true });\n    this.emitter = nanobus('choo.emit');\n    this.emit = this.emitter.emit.bind(this.emitter);\n    // listen for title changes; available even when calling .toString()\n    if (this._hasWindow)\n        this.state.title = document.title;\n    function ondomtitlechange(state) {\n        self.emitter.prependListener(self._events.DOMTITLECHANGE, function (title) {\n            state.title = title;\n            if (self._hasWindow)\n                document.title = title;\n        });\n    }\n    timing();\n}\nChoo.prototype.route = function (route, handler) {\n    var routeTiming = nanotiming('choo.route(\\'' + route + '\\')');\n    this.router.on(route, handler);\n    routeTiming();\n};\nChoo.prototype.use = function (cb) {\n    var self = this;\n    this._stores.push(function (state) {\n        var msg = 'choo.use';\n        msg = cb.storeName ? msg + '(' + cb.storeName + ')' : msg;\n        var endTiming = nanotiming(msg);\n        cb(state, self.emitter, self);\n        endTiming();\n    });\n};\nChoo.prototype.start = function () {\n    var startTiming = nanotiming('choo.start');\n    var self = this;\n    if (this._historyEnabled) {\n        this.emitter.prependListener(this._events.NAVIGATE, function () {\n            self._matchRoute(self.state);\n            if (self._loaded) {\n                self.emitter.emit(self._events.RENDER);\n                setTimeout(scrollToAnchor.bind(null, window.location.hash), 0);\n            }\n        });\n        this.emitter.prependListener(this._events.POPSTATE, function () {\n            self.emitter.emit(self._events.NAVIGATE);\n        });\n        this.emitter.prependListener(this._events.PUSHSTATE, function (href) {\n            window.history.pushState(HISTORY_OBJECT, null, href);\n            self.emitter.emit(self._events.NAVIGATE);\n        });\n        this.emitter.prependListener(this._events.REPLACESTATE, function (href) {\n            window.history.replaceState(HISTORY_OBJECT, null, href);\n            self.emitter.emit(self._events.NAVIGATE);\n        });\n        window.onpopstate = function () {\n            self.emitter.emit(self._events.POPSTATE);\n        };\n        if (self._hrefEnabled) {\n            nanohref(function (location) {\n                var href = location.href;\n                var hash = location.hash;\n                if (href === window.location.href) {\n                    if (!self._hashEnabled && hash)\n                        scrollToAnchor(hash);\n                    return;\n                }\n                self.emitter.emit(self._events.PUSHSTATE, href);\n            });\n        }\n    }\n    this._setCache(this.state);\n    this._matchRoute(this.state);\n    this._stores.forEach(function (initStore) {\n        initStore(self.state);\n    });\n    this._tree = this._prerender(this.state);\n    this.emitter.prependListener(self._events.RENDER, nanoraf(function () {\n        var renderTiming = nanotiming('choo.render');\n        var newTree = self._prerender(self.state);\n        var morphTiming = nanotiming('choo.morph');\n        nanomorph(self._tree, newTree);\n        morphTiming();\n        renderTiming();\n    }));\n    documentReady(function () {\n        self.emitter.emit(self._events.DOMCONTENTLOADED);\n        self._loaded = true;\n    });\n    startTiming();\n    return this._tree;\n};\nChoo.prototype.mount = function mount(selector) {\n    var mountTiming = nanotiming('choo.mount(\\'' + selector + '\\')');\n    if (typeof window !== 'object') {\n        this.selector = selector;\n        mountTiming();\n        return this;\n    }\n    var self = this;\n    documentReady(function () {\n        var renderTiming = nanotiming('choo.render');\n        var newTree = self.start();\n        if (typeof selector === 'string') {\n            self._tree = document.querySelector(selector);\n        } else {\n            self._tree = selector;\n        }\n        var morphTiming = nanotiming('choo.morph');\n        nanomorph(self._tree, newTree);\n        morphTiming();\n        renderTiming();\n    });\n    mountTiming();\n};\nChoo.prototype.toString = function (location, state) {\n    state = state || {};\n    state.components = state.components || {};\n    state.events = Object.assign({}, state.events, this._events);\n    this._setCache(state);\n    this._matchRoute(state, location);\n    this.emitter.removeAllListeners();\n    this._stores.forEach(function (initStore) {\n        initStore(state);\n    });\n    var html = this._prerender(state);\n    return typeof html.outerHTML === 'string' ? html.outerHTML : html.toString();\n};\nChoo.prototype._matchRoute = function (state, locationOverride) {\n    var location, queryString;\n    if (locationOverride) {\n        location = locationOverride.replace(/\\?.+$/, '').replace(/\\/$/, '');\n        if (!this._hashEnabled)\n            location = location.replace(/#.+$/, '');\n        queryString = locationOverride;\n    } else {\n        location = window.location.pathname.replace(/\\/$/, '');\n        if (this._hashEnabled)\n            location += window.location.hash.replace(/^#/, '/');\n        queryString = window.location.search;\n    }\n    var matched = this.router.match(location);\n    this._handler = matched.cb;\n    state.href = location;\n    state.query = nanoquery(queryString);\n    state.route = matched.route;\n    state.params = matched.params;\n};\nChoo.prototype._prerender = function (state) {\n    var routeTiming = nanotiming('choo.prerender(\\'' + state.route + '\\')');\n    var res = this._handler(state, this.emit);\n    routeTiming();\n    return res;\n};\nChoo.prototype._setCache = function (state) {\n    var cache = new Cache(state, this.emitter.emit.bind(this.emitter), this._cache);\n    state.cache = renderComponent;\n    function renderComponent(Component, id) {\n        var args = [];\n        for (var i = 0, len = arguments.length; i < len; i++) {\n            args.push(arguments[i]);\n        }\n        return cache.render.apply(cache, args);\n    }\n    // When the state gets stringified, make sure `state.cache` isn't\n    // stringified too.\n    renderComponent.toJSON = function () {\n        return null;\n    };\n};","var hasWindow = typeof window !== 'undefined';\nfunction createScheduler() {\n    var scheduler;\n    if (hasWindow) {\n        if (!window._nanoScheduler)\n            window._nanoScheduler = new NanoScheduler(true);\n        scheduler = window._nanoScheduler;\n    } else {\n        scheduler = new NanoScheduler();\n    }\n    return scheduler;\n}\nfunction NanoScheduler(hasWindow) {\n    this.hasWindow = hasWindow;\n    this.hasIdle = this.hasWindow && window.requestIdleCallback;\n    this.method = this.hasIdle ? window.requestIdleCallback.bind(window) : this.setTimeout;\n    this.scheduled = false;\n    this.queue = [];\n}\nNanoScheduler.prototype.push = function (cb) {\n    this.queue.push(cb);\n    this.schedule();\n};\nNanoScheduler.prototype.schedule = function () {\n    if (this.scheduled)\n        return;\n    this.scheduled = true;\n    var self = this;\n    this.method(function (idleDeadline) {\n        var cb;\n        while (self.queue.length && idleDeadline.timeRemaining() > 0) {\n            cb = self.queue.shift();\n            cb(idleDeadline);\n        }\n        self.scheduled = false;\n        if (self.queue.length)\n            self.schedule();\n    });\n};\nNanoScheduler.prototype.setTimeout = function (cb) {\n    setTimeout(cb, 0, {\n        timeRemaining: function () {\n            return 1;\n        }\n    });\n};\nmodule.exports = createScheduler;","var assert = require('nanoassert');\nvar morph = require('./lib/morph');\nvar TEXT_NODE = 3;\n// var DEBUG = false\nmodule.exports = nanomorph;\n// Morph one tree into another tree\n//\n// no parent\n//   -> same: diff and walk children\n//   -> not same: replace and return\n// old node doesn't exist\n//   -> insert new node\n// new node doesn't exist\n//   -> delete old node\n// nodes are not the same\n//   -> diff nodes and apply patch to old node\n// nodes are the same\n//   -> walk all child nodes and append to old node\nfunction nanomorph(oldTree, newTree, options) {\n    if (options && options.childrenOnly) {\n        updateChildren(newTree, oldTree);\n        return oldTree;\n    }\n    return walk(newTree, oldTree);\n}\n// Walk and morph a dom tree\nfunction walk(newNode, oldNode) {\n    // if (DEBUG) {\n    //   console.log(\n    //   'walk\\nold\\n  %s\\nnew\\n  %s',\n    //   oldNode && oldNode.outerHTML,\n    //   newNode && newNode.outerHTML\n    // )\n    // }\n    if (!oldNode) {\n        return newNode;\n    } else if (!newNode) {\n        return null;\n    } else if (newNode.isSameNode && newNode.isSameNode(oldNode)) {\n        return oldNode;\n    } else if (newNode.tagName !== oldNode.tagName || getComponentId(newNode) !== getComponentId(oldNode)) {\n        return newNode;\n    } else {\n        morph(newNode, oldNode);\n        updateChildren(newNode, oldNode);\n        return oldNode;\n    }\n}\nfunction getComponentId(node) {\n    return node.dataset ? node.dataset.nanomorphComponentId : undefined;\n}\n// Update the children of elements\n// (obj, obj) -> null\nfunction updateChildren(newNode, oldNode) {\n    // if (DEBUG) {\n    //   console.log(\n    //   'updateChildren\\nold\\n  %s\\nnew\\n  %s',\n    //   oldNode && oldNode.outerHTML,\n    //   newNode && newNode.outerHTML\n    // )\n    // }\n    var oldChild, newChild, morphed, oldMatch;\n    // The offset is only ever increased, and used for [i - offset] in the loop\n    var offset = 0;\n    for (var i = 0;; i++) {\n        oldChild = oldNode.childNodes[i];\n        newChild = newNode.childNodes[i - offset];\n        // if (DEBUG) {\n        //   console.log(\n        //   '===\\n- old\\n  %s\\n- new\\n  %s',\n        //   oldChild && oldChild.outerHTML,\n        //   newChild && newChild.outerHTML\n        // )\n        // }\n        // Both nodes are empty, do nothing\n        if (!oldChild && !newChild) {\n            break;    // There is no new child, remove old\n        } else if (!newChild) {\n            oldNode.removeChild(oldChild);\n            i--    // There is no old child, add new\n;\n        } else if (!oldChild) {\n            oldNode.appendChild(newChild);\n            offset++    // Both nodes are the same, morph\n;\n        } else if (same(newChild, oldChild)) {\n            morphed = walk(newChild, oldChild);\n            if (morphed !== oldChild) {\n                oldNode.replaceChild(morphed, oldChild);\n                offset++;\n            }    // Both nodes do not share an ID or a placeholder, try reorder\n        } else {\n            oldMatch = null;\n            // Try and find a similar node somewhere in the tree\n            for (var j = i; j < oldNode.childNodes.length; j++) {\n                if (same(oldNode.childNodes[j], newChild)) {\n                    oldMatch = oldNode.childNodes[j];\n                    break;\n                }\n            }\n            // If there was a node with the same ID or placeholder in the old list\n            if (oldMatch) {\n                morphed = walk(newChild, oldMatch);\n                if (morphed !== oldMatch)\n                    offset++;\n                oldNode.insertBefore(morphed, oldChild)    // It's safe to morph two nodes in-place if neither has an ID\n;\n            } else if (!newChild.id && !oldChild.id) {\n                morphed = walk(newChild, oldChild);\n                if (morphed !== oldChild) {\n                    oldNode.replaceChild(morphed, oldChild);\n                    offset++;\n                }    // Insert the node at the index if we couldn't morph or find a matching node\n            } else {\n                oldNode.insertBefore(newChild, oldChild);\n                offset++;\n            }\n        }\n    }\n}\nfunction same(a, b) {\n    if (a.id)\n        return a.id === b.id;\n    if (a.isSameNode)\n        return a.isSameNode(b);\n    if (a.tagName !== b.tagName)\n        return false;\n    if (a.type === TEXT_NODE)\n        return a.nodeValue === b.nodeValue;\n    return false;\n}","'use strict';\n/**\n * Remove a range of items from an array\n *\n * @function removeItems\n * @param {Array<*>} arr The target array\n * @param {number} startIdx The index to begin removing from (inclusive)\n * @param {number} removeCount How many items to remove\n */\nmodule.exports = function removeItems(arr, startIdx, removeCount) {\n    var i, length = arr.length;\n    if (startIdx >= length || removeCount === 0) {\n        return;\n    }\n    removeCount = startIdx + removeCount > length ? length - startIdx : removeCount;\n    var len = length - removeCount;\n    for (i = startIdx; i < len; ++i) {\n        arr[i] = arr[i + removeCount];\n    }\n    arr.length = len;\n};","'use strict';\nvar DIRECT_PROPS = require('./direct-props');\nmodule.exports = function nanohtmlSetAttribute(el, attr, value) {\n    if (typeof attr === 'object') {\n        for (var i in attr) {\n            if (attr.hasOwnProperty(i)) {\n                nanohtmlSetAttribute(el, i, attr[i]);\n            }\n        }\n        return;\n    }\n    if (!attr)\n        return;\n    if (attr === 'className')\n        attr = 'class';\n    if (attr === 'htmlFor')\n        attr = 'for';\n    if (attr.slice(0, 2) === 'on' || DIRECT_PROPS.indexOf(attr) !== -1) {\n        el[attr] = value;\n    } else {\n        // assume a boolean attribute if the value === true or false\n        if (value === true)\n            value = attr;\n        if (value === false)\n            return;\n        el.setAttribute(attr, value);\n    }\n};","module.exports = require('nanohtml/raw');","module.exports = {\n    \"add.svg\": require('../assets/add.svg'),\n\"addfiles.svg\": require('../assets/addfiles.svg'),\n\"android-chrome-192x192.png\": require('../assets/android-chrome-192x192.png'),\n\"android-chrome-512x512.png\": require('../assets/android-chrome-512x512.png'),\n\"apple-touch-icon.png\": require('../assets/apple-touch-icon.png'),\n\"bg.svg\": require('../assets/bg.svg'),\n\"blue_file.svg\": require('../assets/blue_file.svg'),\n\"close-16.svg\": require('../assets/close-16.svg'),\n\"completed.svg\": require('../assets/completed.svg'),\n\"copy-16.svg\": require('../assets/copy-16.svg'),\n\"dl.svg\": require('../assets/dl.svg'),\n\"error.svg\": require('../assets/error.svg'),\n\"favicon-16x16.png\": require('../assets/favicon-16x16.png'),\n\"favicon-32x32.png\": require('../assets/favicon-32x32.png'),\n\"feedback.svg\": require('../assets/feedback.svg'),\n\"firefox_logo-only.svg\": require('../assets/firefox_logo-only.svg'),\n\"icon.svg\": require('../assets/icon.svg'),\n\"intro.svg\": require('../assets/intro.svg'),\n\"lock.svg\": require('../assets/lock.svg'),\n\"master-logo.svg\": require('../assets/master-logo.svg'),\n\"mozilla-logo.svg\": require('../assets/mozilla-logo.svg'),\n\"notFound.svg\": require('../assets/notFound.svg'),\n\"safari-pinned-tab.svg\": require('../assets/safari-pinned-tab.svg'),\n\"select-arrow.svg\": require('../assets/select-arrow.svg'),\n\"send-fb.jpg\": require('../assets/send-fb.jpg'),\n\"send-twitter.jpg\": require('../assets/send-twitter.jpg'),\n\"share-24.svg\": require('../assets/share-24.svg'),\n\"user.svg\": require('../assets/user.svg'),\n\"wordmark.svg\": require('../assets/wordmark.svg')\n  };","module.exports = __webpack_public_path__ + \"add.8cf99bc2.svg\";","module.exports = __webpack_public_path__ + \"addfiles.93ef7f01.svg\";","module.exports = __webpack_public_path__ + \"android-chrome-192x192.f16df4ad.png\";","module.exports = __webpack_public_path__ + \"android-chrome-512x512.c3fd08e0.png\";","module.exports = __webpack_public_path__ + \"apple-touch-icon.d8ff4845.png\";","module.exports = __webpack_public_path__ + \"bg.c43902aa.svg\";","module.exports = __webpack_public_path__ + \"blue_file.abdc0799.svg\";","module.exports = __webpack_public_path__ + \"close-16.77c3dfdc.svg\";","module.exports = __webpack_public_path__ + \"completed.1797152b.svg\";","module.exports = __webpack_public_path__ + \"copy-16.6ab7b3f4.svg\";","module.exports = __webpack_public_path__ + \"dl.5594b8e0.svg\";","module.exports = __webpack_public_path__ + \"error.e90a5dba.svg\";","module.exports = __webpack_public_path__ + \"favicon-16x16.dd949bf3.png\";","module.exports = __webpack_public_path__ + \"favicon-32x32.acc41fc7.png\";","module.exports = __webpack_public_path__ + \"feedback.9a713904.svg\";","module.exports = __webpack_public_path__ + \"firefox_logo-only.59eb3e62.svg\";","module.exports = __webpack_public_path__ + \"icon.fd04d81a.svg\";","module.exports = __webpack_public_path__ + \"intro.96f62c7e.svg\";","module.exports = __webpack_public_path__ + \"lock.c02d45d6.svg\";","module.exports = __webpack_public_path__ + \"master-logo.1a3d1a78.svg\";","module.exports = __webpack_public_path__ + \"mozilla-logo.4ea30604.svg\";","module.exports = __webpack_public_path__ + \"notFound.0ea747af.svg\";","module.exports = __webpack_public_path__ + \"safari-pinned-tab.c54acb0b.svg\";","module.exports = __webpack_public_path__ + \"select-arrow.1dd68534.svg\";","module.exports = __webpack_public_path__ + \"send-fb.358d4b57.jpg\";","module.exports = __webpack_public_path__ + \"send-twitter.95d5f4ac.jpg\";","module.exports = __webpack_public_path__ + \"share-24.c00952be.svg\";","module.exports = __webpack_public_path__ + \"user.72da5ab5.svg\";","module.exports = __webpack_public_path__ + \"wordmark.d113c385.svg\";","module.exports = require('./dom')(document);","'use strict';\nvar hyperx = require('hyperx');\nvar appendChild = require('./append-child');\nvar SVG_TAGS = require('./svg-tags');\nvar BOOL_PROPS = require('./bool-props');\n// Props that need to be set directly rather than with el.setAttribute()\nvar DIRECT_PROPS = require('./direct-props');\nvar SVGNS = 'http://www.w3.org/2000/svg';\nvar XLINKNS = 'http://www.w3.org/1999/xlink';\nvar COMMENT_TAG = '!--';\nmodule.exports = function (document) {\n    function nanoHtmlCreateElement(tag, props, children) {\n        var el;\n        // If an svg tag, it needs a namespace\n        if (SVG_TAGS.indexOf(tag) !== -1) {\n            props.namespace = SVGNS;\n        }\n        // If we are using a namespace\n        var ns = false;\n        if (props.namespace) {\n            ns = props.namespace;\n            delete props.namespace;\n        }\n        // If we are extending a builtin element\n        var isCustomElement = false;\n        if (props.is) {\n            isCustomElement = props.is;\n            delete props.is;\n        }\n        // Create the element\n        if (ns) {\n            if (isCustomElement) {\n                el = document.createElementNS(ns, tag, { is: isCustomElement });\n            } else {\n                el = document.createElementNS(ns, tag);\n            }\n        } else if (tag === COMMENT_TAG) {\n            return document.createComment(props.comment);\n        } else if (isCustomElement) {\n            el = document.createElement(tag, { is: isCustomElement });\n        } else {\n            el = document.createElement(tag);\n        }\n        // Create the properties\n        for (var p in props) {\n            if (props.hasOwnProperty(p)) {\n                var key = p.toLowerCase();\n                var val = props[p];\n                // Normalize className\n                if (key === 'classname') {\n                    key = 'class';\n                    p = 'class';\n                }\n                // The for attribute gets transformed to htmlFor, but we just set as for\n                if (p === 'htmlFor') {\n                    p = 'for';\n                }\n                // If a property is boolean, set itself to the key\n                if (BOOL_PROPS.indexOf(key) !== -1) {\n                    if (String(val) === 'true')\n                        val = key;\n                    else if (String(val) === 'false')\n                        continue;\n                }\n                // If a property prefers being set directly vs setAttribute\n                if (key.slice(0, 2) === 'on' || DIRECT_PROPS.indexOf(key) !== -1) {\n                    el[p] = val;\n                } else {\n                    if (ns) {\n                        if (p === 'xlink:href') {\n                            el.setAttributeNS(XLINKNS, p, val);\n                        } else if (/^xmlns($|:)/i.test(p)) {\n                        } else {\n                            el.setAttributeNS(null, p, val);\n                        }\n                    } else {\n                        el.setAttribute(p, val);\n                    }\n                }\n            }\n        }\n        appendChild(el, children);\n        return el;\n    }\n    function createFragment(nodes) {\n        var fragment = document.createDocumentFragment();\n        for (var i = 0; i < nodes.length; i++) {\n            if (nodes[i] == null)\n                continue;\n            if (Array.isArray(nodes[i])) {\n                fragment.appendChild(createFragment(nodes[i]));\n            } else {\n                if (typeof nodes[i] === 'string')\n                    nodes[i] = document.createTextNode(nodes[i]);\n                fragment.appendChild(nodes[i]);\n            }\n        }\n        return fragment;\n    }\n    var exports = hyperx(nanoHtmlCreateElement, {\n        comments: true,\n        createFragment: createFragment\n    });\n    exports.default = exports;\n    exports.createComment = nanoHtmlCreateElement;\n    return exports;\n};","var attrToProp = require('hyperscript-attribute-to-property');\nvar VAR = 0, TEXT = 1, OPEN = 2, CLOSE = 3, ATTR = 4;\nvar ATTR_KEY = 5, ATTR_KEY_W = 6;\nvar ATTR_VALUE_W = 7, ATTR_VALUE = 8;\nvar ATTR_VALUE_SQ = 9, ATTR_VALUE_DQ = 10;\nvar ATTR_EQ = 11, ATTR_BREAK = 12;\nvar COMMENT = 13;\nmodule.exports = function (h, opts) {\n    if (!opts)\n        opts = {};\n    var concat = opts.concat || function (a, b) {\n        return String(a) + String(b);\n    };\n    if (opts.attrToProp !== false) {\n        h = attrToProp(h);\n    }\n    return function (strings) {\n        var state = TEXT, reg = '';\n        var arglen = arguments.length;\n        var parts = [];\n        for (var i = 0; i < strings.length; i++) {\n            if (i < arglen - 1) {\n                var arg = arguments[i + 1];\n                var p = parse(strings[i]);\n                var xstate = state;\n                if (xstate === ATTR_VALUE_DQ)\n                    xstate = ATTR_VALUE;\n                if (xstate === ATTR_VALUE_SQ)\n                    xstate = ATTR_VALUE;\n                if (xstate === ATTR_VALUE_W)\n                    xstate = ATTR_VALUE;\n                if (xstate === ATTR)\n                    xstate = ATTR_KEY;\n                if (xstate === OPEN) {\n                    if (reg === '/') {\n                        p.push([\n                            OPEN,\n                            '/',\n                            arg\n                        ]);\n                        reg = '';\n                    } else {\n                        p.push([\n                            OPEN,\n                            arg\n                        ]);\n                    }\n                } else if (xstate === COMMENT && opts.comments) {\n                    reg += String(arg);\n                } else if (xstate !== COMMENT) {\n                    p.push([\n                        VAR,\n                        xstate,\n                        arg\n                    ]);\n                }\n                parts.push.apply(parts, p);\n            } else\n                parts.push.apply(parts, parse(strings[i]));\n        }\n        var tree = [\n            null,\n            {},\n            []\n        ];\n        var stack = [[\n                tree,\n                -1\n            ]];\n        for (var i = 0; i < parts.length; i++) {\n            var cur = stack[stack.length - 1][0];\n            var p = parts[i], s = p[0];\n            if (s === OPEN && /^\\//.test(p[1])) {\n                var ix = stack[stack.length - 1][1];\n                if (stack.length > 1) {\n                    stack.pop();\n                    stack[stack.length - 1][0][2][ix] = h(cur[0], cur[1], cur[2].length ? cur[2] : undefined);\n                }\n            } else if (s === OPEN) {\n                var c = [\n                    p[1],\n                    {},\n                    []\n                ];\n                cur[2].push(c);\n                stack.push([\n                    c,\n                    cur[2].length - 1\n                ]);\n            } else if (s === ATTR_KEY || s === VAR && p[1] === ATTR_KEY) {\n                var key = '';\n                var copyKey;\n                for (; i < parts.length; i++) {\n                    if (parts[i][0] === ATTR_KEY) {\n                        key = concat(key, parts[i][1]);\n                    } else if (parts[i][0] === VAR && parts[i][1] === ATTR_KEY) {\n                        if (typeof parts[i][2] === 'object' && !key) {\n                            for (copyKey in parts[i][2]) {\n                                if (parts[i][2].hasOwnProperty(copyKey) && !cur[1][copyKey]) {\n                                    cur[1][copyKey] = parts[i][2][copyKey];\n                                }\n                            }\n                        } else {\n                            key = concat(key, parts[i][2]);\n                        }\n                    } else\n                        break;\n                }\n                if (parts[i][0] === ATTR_EQ)\n                    i++;\n                var j = i;\n                for (; i < parts.length; i++) {\n                    if (parts[i][0] === ATTR_VALUE || parts[i][0] === ATTR_KEY) {\n                        if (!cur[1][key])\n                            cur[1][key] = strfn(parts[i][1]);\n                        else\n                            parts[i][1] === '' || (cur[1][key] = concat(cur[1][key], parts[i][1]));\n                    } else if (parts[i][0] === VAR && (parts[i][1] === ATTR_VALUE || parts[i][1] === ATTR_KEY)) {\n                        if (!cur[1][key])\n                            cur[1][key] = strfn(parts[i][2]);\n                        else\n                            parts[i][2] === '' || (cur[1][key] = concat(cur[1][key], parts[i][2]));\n                    } else {\n                        if (key.length && !cur[1][key] && i === j && (parts[i][0] === CLOSE || parts[i][0] === ATTR_BREAK)) {\n                            // https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes\n                            // empty string is falsy, not well behaved value in browser\n                            cur[1][key] = key.toLowerCase();\n                        }\n                        if (parts[i][0] === CLOSE) {\n                            i--;\n                        }\n                        break;\n                    }\n                }\n            } else if (s === ATTR_KEY) {\n                cur[1][p[1]] = true;\n            } else if (s === VAR && p[1] === ATTR_KEY) {\n                cur[1][p[2]] = true;\n            } else if (s === CLOSE) {\n                if (selfClosing(cur[0]) && stack.length) {\n                    var ix = stack[stack.length - 1][1];\n                    stack.pop();\n                    stack[stack.length - 1][0][2][ix] = h(cur[0], cur[1], cur[2].length ? cur[2] : undefined);\n                }\n            } else if (s === VAR && p[1] === TEXT) {\n                if (p[2] === undefined || p[2] === null)\n                    p[2] = '';\n                else if (!p[2])\n                    p[2] = concat('', p[2]);\n                if (Array.isArray(p[2][0])) {\n                    cur[2].push.apply(cur[2], p[2]);\n                } else {\n                    cur[2].push(p[2]);\n                }\n            } else if (s === TEXT) {\n                cur[2].push(p[1]);\n            } else if (s === ATTR_EQ || s === ATTR_BREAK) {\n            } else {\n                throw new Error('unhandled: ' + s);\n            }\n        }\n        if (tree[2].length > 1 && /^\\s*$/.test(tree[2][0])) {\n            tree[2].shift();\n        }\n        if (tree[2].length > 2 || tree[2].length === 2 && /\\S/.test(tree[2][1])) {\n            if (opts.createFragment)\n                return opts.createFragment(tree[2]);\n            throw new Error('multiple root elements must be wrapped in an enclosing tag');\n        }\n        if (Array.isArray(tree[2][0]) && typeof tree[2][0][0] === 'string' && Array.isArray(tree[2][0][2])) {\n            tree[2][0] = h(tree[2][0][0], tree[2][0][1], tree[2][0][2]);\n        }\n        return tree[2][0];\n        function parse(str) {\n            var res = [];\n            if (state === ATTR_VALUE_W)\n                state = ATTR;\n            for (var i = 0; i < str.length; i++) {\n                var c = str.charAt(i);\n                if (state === TEXT && c === '<') {\n                    if (reg.length)\n                        res.push([\n                            TEXT,\n                            reg\n                        ]);\n                    reg = '';\n                    state = OPEN;\n                } else if (c === '>' && !quot(state) && state !== COMMENT) {\n                    if (state === OPEN && reg.length) {\n                        res.push([\n                            OPEN,\n                            reg\n                        ]);\n                    } else if (state === ATTR_KEY) {\n                        res.push([\n                            ATTR_KEY,\n                            reg\n                        ]);\n                    } else if (state === ATTR_VALUE && reg.length) {\n                        res.push([\n                            ATTR_VALUE,\n                            reg\n                        ]);\n                    }\n                    res.push([CLOSE]);\n                    reg = '';\n                    state = TEXT;\n                } else if (state === COMMENT && /-$/.test(reg) && c === '-') {\n                    if (opts.comments) {\n                        res.push([\n                            ATTR_VALUE,\n                            reg.substr(0, reg.length - 1)\n                        ]);\n                    }\n                    reg = '';\n                    state = TEXT;\n                } else if (state === OPEN && /^!--$/.test(reg)) {\n                    if (opts.comments) {\n                        res.push([\n                            OPEN,\n                            reg\n                        ], [\n                            ATTR_KEY,\n                            'comment'\n                        ], [ATTR_EQ]);\n                    }\n                    reg = c;\n                    state = COMMENT;\n                } else if (state === TEXT || state === COMMENT) {\n                    reg += c;\n                } else if (state === OPEN && c === '/' && reg.length) {\n                } else if (state === OPEN && /\\s/.test(c)) {\n                    if (reg.length) {\n                        res.push([\n                            OPEN,\n                            reg\n                        ]);\n                    }\n                    reg = '';\n                    state = ATTR;\n                } else if (state === OPEN) {\n                    reg += c;\n                } else if (state === ATTR && /[^\\s\"'=/]/.test(c)) {\n                    state = ATTR_KEY;\n                    reg = c;\n                } else if (state === ATTR && /\\s/.test(c)) {\n                    if (reg.length)\n                        res.push([\n                            ATTR_KEY,\n                            reg\n                        ]);\n                    res.push([ATTR_BREAK]);\n                } else if (state === ATTR_KEY && /\\s/.test(c)) {\n                    res.push([\n                        ATTR_KEY,\n                        reg\n                    ]);\n                    reg = '';\n                    state = ATTR_KEY_W;\n                } else if (state === ATTR_KEY && c === '=') {\n                    res.push([\n                        ATTR_KEY,\n                        reg\n                    ], [ATTR_EQ]);\n                    reg = '';\n                    state = ATTR_VALUE_W;\n                } else if (state === ATTR_KEY) {\n                    reg += c;\n                } else if ((state === ATTR_KEY_W || state === ATTR) && c === '=') {\n                    res.push([ATTR_EQ]);\n                    state = ATTR_VALUE_W;\n                } else if ((state === ATTR_KEY_W || state === ATTR) && !/\\s/.test(c)) {\n                    res.push([ATTR_BREAK]);\n                    if (/[\\w-]/.test(c)) {\n                        reg += c;\n                        state = ATTR_KEY;\n                    } else\n                        state = ATTR;\n                } else if (state === ATTR_VALUE_W && c === '\"') {\n                    state = ATTR_VALUE_DQ;\n                } else if (state === ATTR_VALUE_W && c === '\\'') {\n                    state = ATTR_VALUE_SQ;\n                } else if (state === ATTR_VALUE_DQ && c === '\"') {\n                    res.push([\n                        ATTR_VALUE,\n                        reg\n                    ], [ATTR_BREAK]);\n                    reg = '';\n                    state = ATTR;\n                } else if (state === ATTR_VALUE_SQ && c === '\\'') {\n                    res.push([\n                        ATTR_VALUE,\n                        reg\n                    ], [ATTR_BREAK]);\n                    reg = '';\n                    state = ATTR;\n                } else if (state === ATTR_VALUE_W && !/\\s/.test(c)) {\n                    state = ATTR_VALUE;\n                    i--;\n                } else if (state === ATTR_VALUE && /\\s/.test(c)) {\n                    res.push([\n                        ATTR_VALUE,\n                        reg\n                    ], [ATTR_BREAK]);\n                    reg = '';\n                    state = ATTR;\n                } else if (state === ATTR_VALUE || state === ATTR_VALUE_SQ || state === ATTR_VALUE_DQ) {\n                    reg += c;\n                }\n            }\n            if (state === TEXT && reg.length) {\n                res.push([\n                    TEXT,\n                    reg\n                ]);\n                reg = '';\n            } else if (state === ATTR_VALUE && reg.length) {\n                res.push([\n                    ATTR_VALUE,\n                    reg\n                ]);\n                reg = '';\n            } else if (state === ATTR_VALUE_DQ && reg.length) {\n                res.push([\n                    ATTR_VALUE,\n                    reg\n                ]);\n                reg = '';\n            } else if (state === ATTR_VALUE_SQ && reg.length) {\n                res.push([\n                    ATTR_VALUE,\n                    reg\n                ]);\n                reg = '';\n            } else if (state === ATTR_KEY) {\n                res.push([\n                    ATTR_KEY,\n                    reg\n                ]);\n                reg = '';\n            }\n            return res;\n        }\n    };\n    function strfn(x) {\n        if (typeof x === 'function')\n            return x;\n        else if (typeof x === 'string')\n            return x;\n        else if (x && typeof x === 'object')\n            return x;\n        else if (x === null || x === undefined)\n            return x;\n        else\n            return concat('', x);\n    }\n};\nfunction quot(state) {\n    return state === ATTR_VALUE_SQ || state === ATTR_VALUE_DQ;\n}\nvar closeRE = RegExp('^(' + [\n    'area',\n    'base',\n    'basefont',\n    'bgsound',\n    'br',\n    'col',\n    'command',\n    'embed',\n    'frame',\n    'hr',\n    'img',\n    'input',\n    'isindex',\n    'keygen',\n    'link',\n    'meta',\n    'param',\n    'source',\n    'track',\n    'wbr',\n    '!--',\n    // SVG TAGS\n    'animate',\n    'animateTransform',\n    'circle',\n    'cursor',\n    'desc',\n    'ellipse',\n    'feBlend',\n    'feColorMatrix',\n    'feComposite',\n    'feConvolveMatrix',\n    'feDiffuseLighting',\n    'feDisplacementMap',\n    'feDistantLight',\n    'feFlood',\n    'feFuncA',\n    'feFuncB',\n    'feFuncG',\n    'feFuncR',\n    'feGaussianBlur',\n    'feImage',\n    'feMergeNode',\n    'feMorphology',\n    'feOffset',\n    'fePointLight',\n    'feSpecularLighting',\n    'feSpotLight',\n    'feTile',\n    'feTurbulence',\n    'font-face-format',\n    'font-face-name',\n    'font-face-uri',\n    'glyph',\n    'glyphRef',\n    'hkern',\n    'image',\n    'line',\n    'missing-glyph',\n    'mpath',\n    'path',\n    'polygon',\n    'polyline',\n    'rect',\n    'set',\n    'stop',\n    'tref',\n    'use',\n    'view',\n    'vkern'\n].join('|') + ')(?:[.#][a-zA-Z0-9\\x7F-\\uFFFF_:-]+)*$');\nfunction selfClosing(tag) {\n    return closeRE.test(tag);\n}","module.exports = attributeToProperty;\nvar transform = {\n    'class': 'className',\n    'for': 'htmlFor',\n    'http-equiv': 'httpEquiv'\n};\nfunction attributeToProperty(h) {\n    return function (tagName, attrs, children) {\n        for (var attr in attrs) {\n            if (attr in transform) {\n                attrs[transform[attr]] = attrs[attr];\n                delete attrs[attr];\n            }\n        }\n        return h(tagName, attrs, children);\n    };\n}","'use strict';\nmodule.exports = [\n    'svg',\n    'altGlyph',\n    'altGlyphDef',\n    'altGlyphItem',\n    'animate',\n    'animateColor',\n    'animateMotion',\n    'animateTransform',\n    'circle',\n    'clipPath',\n    'color-profile',\n    'cursor',\n    'defs',\n    'desc',\n    'ellipse',\n    'feBlend',\n    'feColorMatrix',\n    'feComponentTransfer',\n    'feComposite',\n    'feConvolveMatrix',\n    'feDiffuseLighting',\n    'feDisplacementMap',\n    'feDistantLight',\n    'feFlood',\n    'feFuncA',\n    'feFuncB',\n    'feFuncG',\n    'feFuncR',\n    'feGaussianBlur',\n    'feImage',\n    'feMerge',\n    'feMergeNode',\n    'feMorphology',\n    'feOffset',\n    'fePointLight',\n    'feSpecularLighting',\n    'feSpotLight',\n    'feTile',\n    'feTurbulence',\n    'filter',\n    'font',\n    'font-face',\n    'font-face-format',\n    'font-face-name',\n    'font-face-src',\n    'font-face-uri',\n    'foreignObject',\n    'g',\n    'glyph',\n    'glyphRef',\n    'hkern',\n    'image',\n    'line',\n    'linearGradient',\n    'marker',\n    'mask',\n    'metadata',\n    'missing-glyph',\n    'mpath',\n    'path',\n    'pattern',\n    'polygon',\n    'polyline',\n    'radialGradient',\n    'rect',\n    'set',\n    'stop',\n    'switch',\n    'symbol',\n    'text',\n    'textPath',\n    'title',\n    'tref',\n    'tspan',\n    'use',\n    'view',\n    'vkern'\n];","'use strict';\nmodule.exports = [\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defaultchecked',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];","var topLevel = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\nvar minDoc = require('min-document');\nvar doccy;\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\nmodule.exports = doccy;","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n    var e, m;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var nBits = -7;\n    var i = isLE ? nBytes - 1 : 0;\n    var d = isLE ? -1 : 1;\n    var s = buffer[offset + i];\n    i += d;\n    e = s & (1 << -nBits) - 1;\n    s >>= -nBits;\n    nBits += eLen;\n    for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {\n    }\n    m = e & (1 << -nBits) - 1;\n    e >>= -nBits;\n    nBits += mLen;\n    for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {\n    }\n    if (e === 0) {\n        e = 1 - eBias;\n    } else if (e === eMax) {\n        return m ? NaN : (s ? -1 : 1) * Infinity;\n    } else {\n        m = m + Math.pow(2, mLen);\n        e = e - eBias;\n    }\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n    var i = isLE ? 0 : nBytes - 1;\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n    value = Math.abs(value);\n    if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n    } else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c = Math.pow(2, -e)) < 1) {\n            e--;\n            c *= 2;\n        }\n        if (e + eBias >= 1) {\n            value += rt / c;\n        } else {\n            value += rt * Math.pow(2, 1 - eBias);\n        }\n        if (value * c >= 2) {\n            e++;\n            c /= 2;\n        }\n        if (e + eBias >= eMax) {\n            m = 0;\n            e = eMax;\n        } else if (e + eBias >= 1) {\n            m = (value * c - 1) * Math.pow(2, mLen);\n            e = e + eBias;\n        } else {\n            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n            e = 0;\n        }\n    }\n    for (; mLen >= 8; buffer[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {\n    }\n    e = e << mLen | m;\n    eLen += mLen;\n    for (; eLen > 0; buffer[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {\n    }\n    buffer[offset + i - d] |= s * 128;\n};","var toString = {}.toString;\nmodule.exports = Array.isArray || function (arr) {\n    return toString.call(arr) == '[object Array]';\n};","import * as tslib_1 from \"tslib\";\nimport { Status } from '@sentry/types';\nimport { getGlobalObject, logger, parseRetryAfterHeader, supportsReferrerPolicy, SyncPromise } from '@sentry/utils';\nimport { BaseTransport } from './base';\nvar global = getGlobalObject();\n/** `fetch` based transport */\nvar FetchTransport = /** @class */ (function (_super) {\n    tslib_1.__extends(FetchTransport, _super);\n    function FetchTransport() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** Locks transport after receiving 429 response */\n        _this._disabledUntil = new Date(Date.now());\n        return _this;\n    }\n    /**\n     * @inheritDoc\n     */\n    FetchTransport.prototype.sendEvent = function (event) {\n        var _this = this;\n        if (new Date(Date.now()) < this._disabledUntil) {\n            return Promise.reject({\n                event: event,\n                reason: \"Transport locked till \" + this._disabledUntil + \" due to too many requests.\",\n                status: 429,\n            });\n        }\n        var defaultOptions = {\n            body: JSON.stringify(event),\n            method: 'POST',\n            // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n            // https://caniuse.com/#feat=referrer-policy\n            // It doesn't. And it throw exception instead of ignoring this parameter...\n            // REF: https://github.com/getsentry/raven-js/issues/1233\n            referrerPolicy: (supportsReferrerPolicy() ? 'origin' : ''),\n        };\n        return this._buffer.add(new SyncPromise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var response, err_1, status, now;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, global.fetch(this.url, defaultOptions)];\n                    case 1:\n                        response = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _a.sent();\n                        reject(err_1);\n                        return [2 /*return*/];\n                    case 3:\n                        status = Status.fromHttpCode(response.status);\n                        if (status === Status.Success) {\n                            resolve({ status: status });\n                            return [2 /*return*/];\n                        }\n                        if (status === Status.RateLimit) {\n                            now = Date.now();\n                            this._disabledUntil = new Date(now + parseRetryAfterHeader(now, response.headers.get('Retry-After')));\n                            logger.warn(\"Too many requests, backing off till: \" + this._disabledUntil);\n                        }\n                        reject(response);\n                        return [2 /*return*/];\n                }\n            });\n        }); }));\n    };\n    return FetchTransport;\n}(BaseTransport));\nexport { FetchTransport };\n//# sourceMappingURL=fetch.js.map","import * as tslib_1 from \"tslib\";\nimport { Status } from '@sentry/types';\nimport { logger, parseRetryAfterHeader, SyncPromise } from '@sentry/utils';\nimport { BaseTransport } from './base';\n/** `XHR` based transport */\nvar XHRTransport = /** @class */ (function (_super) {\n    tslib_1.__extends(XHRTransport, _super);\n    function XHRTransport() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** Locks transport after receiving 429 response */\n        _this._disabledUntil = new Date(Date.now());\n        return _this;\n    }\n    /**\n     * @inheritDoc\n     */\n    XHRTransport.prototype.sendEvent = function (event) {\n        var _this = this;\n        if (new Date(Date.now()) < this._disabledUntil) {\n            return Promise.reject({\n                event: event,\n                reason: \"Transport locked till \" + this._disabledUntil + \" due to too many requests.\",\n                status: 429,\n            });\n        }\n        return this._buffer.add(new SyncPromise(function (resolve, reject) {\n            var request = new XMLHttpRequest();\n            request.onreadystatechange = function () {\n                if (request.readyState !== 4) {\n                    return;\n                }\n                var status = Status.fromHttpCode(request.status);\n                if (status === Status.Success) {\n                    resolve({ status: status });\n                    return;\n                }\n                if (status === Status.RateLimit) {\n                    var now = Date.now();\n                    _this._disabledUntil = new Date(now + parseRetryAfterHeader(now, request.getResponseHeader('Retry-After')));\n                    logger.warn(\"Too many requests, backing off till: \" + _this._disabledUntil);\n                }\n                reject(request);\n            };\n            request.open('POST', _this.url);\n            request.send(JSON.stringify(event));\n        }));\n    };\n    return XHRTransport;\n}(BaseTransport));\nexport { XHRTransport };\n//# sourceMappingURL=xhr.js.map","import { logger, SentryError } from '@sentry/utils';\nimport { NoopTransport } from './transports/noop';\n/**\n * This is the base implemention of a Backend.\n * @hidden\n */\nvar BaseBackend = /** @class */ (function () {\n    /** Creates a new backend instance. */\n    function BaseBackend(options) {\n        this._options = options;\n        if (!this._options.dsn) {\n            logger.warn('No DSN provided, backend will not do anything.');\n        }\n        this._transport = this._setupTransport();\n    }\n    /**\n     * Sets up the transport so it can be used later to send requests.\n     */\n    BaseBackend.prototype._setupTransport = function () {\n        return new NoopTransport();\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseBackend.prototype.eventFromException = function (_exception, _hint) {\n        throw new SentryError('Backend has to implement `eventFromException` method');\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseBackend.prototype.eventFromMessage = function (_message, _level, _hint) {\n        throw new SentryError('Backend has to implement `eventFromMessage` method');\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseBackend.prototype.sendEvent = function (event) {\n        this._transport.sendEvent(event).then(null, function (reason) {\n            logger.error(\"Error while sending event: \" + reason);\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseBackend.prototype.getTransport = function () {\n        return this._transport;\n    };\n    return BaseBackend;\n}());\nexport { BaseBackend };\n//# sourceMappingURL=basebackend.js.map","import * as tslib_1 from \"tslib\";\nimport { addGlobalEventProcessor, getCurrentHub } from '@sentry/hub';\nimport { logger } from '@sentry/utils';\nexport var installedIntegrations = [];\n/** Gets integration to install */\nexport function getIntegrationsToSetup(options) {\n    var defaultIntegrations = (options.defaultIntegrations && tslib_1.__spread(options.defaultIntegrations)) || [];\n    var userIntegrations = options.integrations;\n    var integrations = [];\n    if (Array.isArray(userIntegrations)) {\n        var userIntegrationsNames_1 = userIntegrations.map(function (i) { return i.name; });\n        var pickedIntegrationsNames_1 = [];\n        // Leave only unique default integrations, that were not overridden with provided user integrations\n        defaultIntegrations.forEach(function (defaultIntegration) {\n            if (userIntegrationsNames_1.indexOf(defaultIntegration.name) === -1 &&\n                pickedIntegrationsNames_1.indexOf(defaultIntegration.name) === -1) {\n                integrations.push(defaultIntegration);\n                pickedIntegrationsNames_1.push(defaultIntegration.name);\n            }\n        });\n        // Don't add same user integration twice\n        userIntegrations.forEach(function (userIntegration) {\n            if (pickedIntegrationsNames_1.indexOf(userIntegration.name) === -1) {\n                integrations.push(userIntegration);\n                pickedIntegrationsNames_1.push(userIntegration.name);\n            }\n        });\n    }\n    else if (typeof userIntegrations === 'function') {\n        integrations = userIntegrations(defaultIntegrations);\n        integrations = Array.isArray(integrations) ? integrations : [integrations];\n    }\n    else {\n        integrations = tslib_1.__spread(defaultIntegrations);\n    }\n    // Make sure that if present, `Debug` integration will always run last\n    var integrationsNames = integrations.map(function (i) { return i.name; });\n    var alwaysLastToRun = 'Debug';\n    if (integrationsNames.indexOf(alwaysLastToRun) !== -1) {\n        integrations.push.apply(integrations, tslib_1.__spread(integrations.splice(integrationsNames.indexOf(alwaysLastToRun), 1)));\n    }\n    return integrations;\n}\n/** Setup given integration */\nexport function setupIntegration(integration) {\n    if (installedIntegrations.indexOf(integration.name) !== -1) {\n        return;\n    }\n    integration.setupOnce(addGlobalEventProcessor, getCurrentHub);\n    installedIntegrations.push(integration.name);\n    logger.log(\"Integration installed: \" + integration.name);\n}\n/**\n * Given a list of integration instances this installs them all. When `withDefaults` is set to `true` then all default\n * integrations are added unless they were already provided before.\n * @param integrations array of integration instances\n * @param withDefault should enable default integrations\n */\nexport function setupIntegrations(options) {\n    var integrations = {};\n    getIntegrationsToSetup(options).forEach(function (integration) {\n        integrations[integration.name] = integration;\n        setupIntegration(integration);\n    });\n    return integrations;\n}\n//# sourceMappingURL=integration.js.map","import * as tslib_1 from \"tslib\";\nimport { isPrimitive, isThenable, logger, SyncPromise, truncate, uuid4 } from '@sentry/utils';\nimport { Dsn } from './dsn';\nimport { setupIntegrations } from './integration';\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding backend constructor and options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}. Also, the Backend instance is available via\n * {@link Client.getBackend}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event via the backend, it is passed through\n * {@link BaseClient.prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeBackend, NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(NodeBackend, options);\n *   }\n *\n *   // ...\n * }\n */\nvar BaseClient = /** @class */ (function () {\n    /**\n     * Initializes this client instance.\n     *\n     * @param backendClass A constructor function to create the backend.\n     * @param options Options for the client.\n     */\n    function BaseClient(backendClass, options) {\n        /** Array of used integrations. */\n        this._integrations = {};\n        /** Is the client still processing a call? */\n        this._processing = false;\n        this._backend = new backendClass(options);\n        this._options = options;\n        if (options.dsn) {\n            this._dsn = new Dsn(options.dsn);\n        }\n        if (this._isEnabled()) {\n            this._integrations = setupIntegrations(this._options);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureException = function (exception, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        this._processing = true;\n        this._getBackend()\n            .eventFromException(exception, hint)\n            .then(function (event) { return _this._processEvent(event, hint, scope); })\n            .then(function (finalEvent) {\n            // We need to check for finalEvent in case beforeSend returned null\n            eventId = finalEvent && finalEvent.event_id;\n            _this._processing = false;\n        })\n            .then(null, function (reason) {\n            logger.error(reason);\n            _this._processing = false;\n        });\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureMessage = function (message, level, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        this._processing = true;\n        var promisedEvent = isPrimitive(message)\n            ? this._getBackend().eventFromMessage(\"\" + message, level, hint)\n            : this._getBackend().eventFromException(message, hint);\n        promisedEvent\n            .then(function (event) { return _this._processEvent(event, hint, scope); })\n            .then(function (finalEvent) {\n            // We need to check for finalEvent in case beforeSend returned null\n            eventId = finalEvent && finalEvent.event_id;\n            _this._processing = false;\n        })\n            .then(null, function (reason) {\n            logger.error(reason);\n            _this._processing = false;\n        });\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureEvent = function (event, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        this._processing = true;\n        this._processEvent(event, hint, scope)\n            .then(function (finalEvent) {\n            // We need to check for finalEvent in case beforeSend returned null\n            eventId = finalEvent && finalEvent.event_id;\n            _this._processing = false;\n        })\n            .then(null, function (reason) {\n            logger.error(reason);\n            _this._processing = false;\n        });\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getDsn = function () {\n        return this._dsn;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getOptions = function () {\n        return this._options;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.flush = function (timeout) {\n        var _this = this;\n        return this._isClientProcessing(timeout).then(function (status) {\n            clearInterval(status.interval);\n            return _this._getBackend()\n                .getTransport()\n                .close(timeout)\n                .then(function (transportFlushed) { return status.ready && transportFlushed; });\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.close = function (timeout) {\n        var _this = this;\n        return this.flush(timeout).then(function (result) {\n            _this.getOptions().enabled = false;\n            return result;\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getIntegrations = function () {\n        return this._integrations || {};\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getIntegration = function (integration) {\n        try {\n            return this._integrations[integration.id] || null;\n        }\n        catch (_oO) {\n            logger.warn(\"Cannot retrieve integration \" + integration.id + \" from the current Client\");\n            return null;\n        }\n    };\n    /** Waits for the client to be done with processing. */\n    BaseClient.prototype._isClientProcessing = function (timeout) {\n        var _this = this;\n        return new SyncPromise(function (resolve) {\n            var ticked = 0;\n            var tick = 1;\n            var interval = 0;\n            clearInterval(interval);\n            interval = setInterval(function () {\n                if (!_this._processing) {\n                    resolve({\n                        interval: interval,\n                        ready: true,\n                    });\n                }\n                else {\n                    ticked += tick;\n                    if (timeout && ticked >= timeout) {\n                        resolve({\n                            interval: interval,\n                            ready: false,\n                        });\n                    }\n                }\n            }, tick);\n        });\n    };\n    /** Returns the current backend. */\n    BaseClient.prototype._getBackend = function () {\n        return this._backend;\n    };\n    /** Determines whether this SDK is enabled and a valid Dsn is present. */\n    BaseClient.prototype._isEnabled = function () {\n        return this.getOptions().enabled !== false && this._dsn !== undefined;\n    };\n    /**\n     * Adds common information to events.\n     *\n     * The information includes release and environment from `options`,\n     * breadcrumbs and context (extra, tags and user) from the scope.\n     *\n     * Information that is already present in the event is never overwritten. For\n     * nested objects, such as the context, keys are merged.\n     *\n     * @param event The original event.\n     * @param hint May contain additional informartion about the original exception.\n     * @param scope A scope containing event metadata.\n     * @returns A new event with more information.\n     */\n    BaseClient.prototype._prepareEvent = function (event, scope, hint) {\n        var _a = this.getOptions(), environment = _a.environment, release = _a.release, dist = _a.dist, _b = _a.maxValueLength, maxValueLength = _b === void 0 ? 250 : _b;\n        var prepared = tslib_1.__assign({}, event);\n        if (prepared.environment === undefined && environment !== undefined) {\n            prepared.environment = environment;\n        }\n        if (prepared.release === undefined && release !== undefined) {\n            prepared.release = release;\n        }\n        if (prepared.dist === undefined && dist !== undefined) {\n            prepared.dist = dist;\n        }\n        if (prepared.message) {\n            prepared.message = truncate(prepared.message, maxValueLength);\n        }\n        var exception = prepared.exception && prepared.exception.values && prepared.exception.values[0];\n        if (exception && exception.value) {\n            exception.value = truncate(exception.value, maxValueLength);\n        }\n        var request = prepared.request;\n        if (request && request.url) {\n            request.url = truncate(request.url, maxValueLength);\n        }\n        if (prepared.event_id === undefined) {\n            prepared.event_id = uuid4();\n        }\n        this._addIntegrations(prepared.sdk);\n        // We prepare the result here with a resolved Event.\n        var result = SyncPromise.resolve(prepared);\n        // This should be the last thing called, since we want that\n        // {@link Hub.addEventProcessor} gets the finished prepared event.\n        if (scope) {\n            // In case we have a hub we reassign it.\n            result = scope.applyToEvent(prepared, hint);\n        }\n        return result;\n    };\n    /**\n     * This function adds all used integrations to the SDK info in the event.\n     * @param sdkInfo The sdkInfo of the event that will be filled with all integrations.\n     */\n    BaseClient.prototype._addIntegrations = function (sdkInfo) {\n        var integrationsArray = Object.keys(this._integrations);\n        if (sdkInfo && integrationsArray.length > 0) {\n            sdkInfo.integrations = integrationsArray;\n        }\n    };\n    /**\n     * Processes an event (either error or message) and sends it to Sentry.\n     *\n     * This also adds breadcrumbs and context information to the event. However,\n     * platform specific meta data (such as the User's IP address) must be added\n     * by the SDK implementor.\n     *\n     *\n     * @param event The event to send to Sentry.\n     * @param hint May contain additional informartion about the original exception.\n     * @param scope A scope containing event metadata.\n     * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n     */\n    BaseClient.prototype._processEvent = function (event, hint, scope) {\n        var _this = this;\n        var _a = this.getOptions(), beforeSend = _a.beforeSend, sampleRate = _a.sampleRate;\n        if (!this._isEnabled()) {\n            return SyncPromise.reject('SDK not enabled, will not send event.');\n        }\n        // 1.0 === 100% events are sent\n        // 0.0 === 0% events are sent\n        if (typeof sampleRate === 'number' && Math.random() > sampleRate) {\n            return SyncPromise.reject('This event has been sampled, will not send event.');\n        }\n        return new SyncPromise(function (resolve, reject) {\n            _this._prepareEvent(event, scope, hint)\n                .then(function (prepared) {\n                if (prepared === null) {\n                    reject('An event processor returned null, will not send event.');\n                    return;\n                }\n                var finalEvent = prepared;\n                try {\n                    var isInternalException = hint && hint.data && hint.data.__sentry__ === true;\n                    if (isInternalException || !beforeSend) {\n                        _this._getBackend().sendEvent(finalEvent);\n                        resolve(finalEvent);\n                        return;\n                    }\n                    var beforeSendResult = beforeSend(prepared, hint);\n                    // tslint:disable-next-line:strict-type-predicates\n                    if (typeof beforeSendResult === 'undefined') {\n                        logger.error('`beforeSend` method has to return `null` or a valid event.');\n                    }\n                    else if (isThenable(beforeSendResult)) {\n                        _this._handleAsyncBeforeSend(beforeSendResult, resolve, reject);\n                    }\n                    else {\n                        finalEvent = beforeSendResult;\n                        if (finalEvent === null) {\n                            logger.log('`beforeSend` returned `null`, will not send event.');\n                            resolve(null);\n                            return;\n                        }\n                        // From here on we are really async\n                        _this._getBackend().sendEvent(finalEvent);\n                        resolve(finalEvent);\n                    }\n                }\n                catch (exception) {\n                    _this.captureException(exception, {\n                        data: {\n                            __sentry__: true,\n                        },\n                        originalException: exception,\n                    });\n                    reject('`beforeSend` threw an error, will not send event.');\n                }\n            })\n                .then(null, function () {\n                reject('`beforeSend` threw an error, will not send event.');\n            });\n        });\n    };\n    /**\n     * Resolves before send Promise and calls resolve/reject on parent SyncPromise.\n     */\n    BaseClient.prototype._handleAsyncBeforeSend = function (beforeSend, resolve, reject) {\n        var _this = this;\n        beforeSend\n            .then(function (processedEvent) {\n            if (processedEvent === null) {\n                reject('`beforeSend` returned `null`, will not send event.');\n                return;\n            }\n            // From here on we are really async\n            _this._getBackend().sendEvent(processedEvent);\n            resolve(processedEvent);\n        })\n            .then(null, function (e) {\n            reject(\"beforeSend rejected with \" + e);\n        });\n    };\n    return BaseClient;\n}());\nexport { BaseClient };\n//# sourceMappingURL=baseclient.js.map","const html = require('choo/html');\nconst Component = require('choo/component');\n\nclass Account extends Component {\n  constructor(name, state, emit) {\n    super(name);\n    this.state = state;\n    this.emit = emit;\n    this.enabled = state.capabilities.account;\n    this.local = state.components[name] = {};\n    this.buttonClass = '';\n    this.setLocal();\n  }\n\n  avatarClick(event) {\n    event.preventDefault();\n    const menu = document.getElementById('accountMenu');\n    menu.classList.toggle('invisible');\n    menu.focus();\n  }\n\n  hideMenu(event) {\n    event.stopPropagation();\n    const menu = document.getElementById('accountMenu');\n    menu.classList.add('invisible');\n  }\n\n  login(event) {\n    event.preventDefault();\n    this.emit('signup-cta', 'button');\n  }\n\n  logout(event) {\n    event.preventDefault();\n    this.emit('logout');\n  }\n\n  changed() {\n    return this.local.loggedIn !== this.state.user.loggedIn;\n  }\n\n  setLocal() {\n    const changed = this.changed();\n    if (changed) {\n      this.local.loggedIn = this.state.user.loggedIn;\n    }\n    return changed;\n  }\n\n  update() {\n    return this.setLocal();\n  }\n\n  createElement() {\n    if (!this.enabled) {\n      return html`\n        <div></div>\n      `;\n    }\n    const user = this.state.user;\n    const translate = this.state.translate;\n    this.setLocal();\n    if (!this.local.loggedIn) {\n      return html`\n        <send-account>\n          <button\n            class=\"px-4 py-2 md:px-8 md:py-4 focus:outline signin border-2 link-blue border-blue-60 hover:border-blue-70 dark:border-blue-40 dark:hover:border-blue-50\"\n            onclick=\"${e => this.login(e)}\"\n            title=\"${translate('signInOnlyButton')}\"\n          >\n            ${translate('signInOnlyButton')}\n          </button>\n        </send-account>\n      `;\n    }\n    return html`\n      <send-account class=\"relative h-8\">\n        <input\n          type=\"image\"\n          alt=\"${user.email}\"\n          class=\"w-8 h-8 rounded-full border text-blue-50 md:text-white focus:outline\"\n          src=\"${user.avatar}\"\n          onclick=\"${e => this.avatarClick(e)}\"\n        />\n        <ul\n          id=\"accountMenu\"\n          class=\"invisible absolute top-0 right-0 mt-10 pt-2 pb-2 bg-white shadow-md whitespace-no-wrap outline-none z-50 dark:bg-grey-80\"\n          onblur=\"${e => this.hideMenu(e)}\"\n        >\n          <li class=\"p-2 text-grey-60 dark:text-grey-50\">${user.email}</li>\n          <li>\n            <button\n              class=\"block w-full text-left px-4 py-2 text-grey-80 dark:text-grey-30 hover:bg-blue-50 hover:text-white cursor-pointer focus:outline\"\n              onclick=\"${e => this.logout(e)}\"\n              title=\"${translate('signOut')}\"\n            >\n              ${translate('signOut')}\n            </button>\n          </li>\n        </ul>\n      </send-account>\n    `;\n  }\n}\n\nmodule.exports = Account;\n","import assets from '../common/assets';\nimport { getFileList, setFileList } from './api';\nimport { encryptStream, decryptStream } from './ece';\nimport { arrayToB64, b64ToArray, streamToArrayBuffer } from './utils';\nimport { blobStream } from './streams';\nimport { getFileListKey, prepareScopedBundleKey, preparePkce } from './fxa';\nimport storage from './storage';\n\nconst textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\nconst anonId = arrayToB64(crypto.getRandomValues(new Uint8Array(16)));\n\nasync function hashId(id) {\n  const d = new Date();\n  const month = d.getUTCMonth();\n  const year = d.getUTCFullYear();\n  const encoded = textEncoder.encode(`${id}:${year}:${month}`);\n  const hash = await crypto.subtle.digest('SHA-256', encoded);\n  return arrayToB64(new Uint8Array(hash.slice(16)));\n}\n\nexport default class User {\n  constructor(storage, limits, authConfig) {\n    this.authConfig = authConfig;\n    this.limits = limits;\n    this.storage = storage;\n    this.data = storage.user || {};\n  }\n\n  get info() {\n    return this.data || this.storage.user || {};\n  }\n\n  set info(data) {\n    this.data = data;\n    this.storage.user = data;\n  }\n\n  get firstAction() {\n    return this.storage.get('firstAction');\n  }\n\n  set firstAction(action) {\n    this.storage.set('firstAction', action);\n  }\n\n  get surveyed() {\n    return this.storage.get('surveyed');\n  }\n\n  set surveyed(yes) {\n    this.storage.set('surveyed', yes);\n  }\n\n  get avatar() {\n    const defaultAvatar = assets.get('user.svg');\n    if (this.info.avatarDefault) {\n      return defaultAvatar;\n    }\n    return this.info.avatar || defaultAvatar;\n  }\n\n  get name() {\n    return this.info.displayName;\n  }\n\n  get email() {\n    return this.info.email;\n  }\n\n  get loggedIn() {\n    return !!this.info.access_token;\n  }\n\n  get bearerToken() {\n    return this.info.access_token;\n  }\n\n  get maxSize() {\n    return this.loggedIn\n      ? this.limits.MAX_FILE_SIZE\n      : this.limits.ANON.MAX_FILE_SIZE;\n  }\n\n  get maxExpireSeconds() {\n    return this.loggedIn\n      ? this.limits.MAX_EXPIRE_SECONDS\n      : this.limits.ANON.MAX_EXPIRE_SECONDS;\n  }\n\n  get maxDownloads() {\n    return this.loggedIn\n      ? this.limits.MAX_DOWNLOADS\n      : this.limits.ANON.MAX_DOWNLOADS;\n  }\n\n  async metricId() {\n    return this.loggedIn ? hashId(this.info.uid) : undefined;\n  }\n\n  async deviceId() {\n    return this.loggedIn ? hashId(this.storage.id) : hashId(anonId);\n  }\n\n  async startAuthFlow(trigger, utms = {}) {\n    this.utms = utms;\n    this.trigger = trigger;\n    try {\n      const params = new URLSearchParams({\n        entrypoint: `send-${trigger}`,\n        form_type: 'email',\n        utm_source: utms.source || 'send',\n        utm_campaign: utms.campaign || 'none'\n      });\n      const res = await fetch(\n        `${this.authConfig.issuer}/metrics-flow?${params.toString()}`,\n        {\n          mode: 'cors'\n        }\n      );\n      const { flowId, flowBeginTime } = await res.json();\n      this.flowId = flowId;\n      this.flowBeginTime = flowBeginTime;\n    } catch (e) {\n      console.error(e);\n      this.flowId = null;\n      this.flowBeginTime = null;\n    }\n  }\n\n  async login(email) {\n    const state = arrayToB64(crypto.getRandomValues(new Uint8Array(16)));\n    storage.set('oauthState', state);\n    const keys_jwk = await prepareScopedBundleKey(this.storage);\n    const code_challenge = await preparePkce(this.storage);\n    const options = {\n      action: 'email',\n      client_id: this.authConfig.client_id,\n      code_challenge,\n      code_challenge_method: 'S256',\n      response_type: 'code',\n      scope: `profile ${this.authConfig.key_scope}`,\n      state,\n      keys_jwk\n    };\n    if (email) {\n      options.email = email;\n    }\n    if (this.flowId && this.flowBeginTime) {\n      options.flow_id = this.flowId;\n      options.flow_begin_time = this.flowBeginTime;\n    }\n    if (this.trigger) {\n      options.entrypoint = `send-${this.trigger}`;\n    }\n    if (this.utms) {\n      options.utm_campaign = this.utms.campaign || 'none';\n      options.utm_content = this.utms.content || 'none';\n      options.utm_medium = this.utms.medium || 'none';\n      options.utm_source = this.utms.source || 'send';\n      options.utm_term = this.utms.term || 'none';\n    }\n    const params = new URLSearchParams(options);\n    location.assign(\n      `${this.authConfig.authorization_endpoint}?${params.toString()}`\n    );\n  }\n\n  async finishLogin(code, state) {\n    const localState = storage.get('oauthState');\n    storage.remove('oauthState');\n    if (state !== localState) {\n      throw new Error('state mismatch');\n    }\n    const tokenResponse = await fetch(this.authConfig.token_endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        code,\n        client_id: this.authConfig.client_id,\n        code_verifier: this.storage.get('pkceVerifier')\n      })\n    });\n    const auth = await tokenResponse.json();\n    const infoResponse = await fetch(this.authConfig.userinfo_endpoint, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${auth.access_token}`\n      }\n    });\n    const userInfo = await infoResponse.json();\n    userInfo.access_token = auth.access_token;\n    userInfo.fileListKey = await getFileListKey(this.storage, auth.keys_jwe);\n    this.info = userInfo;\n    this.storage.remove('pkceVerifier');\n  }\n\n  logout() {\n    this.storage.clearLocalFiles();\n    this.info = {};\n  }\n\n  async syncFileList() {\n    let changes = { incoming: false, outgoing: false, downloadCount: false };\n    if (!this.loggedIn) {\n      return this.storage.merge();\n    }\n    let list = [];\n    const key = b64ToArray(this.info.fileListKey);\n    const sha = await crypto.subtle.digest('SHA-256', key);\n    const kid = arrayToB64(new Uint8Array(sha)).substring(0, 16);\n    try {\n      const encrypted = await getFileList(this.bearerToken, kid);\n      const decrypted = await streamToArrayBuffer(\n        decryptStream(blobStream(encrypted), key)\n      );\n      list = JSON.parse(textDecoder.decode(decrypted));\n    } catch (e) {\n      if (e.message === '401') {\n        this.logout();\n        return { incoming: true };\n      }\n    }\n    changes = await this.storage.merge(list);\n    if (!changes.outgoing) {\n      return changes;\n    }\n    try {\n      const blob = new Blob([\n        textEncoder.encode(JSON.stringify(this.storage.files))\n      ]);\n      const encrypted = await streamToArrayBuffer(\n        encryptStream(blobStream(blob), key)\n      );\n      await setFileList(this.bearerToken, kid, encrypted);\n    } catch (e) {\n      //\n    }\n    return changes;\n  }\n\n  toJSON() {\n    return this.info;\n  }\n}\n","import { blobStream, concatStream } from './streams';\n\nfunction isDupe(newFile, array) {\n  for (const file of array) {\n    if (\n      newFile.name === file.name &&\n      newFile.size === file.size &&\n      newFile.lastModified === file.lastModified\n    ) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default class Archive {\n  constructor(files = [], defaultTimeLimit = 86400) {\n    this.files = Array.from(files);\n    this.defaultTimeLimit = defaultTimeLimit;\n    this.timeLimit = defaultTimeLimit;\n    this.dlimit = 1;\n    this.password = null;\n  }\n\n  get name() {\n    return this.files.length > 1 ? 'Send-Archive.zip' : this.files[0].name;\n  }\n\n  get type() {\n    return this.files.length > 1 ? 'send-archive' : this.files[0].type;\n  }\n\n  get size() {\n    return this.files.reduce((total, file) => total + file.size, 0);\n  }\n\n  get numFiles() {\n    return this.files.length;\n  }\n\n  get manifest() {\n    return {\n      files: this.files.map(file => ({\n        name: file.name,\n        size: file.size,\n        type: file.type\n      }))\n    };\n  }\n\n  get stream() {\n    return concatStream(this.files.map(file => blobStream(file)));\n  }\n\n  addFiles(files, maxSize, maxFiles) {\n    if (this.files.length + files.length > maxFiles) {\n      throw new Error('tooManyFiles');\n    }\n    const newFiles = files.filter(\n      file => file.size > 0 && !isDupe(file, this.files)\n    );\n    const newSize = newFiles.reduce((total, file) => total + file.size, 0);\n    if (this.size + newSize > maxSize) {\n      throw new Error('fileTooBig');\n    }\n    this.files = this.files.concat(newFiles);\n    return true;\n  }\n\n  remove(file) {\n    const index = this.files.indexOf(file);\n    if (index > -1) {\n      this.files.splice(index, 1);\n    }\n  }\n\n  clear() {\n    this.files = [];\n    this.dlimit = 1;\n    this.timeLimit = this.defaultTimeLimit;\n    this.password = null;\n  }\n}\n","// tslint:disable:no-unsafe-any\n/**\n * Memo class used for decycle json objects. Uses WeakSet if available otherwise array.\n */\nvar Memo = /** @class */ (function () {\n    function Memo() {\n        // tslint:disable-next-line\n        this._hasWeakSet = typeof WeakSet === 'function';\n        this._inner = this._hasWeakSet ? new WeakSet() : [];\n    }\n    /**\n     * Sets obj to remember.\n     * @param obj Object to remember\n     */\n    Memo.prototype.memoize = function (obj) {\n        if (this._hasWeakSet) {\n            if (this._inner.has(obj)) {\n                return true;\n            }\n            this._inner.add(obj);\n            return false;\n        }\n        // tslint:disable-next-line:prefer-for-of\n        for (var i = 0; i < this._inner.length; i++) {\n            var value = this._inner[i];\n            if (value === obj) {\n                return true;\n            }\n        }\n        this._inner.push(obj);\n        return false;\n    };\n    /**\n     * Removes object from internal storage.\n     * @param obj Object to forget\n     */\n    Memo.prototype.unmemoize = function (obj) {\n        if (this._hasWeakSet) {\n            this._inner.delete(obj);\n        }\n        else {\n            for (var i = 0; i < this._inner.length; i++) {\n                if (this._inner[i] === obj) {\n                    this._inner.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    };\n    return Memo;\n}());\nexport { Memo };\n//# sourceMappingURL=memo.js.map","import * as tslib_1 from \"tslib\";\nexport { Severity, Status, } from '@sentry/types';\nexport { addGlobalEventProcessor, addBreadcrumb, captureException, captureEvent, captureMessage, configureScope, getHubFromCarrier, getCurrentHub, Hub, Scope, setContext, setExtra, setExtras, setTag, setTags, setUser, Span, withScope, } from '@sentry/core';\nexport { BrowserClient } from './client';\nexport { defaultIntegrations, forceLoad, init, lastEventId, onLoad, showReportDialog, flush, close, wrap } from './sdk';\nexport { SDK_NAME, SDK_VERSION } from './version';\nimport { Integrations as CoreIntegrations } from '@sentry/core';\nimport { getGlobalObject } from '@sentry/utils';\nimport * as BrowserIntegrations from './integrations';\nimport * as Transports from './transports';\nvar windowIntegrations = {};\n// This block is needed to add compatibility with the integrations packages when used with a CDN\n// tslint:disable: no-unsafe-any\nvar _window = getGlobalObject();\nif (_window.Sentry && _window.Sentry.Integrations) {\n    windowIntegrations = _window.Sentry.Integrations;\n}\n// tslint:enable: no-unsafe-any\nvar INTEGRATIONS = tslib_1.__assign({}, windowIntegrations, CoreIntegrations, BrowserIntegrations);\nexport { INTEGRATIONS as Integrations, Transports };\n//# sourceMappingURL=index.js.map","/* global Intl */\n\n/**\n * The `FluentType` class is the base of Fluent's type system.\n *\n * Fluent types wrap JavaScript values and store additional configuration for\n * them, which can then be used in the `toString` method together with a proper\n * `Intl` formatter.\n */\nexport class FluentType {\n  /**\n   * Create an `FluentType` instance.\n   *\n   * @param   {Any}    value - JavaScript value to wrap.\n   * @param   {Object} opts  - Configuration.\n   * @returns {FluentType}\n   */\n  constructor(value, opts) {\n    this.value = value;\n    this.opts = opts;\n  }\n\n  /**\n   * Unwrap the raw value stored by this `FluentType`.\n   *\n   * @returns {Any}\n   */\n  valueOf() {\n    return this.value;\n  }\n\n  /**\n   * Format this instance of `FluentType` to a string.\n   *\n   * Formatted values are suitable for use outside of the `FluentBundle`.\n   * This method can use `Intl` formatters memoized by the `FluentBundle`\n   * instance passed as an argument.\n   *\n   * @param   {FluentBundle} [bundle]\n   * @returns {string}\n   */\n  toString() {\n    throw new Error(\"Subclasses of FluentType must implement toString.\");\n  }\n}\n\nexport class FluentNone extends FluentType {\n  valueOf() {\n    return null;\n  }\n\n  toString() {\n    return `{${this.value || \"???\"}}`;\n  }\n}\n\nexport class FluentNumber extends FluentType {\n  constructor(value, opts) {\n    super(parseFloat(value), opts);\n  }\n\n  toString(bundle) {\n    try {\n      const nf = bundle._memoizeIntlObject(\n        Intl.NumberFormat, this.opts\n      );\n      return nf.format(this.value);\n    } catch (e) {\n      // XXX Report the error.\n      return this.value;\n    }\n  }\n}\n\nexport class FluentDateTime extends FluentType {\n  constructor(value, opts) {\n    super(new Date(value), opts);\n  }\n\n  toString(bundle) {\n    try {\n      const dtf = bundle._memoizeIntlObject(\n        Intl.DateTimeFormat, this.opts\n      );\n      return dtf.format(this.value);\n    } catch (e) {\n      // XXX Report the error.\n      return this.value;\n    }\n  }\n}\n","/**\n * @overview\n *\n * The FTL resolver ships with a number of functions built-in.\n *\n * Each function take two arguments:\n *   - args - an array of positional args\n *   - opts - an object of key-value args\n *\n * Arguments to functions are guaranteed to already be instances of\n * `FluentType`.  Functions must return `FluentType` objects as well.\n */\n\nimport { FluentNone, FluentNumber, FluentDateTime } from \"./types.js\";\n\nfunction merge(argopts, opts) {\n  return Object.assign({}, argopts, values(opts));\n}\n\nfunction values(opts) {\n  const unwrapped = {};\n  for (const [name, opt] of Object.entries(opts)) {\n    unwrapped[name] = opt.valueOf();\n  }\n  return unwrapped;\n}\n\nexport\nfunction NUMBER([arg], opts) {\n  if (arg instanceof FluentNone) {\n    return arg;\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), merge(arg.opts, opts));\n  }\n  return new FluentNone(\"NUMBER()\");\n}\n\nexport\nfunction DATETIME([arg], opts) {\n  if (arg instanceof FluentNone) {\n    return arg;\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), merge(arg.opts, opts));\n  }\n  return new FluentNone(\"DATETIME()\");\n}\n","/* global Intl */\n\n/**\n * @overview\n *\n * The role of the Fluent resolver is to format a translation object to an\n * instance of `FluentType` or an array of instances.\n *\n * Translations can contain references to other messages or variables,\n * conditional logic in form of select expressions, traits which describe their\n * grammatical features, and can use Fluent builtins which make use of the\n * `Intl` formatters to format numbers, dates, lists and more into the\n * bundle's language. See the documentation of the Fluent syntax for more\n * information.\n *\n * In case of errors the resolver will try to salvage as much of the\n * translation as possible.  In rare situations where the resolver didn't know\n * how to recover from an error it will return an instance of `FluentNone`.\n *\n * All expressions resolve to an instance of `FluentType`. The caller should\n * use the `toString` method to convert the instance to a native value.\n *\n * All functions in this file pass around a special object called `scope`.\n * This object stores a set of elements used by all resolve functions:\n *\n *  * {FluentBundle} bundle\n *      bundle for which the given resolution is happening\n *  * {Object} args\n *      list of developer provided arguments that can be used\n *  * {Array} errors\n *      list of errors collected while resolving\n *  * {WeakSet} dirty\n *      Set of patterns already encountered during this resolution.\n *      This is used to prevent cyclic resolutions.\n */\n\n\nimport { FluentType, FluentNone, FluentNumber, FluentDateTime }\n  from \"./types.js\";\nimport * as builtins from \"./builtins.js\";\n\n// Prevent expansion of too long placeables.\nconst MAX_PLACEABLE_LENGTH = 2500;\n\n// Unicode bidi isolation characters.\nconst FSI = \"\\u2068\";\nconst PDI = \"\\u2069\";\n\n\n// Helper: match a variant key to the given selector.\nfunction match(bundle, selector, key) {\n  if (key === selector) {\n    // Both are strings.\n    return true;\n  }\n\n  // XXX Consider comparing options too, e.g. minimumFractionDigits.\n  if (key instanceof FluentNumber\n    && selector instanceof FluentNumber\n    && key.value === selector.value) {\n    return true;\n  }\n\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = bundle\n      ._memoizeIntlObject(Intl.PluralRules, selector.opts)\n      .select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Helper: resolve the default variant from a list of variants.\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return Type(scope, variants[star]);\n  }\n\n  scope.errors.push(new RangeError(\"No default\"));\n  return new FluentNone();\n}\n\n// Helper: resolve arguments to a call expression.\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = {};\n\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = Type(scope, arg.value);\n    } else {\n      positional.push(Type(scope, arg));\n    }\n  }\n\n  return [positional, named];\n}\n\n// Resolve an expression to a Fluent type.\nfunction Type(scope, expr) {\n  // A fast-path for strings which are the most common case. Since they\n  // natively have the `toString` method they can be used as if they were\n  // a FluentType instance without incurring the cost of creating one.\n  if (typeof expr === \"string\") {\n    return scope.bundle._transform(expr);\n  }\n\n  // A fast-path for `FluentNone` which doesn't require any additional logic.\n  if (expr instanceof FluentNone) {\n    return expr;\n  }\n\n  // The Runtime AST (Entries) encodes patterns (complex strings with\n  // placeables) as Arrays.\n  if (Array.isArray(expr)) {\n    return Pattern(scope, expr);\n  }\n\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision,\n      });\n    case \"var\":\n      return VariableReference(scope, expr);\n    case \"mesg\":\n      return MessageReference(scope, expr);\n    case \"term\":\n      return TermReference(scope, expr);\n    case \"func\":\n      return FunctionReference(scope, expr);\n    case \"select\":\n      return SelectExpression(scope, expr);\n    case undefined: {\n      // If it's a node with a value, resolve the value.\n      if (expr.value !== null && expr.value !== undefined) {\n        return Type(scope, expr.value);\n      }\n\n      scope.errors.push(new RangeError(\"No value\"));\n      return new FluentNone();\n    }\n    default:\n      return new FluentNone();\n  }\n}\n\n// Resolve a reference to a variable.\nfunction VariableReference(scope, {name}) {\n  if (!scope.args || !scope.args.hasOwnProperty(name)) {\n    if (scope.insideTermReference === false) {\n      scope.errors.push(new ReferenceError(`Unknown variable: ${name}`));\n    }\n    return new FluentNone(`$${name}`);\n  }\n\n  const arg = scope.args[name];\n\n  // Return early if the argument already is an instance of FluentType.\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n\n  // Convert the argument to a Fluent type.\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg);\n      }\n    default:\n      scope.errors.push(\n        new TypeError(`Unsupported variable type: ${name}, ${typeof arg}`)\n      );\n      return new FluentNone(`$${name}`);\n  }\n}\n\n// Resolve a reference to another message.\nfunction MessageReference(scope, {name, attr}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    const err = new ReferenceError(`Unknown message: ${name}`);\n    scope.errors.push(err);\n    return new FluentNone(name);\n  }\n\n  if (attr) {\n    const attribute = message.attrs && message.attrs[attr];\n    if (attribute) {\n      return Type(scope, attribute);\n    }\n    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n\n  return Type(scope, message);\n}\n\n// Resolve a call to a Term with key-value arguments.\nfunction TermReference(scope, {name, attr, args}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    const err = new ReferenceError(`Unknown term: ${id}`);\n    scope.errors.push(err);\n    return new FluentNone(id);\n  }\n\n  // Every TermReference has its own args.\n  const [, keyargs] = getArguments(scope, args);\n  const local = {...scope, args: keyargs, insideTermReference: true};\n\n  if (attr) {\n    const attribute = term.attrs && term.attrs[attr];\n    if (attribute) {\n      return Type(local, attribute);\n    }\n    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n\n  return Type(local, term);\n}\n\n// Resolve a call to a Function with positional and key-value arguments.\nfunction FunctionReference(scope, {name, args}) {\n  // Some functions are built-in. Others may be provided by the runtime via\n  // the `FluentBundle` constructor.\n  const func = scope.bundle._functions[name] || builtins[name];\n  if (!func) {\n    scope.errors.push(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n\n  if (typeof func !== \"function\") {\n    scope.errors.push(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n\n  try {\n    return func(...getArguments(scope, args));\n  } catch (e) {\n    // XXX Report errors.\n    return new FluentNone(`${name}()`);\n  }\n}\n\n// Resolve a select expression to the member object.\nfunction SelectExpression(scope, {selector, variants, star}) {\n  let sel = Type(scope, selector);\n  if (sel instanceof FluentNone) {\n    const variant = getDefault(scope, variants, star);\n    return Type(scope, variant);\n  }\n\n  // Match the selector against keys of each variant, in order.\n  for (const variant of variants) {\n    const key = Type(scope, variant.key);\n    if (match(scope.bundle, sel, key)) {\n      return Type(scope, variant);\n    }\n  }\n\n  const variant = getDefault(scope, variants, star);\n  return Type(scope, variant);\n}\n\n// Resolve a pattern (a complex string with placeables).\nfunction Pattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.errors.push(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n\n  // Tag the pattern as dirty for the purpose of the current resolution.\n  scope.dirty.add(ptn);\n  const result = [];\n\n  // Wrap interpolations with Directional Isolate Formatting characters\n  // only when the pattern has more than one element.\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n\n    const part = Type(scope, elem).toString(scope.bundle);\n\n    if (useIsolating) {\n      result.push(FSI);\n    }\n\n    if (part.length > MAX_PLACEABLE_LENGTH) {\n      scope.errors.push(\n        new RangeError(\n          \"Too many characters in placeable \" +\n          `(${part.length}, max allowed is ${MAX_PLACEABLE_LENGTH})`\n        )\n      );\n      result.push(part.slice(MAX_PLACEABLE_LENGTH));\n    } else {\n      result.push(part);\n    }\n\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\n\n/**\n * Format a translation into a string.\n *\n * @param   {FluentBundle} bundle\n *    A FluentBundle instance which will be used to resolve the\n *    contextual information of the message.\n * @param   {Object}         args\n *    List of arguments provided by the developer which can be accessed\n *    from the message.\n * @param   {Object}         message\n *    An object with the Message to be resolved.\n * @param   {Array}          errors\n *    An error array that any encountered errors will be appended to.\n * @returns {FluentType}\n */\nexport default function resolve(bundle, args, message, errors = []) {\n  const scope = {\n    bundle, args, errors, dirty: new WeakSet(),\n    // TermReferences are resolved in a new scope.\n    insideTermReference: false,\n  };\n  return Type(scope, message).toString(bundle);\n}\n","export default class FluentError extends Error {}\n","import FluentError from \"./error.js\";\n\n// This regex is used to iterate through the beginnings of messages and terms.\n// With the /m flag, the ^ matches at the beginning of every line.\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */mg;\n\n// Both Attributes and Variants are parsed in while loops. These regexes are\n// used to break out of them.\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\n\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\n\n// A \"run\" is a sequence of text or string literal characters which don't\n// require any special handling. For TextElements such special characters are: {\n// (starts a placeable), and line breaks which require additional logic to check\n// if the next line is indented. For StringLiterals they are: \\ (starts an\n// escape sequence), \" (ends the literal), and line breaks which are not allowed\n// in StringLiterals. Note that string runs may be empty; text runs may not.\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\n\n// Escape sequences.\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\n\n// Used for trimming TextElements and indents.\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\n// Used in makeIndent to strip spaces from blank lines and normalize CRLF to LF.\nconst RE_BLANK_LINES = / *\\r?\\n/g;\n// Used in makeIndent to measure the indentation.\nconst RE_INDENT = /( *)$/;\n\n// Common tokens.\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\n// Note the optional comma. As a deviation from the Fluent EBNF, the parser\n// doesn't enforce commas between call arguments.\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\n\n// Maximum number of placeables in a single Pattern to protect against Quadratic\n// Blowup attacks. See https://msdn.microsoft.com/en-us/magazine/ee335713.aspx.\nconst MAX_PLACEABLES = 100;\n\n/**\n * Fluent Resource is a structure storing a map of parsed localization entries.\n */\nexport default class FluentResource extends Map {\n  /**\n   * Create a new FluentResource from Fluent code.\n   */\n  static fromString(source) {\n    RE_MESSAGE_START.lastIndex = 0;\n\n    let resource = new this();\n    let cursor = 0;\n\n    // Iterate over the beginnings of messages and terms to efficiently skip\n    // comments and recover from errors.\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        resource.set(next[1], parseMessage());\n      } catch (err) {\n        if (err instanceof FluentError) {\n          // Don't report any Fluent syntax errors. Skip directly to the\n          // beginning of the next message or term.\n          continue;\n        }\n        throw err;\n      }\n    }\n\n    return resource;\n\n    // The parser implementation is inlined below for performance reasons.\n\n    // The parser focuses on minimizing the number of false negatives at the\n    // expense of increasing the risk of false positives. In other words, it\n    // aims at parsing valid Fluent messages with a success rate of 100%, but it\n    // may also parse a few invalid messages which the reference parser would\n    // reject. The parser doesn't perform any validation and may produce entries\n    // which wouldn't make sense in the real world. For best results users are\n    // advised to validate translations with the fluent-syntax parser\n    // pre-runtime.\n\n    // The parser makes an extensive use of sticky regexes which can be anchored\n    // to any offset of the source string without slicing it. Errors are thrown\n    // to bail out of parsing of ill-formed messages.\n\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n\n    // Advance the cursor by the char if it matches. May be used as a predicate\n    // (was the match found?) or, if errorClass is passed, as an assertion.\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n\n    // Advance the cursor by the token if it matches. May be used as a predicate\n    // (was the match found?) or, if errorClass is passed, as an assertion.\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n\n    // Execute a regex, advance the cursor, and return all capture groups.\n    function match(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new FluentError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n\n    // Execute a regex, advance the cursor, and return the capture group.\n    function match1(re) {\n      return match(re)[1];\n    }\n\n    function parseMessage() {\n      let value = parsePattern();\n      let attrs = parseAttributes();\n\n      if (attrs === null) {\n        if (value === null) {\n          throw new FluentError(\"Expected message value or attributes\");\n        }\n        return value;\n      }\n\n      return {value, attrs};\n    }\n\n    function parseAttributes() {\n      let attrs = {};\n\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new FluentError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n\n      return Object.keys(attrs).length > 0 ? attrs : null;\n    }\n\n    function parsePattern() {\n      // First try to parse any simple text on the same line as the id.\n      if (test(RE_TEXT_RUN)) {\n        var first = match1(RE_TEXT_RUN);\n      }\n\n      // If there's a placeable on the first line, parse a complex pattern.\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        // Re-use the text parsed above, if possible.\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n\n      // RE_TEXT_VALUE stops at newlines. Only continue parsing the pattern if\n      // what comes after the newline is indented.\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          // If there's text on the first line, the blank block is part of the\n          // translation content in its entirety.\n          return parsePatternElements([first, indent], indent.length);\n        }\n        // Otherwise, we're dealing with a block pattern, i.e. a pattern which\n        // starts on a new line. Discrad the leading newlines but keep the\n        // inline indent; it will be used by the dedentation logic.\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n\n      if (first) {\n        // It was just a simple inline text after all.\n        return trim(first, RE_TRAILING_SPACES);\n      }\n\n      return null;\n    }\n\n    // Parse a complex pattern as an array of elements.\n    function parsePatternElements(elements = [], commonIndent) {\n      let placeableCount = 0;\n\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n\n        if (source[cursor] === \"{\") {\n          if (++placeableCount > MAX_PLACEABLES) {\n            throw new FluentError(\"Too many placeables\");\n          }\n          elements.push(parsePlaceable());\n          continue;\n        }\n\n        if (source[cursor] === \"}\") {\n          throw new FluentError(\"Unbalanced closing brace\");\n        }\n\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n\n        break;\n      }\n\n      let lastIndex = elements.length - 1;\n      // Trim the trailing spaces in the last element if it's a TextElement.\n      if (typeof elements[lastIndex] === \"string\") {\n        elements[lastIndex] = trim(elements[lastIndex], RE_TRAILING_SPACES);\n      }\n\n      let baked = [];\n      for (let element of elements) {\n        if (element.type === \"indent\") {\n          // Dedent indented lines by the maximum common indent.\n          element = element.value.slice(0, element.value.length - commonIndent);\n        } else if (element.type === \"str\") {\n          // Optimize StringLiterals into their value.\n          element = element.value;\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, FluentError);\n\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, FluentError);\n        return {type: \"select\", selector, ...variants};\n      }\n\n      throw new FluentError(\"Unclosed placeable\");\n    }\n\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        // It's a nested placeable.\n        return parsePlaceable();\n      }\n\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match(RE_REFERENCE);\n\n        if (sigil === \"$\") {\n          return {type: \"var\", name};\n        }\n\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n\n          if (sigil === \"-\") {\n            // A parameterized term: -term(...).\n            return {type: \"term\", name, attr, args};\n          }\n\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {type: \"func\", name, args};\n          }\n\n          throw new FluentError(\"Function names must be all upper-case\");\n        }\n\n        if (sigil === \"-\") {\n          // A non-parameterized term: -term.\n          return {type: \"term\", name, attr, args: []};\n        }\n\n        return {type: \"mesg\", name, attr};\n      }\n\n      return parseLiteral();\n    }\n\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\": // End of the argument list.\n            cursor++;\n            return args;\n          case undefined: // EOF\n            throw new FluentError(\"Unclosed argument list\");\n        }\n\n        args.push(parseArgument());\n        // Commas between arguments are treated as whitespace.\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n\n      if (consumeToken(TOKEN_COLON)) {\n        // The reference is the beginning of a named argument.\n        return {type: \"narg\", name: expr.name, value: parseLiteral()};\n      }\n\n      // It's a regular message reference.\n      return expr;\n    }\n\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new FluentError(\"Expected variant value\");\n        }\n        variants[count++] = {key, value};\n      }\n\n      if (count === 0) {\n        return null;\n      }\n\n      if (star === undefined) {\n        throw new FluentError(\"Expected default variant\");\n      }\n\n      return {variants, star};\n    }\n\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, FluentError);\n      let key = test(RE_NUMBER_LITERAL)\n        ? parseNumberLiteral()\n        : match1(RE_IDENTIFIER);\n      consumeToken(TOKEN_BRACKET_CLOSE, FluentError);\n      return key;\n    }\n\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n\n      if (source[cursor] === \"\\\"\") {\n        return parseStringLiteral();\n      }\n\n      throw new FluentError(\"Invalid expression\");\n    }\n\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {type: \"num\", value: parseFloat(value), precision};\n    }\n\n    function parseStringLiteral() {\n      consumeChar(\"\\\"\", FluentError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n\n        if (consumeChar(\"\\\"\")) {\n          return {type: \"str\", value};\n        }\n\n        // We've reached an EOL of EOF.\n        throw new FluentError(\"Unclosed string literal\");\n      }\n    }\n\n    // Unescape known escape sequences.\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 0xD7FF || 0xE000 <= codepoint\n          // It's a Unicode scalar value.\n          ? String.fromCodePoint(codepoint)\n          // Lonely surrogates can cause trouble when the parsing result is\n          // saved using UTF-8. Use U+FFFD REPLACEMENT CHARACTER instead.\n          : \"�\";\n      }\n\n      throw new FluentError(\"Unknown escape sequence\");\n    }\n\n    // Parse blank space. Return it if it looks like indent before a pattern\n    // line. Skip it othwerwise.\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n\n      // Check the first non-blank character after the indent.\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case undefined: // EOF\n          // A special character. End the Pattern.\n          return false;\n        case \"{\":\n          // Placeables don't require indentation (in EBNF: block-placeable).\n          // Continue the Pattern.\n          return makeIndent(source.slice(start, cursor));\n      }\n\n      // If the first character on the line is not one of the special characters\n      // listed above, it's a regular text character. Check if there's at least\n      // one space of indent before it.\n      if (source[cursor - 1] === \" \") {\n        // It's an indented text character (in EBNF: indented-char). Continue\n        // the Pattern.\n        return makeIndent(source.slice(start, cursor));\n      }\n\n      // A not-indented text character is likely the identifier of the next\n      // message. End the Pattern.\n      return false;\n    }\n\n    // Trim blanks in text according to the given regex.\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n\n    // Normalize a blank block and extract the indent details.\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return {type: \"indent\", value, length};\n    }\n  }\n}\n","import resolve from \"./resolver.js\";\nimport FluentResource from \"./resource.js\";\n\n/**\n * Message bundles are single-language stores of translations.  They are\n * responsible for parsing translation resources in the Fluent syntax and can\n * format translation units (entities) to strings.\n *\n * Always use `FluentBundle.format` to retrieve translation units from a\n * bundle. Translations can contain references to other entities or variables,\n * conditional logic in form of select expressions, traits which describe their\n * grammatical features, and can use Fluent builtins which make use of the\n * `Intl` formatters to format numbers, dates, lists and more into the\n * bundle's language. See the documentation of the Fluent syntax for more\n * information.\n */\nexport default class FluentBundle {\n  /**\n   * Create an instance of `FluentBundle`.\n   *\n   * The `locales` argument is used to instantiate `Intl` formatters used by\n   * translations.  The `options` object can be used to configure the bundle.\n   *\n   * Examples:\n   *\n   *     const bundle = new FluentBundle(locales);\n   *\n   *     const bundle = new FluentBundle(locales, { useIsolating: false });\n   *\n   *     const bundle = new FluentBundle(locales, {\n   *       useIsolating: true,\n   *       functions: {\n   *         NODE_ENV: () => process.env.NODE_ENV\n   *       }\n   *     });\n   *\n   * Available options:\n   *\n   *   - `functions` - an object of additional functions available to\n   *                   translations as builtins.\n   *\n   *   - `useIsolating` - boolean specifying whether to use Unicode isolation\n   *                    marks (FSI, PDI) for bidi interpolations.\n   *                    Default: true\n   *\n   *   - `transform` - a function used to transform string parts of patterns.\n   *\n   * @param   {string|Array<string>} locales - Locale or locales of the bundle\n   * @param   {Object} [options]\n   * @returns {FluentBundle}\n   */\n  constructor(locales, {\n    functions = {},\n    useIsolating = true,\n    transform = v => v,\n  } = {}) {\n    this.locales = Array.isArray(locales) ? locales : [locales];\n\n    this._terms = new Map();\n    this._messages = new Map();\n    this._functions = functions;\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = new WeakMap();\n  }\n\n  /*\n   * Return an iterator over public `[id, message]` pairs.\n   *\n   * @returns {Iterator}\n   */\n  get messages() {\n    return this._messages[Symbol.iterator]();\n  }\n\n  /*\n   * Check if a message is present in the bundle.\n   *\n   * @param {string} id - The identifier of the message to check.\n   * @returns {bool}\n   */\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n\n  /*\n   * Return the internal representation of a message.\n   *\n   * The internal representation should only be used as an argument to\n   * `FluentBundle.format`.\n   *\n   * @param {string} id - The identifier of the message to check.\n   * @returns {Any}\n   */\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n\n  /**\n   * Add a translation resource to the bundle.\n   *\n   * The translation resource must use the Fluent syntax.  It will be parsed by\n   * the bundle and each translation unit (message) will be available in the\n   * bundle by its identifier.\n   *\n   *     bundle.addMessages('foo = Foo');\n   *     bundle.getMessage('foo');\n   *\n   *     // Returns a raw representation of the 'foo' message.\n   *\n   *     bundle.addMessages('bar = Bar');\n   *     bundle.addMessages('bar = Newbar', { allowOverrides: true });\n   *     bundle.getMessage('bar');\n   *\n   *     // Returns a raw representation of the 'bar' message: Newbar.\n   *\n   * Parsed entities should be formatted with the `format` method in case they\n   * contain logic (references, select expressions etc.).\n   *\n   * Available options:\n   *\n   *   - `allowOverrides` - boolean specifying whether it's allowed to override\n   *                      an existing message or term with a new value.\n   *                      Default: false\n   *\n   * @param   {string} source - Text resource with translations.\n   * @param   {Object} [options]\n   * @returns {Array<Error>}\n   */\n  addMessages(source, options) {\n    const res = FluentResource.fromString(source);\n    return this.addResource(res, options);\n  }\n\n  /**\n   * Add a translation resource to the bundle.\n   *\n   * The translation resource must be an instance of FluentResource,\n   * e.g. parsed by `FluentResource.fromString`.\n   *\n   *     let res = FluentResource.fromString(\"foo = Foo\");\n   *     bundle.addResource(res);\n   *     bundle.getMessage('foo');\n   *\n   *     // Returns a raw representation of the 'foo' message.\n   *\n   *     let res = FluentResource.fromString(\"bar = Bar\");\n   *     bundle.addResource(res);\n   *     res = FluentResource.fromString(\"bar = Newbar\");\n   *     bundle.addResource(res, { allowOverrides: true });\n   *     bundle.getMessage('bar');\n   *\n   *     // Returns a raw representation of the 'bar' message: Newbar.\n   *\n   * Parsed entities should be formatted with the `format` method in case they\n   * contain logic (references, select expressions etc.).\n   *\n   * Available options:\n   *\n   *   - `allowOverrides` - boolean specifying whether it's allowed to override\n   *                      an existing message or term with a new value.\n   *                      Default: false\n   *\n   * @param   {FluentResource} res - FluentResource object.\n   * @param   {Object} [options]\n   * @returns {Array<Error>}\n   */\n  addResource(res, {\n    allowOverrides = false,\n  } = {}) {\n    const errors = [];\n\n    for (const [id, value] of res) {\n      if (id.startsWith(\"-\")) {\n        // Identifiers starting with a dash (-) define terms. Terms are private\n        // and cannot be retrieved from FluentBundle.\n        if (allowOverrides === false && this._terms.has(id)) {\n          errors.push(`Attempt to override an existing term: \"${id}\"`);\n          continue;\n        }\n        this._terms.set(id, value);\n      } else {\n        if (allowOverrides === false && this._messages.has(id)) {\n          errors.push(`Attempt to override an existing message: \"${id}\"`);\n          continue;\n        }\n        this._messages.set(id, value);\n      }\n    }\n\n    return errors;\n  }\n\n  /**\n   * Format a message to a string or null.\n   *\n   * Format a raw `message` from the bundle into a string (or a null if it has\n   * a null value).  `args` will be used to resolve references to variables\n   * passed as arguments to the translation.\n   *\n   * In case of errors `format` will try to salvage as much of the translation\n   * as possible and will still return a string.  For performance reasons, the\n   * encountered errors are not returned but instead are appended to the\n   * `errors` array passed as the third argument.\n   *\n   *     const errors = [];\n   *     bundle.addMessages('hello = Hello, { $name }!');\n   *     const hello = bundle.getMessage('hello');\n   *     bundle.format(hello, { name: 'Jane' }, errors);\n   *\n   *     // Returns 'Hello, Jane!' and `errors` is empty.\n   *\n   *     bundle.format(hello, undefined, errors);\n   *\n   *     // Returns 'Hello, name!' and `errors` is now:\n   *\n   *     [<ReferenceError: Unknown variable: name>]\n   *\n   * @param   {Object | string}    message\n   * @param   {Object | undefined} args\n   * @param   {Array}              errors\n   * @returns {?string}\n   */\n  format(message, args, errors) {\n    // optimize entities which are simple strings with no attributes\n    if (typeof message === \"string\") {\n      return this._transform(message);\n    }\n\n    // optimize entities with null values\n    if (message === null || message.value === null) {\n      return null;\n    }\n\n    // optimize simple-string entities with attributes\n    if (typeof message.value === \"string\") {\n      return this._transform(message.value);\n    }\n\n    return resolve(this, args, message, errors);\n  }\n\n  _memoizeIntlObject(ctor, opts) {\n    const cache = this._intls.get(ctor) || {};\n    const id = JSON.stringify(opts);\n\n    if (!cache[id]) {\n      cache[id] = new ctor(this.locales, opts);\n      this._intls.set(ctor, cache);\n    }\n\n    return cache[id];\n  }\n}\n","import { FluentBundle } from '@fluent/bundle';\n\nfunction makeBundle(locale, ftl) {\n  const bundle = new FluentBundle(locale, { useIsolating: false });\n  bundle.addMessages(ftl);\n  return bundle;\n}\n\nexport async function getTranslator(locale) {\n  const bundles = [];\n  const { default: en } = await import('../public/locales/en-US/send.ftl');\n  if (locale !== 'en-US') {\n    const { default: ftl } = await import(\n      `../public/locales/${locale}/send.ftl`\n    );\n    bundles.push(makeBundle(locale, ftl));\n  }\n  bundles.push(makeBundle('en-US', en));\n  return function(id, data) {\n    for (let bundle of bundles) {\n      if (bundle.hasMessage(id)) {\n        return bundle.format(bundle.getMessage(id), data);\n      }\n    }\n  };\n}\n","/* global Android */\n\nconst html = require('choo/html');\nconst raw = require('choo/html/raw');\nconst assets = require('../../common/assets');\nconst {\n  bytes,\n  copyToClipboard,\n  list,\n  percent,\n  platform,\n  timeLeft\n} = require('../utils');\nconst expiryOptions = require('./expiryOptions');\n\nfunction expiryInfo(translate, archive) {\n  const l10n = timeLeft(archive.expiresAt - Date.now());\n  return raw(\n    translate('archiveExpiryInfo', {\n      downloadCount: translate('downloadCount', {\n        num: archive.dlimit - archive.dtotal\n      }),\n      timespan: translate(l10n.id, l10n)\n    })\n  );\n}\n\nfunction password(state) {\n  const MAX_LENGTH = 32;\n\n  return html`\n    <div class=\"mb-2 px-1\">\n      <div class=\"checkbox inline-block mr-3\">\n        <input\n          id=\"add-password\"\n          type=\"checkbox\"\n          ${state.archive.password ? 'checked' : ''}\n          autocomplete=\"off\"\n          onchange=\"${togglePasswordInput}\"\n        />\n        <label for=\"add-password\">\n          ${state.translate('addPassword')}\n        </label>\n      </div>\n      <input\n        id=\"password-input\"\n        class=\"${state.archive.password\n          ? ''\n          : 'invisible'} border rounded focus:border-blue-60 leading-normal my-1 py-1 px-2 h-8 dark:bg-grey-80\"\n        autocomplete=\"off\"\n        maxlength=\"${MAX_LENGTH}\"\n        type=\"password\"\n        oninput=\"${inputChanged}\"\n        onfocus=\"${focused}\"\n        placeholder=\"${state.translate('unlockInputPlaceholder')}\"\n        value=\"${state.archive.password || ''}\"\n      />\n      <label\n        id=\"password-msg\"\n        for=\"password-input\"\n        class=\"block text-xs text-grey-70\"\n      ></label>\n    </div>\n  `;\n\n  function togglePasswordInput(event) {\n    event.stopPropagation();\n    const checked = event.target.checked;\n    const input = document.getElementById('password-input');\n    if (checked) {\n      input.classList.remove('invisible');\n      input.focus();\n    } else {\n      input.classList.add('invisible');\n      input.value = '';\n      document.getElementById('password-msg').textContent = '';\n      state.archive.password = null;\n    }\n  }\n\n  function inputChanged() {\n    const passwordInput = document.getElementById('password-input');\n    const pwdmsg = document.getElementById('password-msg');\n    const password = passwordInput.value;\n    const length = password.length;\n\n    if (length === MAX_LENGTH) {\n      pwdmsg.textContent = state.translate('maxPasswordLength', {\n        length: MAX_LENGTH\n      });\n    } else {\n      pwdmsg.textContent = '';\n    }\n    state.archive.password = password;\n  }\n\n  function focused(event) {\n    event.preventDefault();\n    const el = document.getElementById('password-input');\n    if (el.placeholder !== state.translate('unlockInputPlaceholder')) {\n      el.placeholder = '';\n    }\n  }\n}\n\nfunction fileInfo(file, action) {\n  return html`\n    <send-file class=\"flex flex-row items-center p-3 w-full\">\n      <svg class=\"h-8 w-8 text-white dark:text-grey-90\">\n        <use xlink:href=\"${assets.get('blue_file.svg')}#icon\"/>\n      </svg>\n      <p class=\"ml-4 w-full\">\n        <h1 class=\"text-base font-medium word-break-all\">${file.name}</h1>\n        <div class=\"text-sm font-normal opacity-75 pt-1\">${bytes(\n          file.size\n        )}</div>\n      </p>\n      ${action}\n    </send-file>`;\n}\n\nfunction archiveInfo(archive, action) {\n  return html`\n    <p class=\"w-full flex items-center\">\n      <svg class=\"h-8 w-6 mr-3 flex-shrink-0 text-white dark:text-grey-90\">\n        <use xlink:href=\"${assets.get('blue_file.svg')}#icon\"/>\n      </svg>\n      <p class=\"flex-grow\">\n        <h1 class=\"text-base font-medium word-break-all\">${archive.name}</h1>\n        <div class=\"text-sm font-normal opacity-75 pt-1\">${bytes(\n          archive.size\n        )}</div>\n      </p>\n      ${action}\n    </p>`;\n}\n\nfunction archiveDetails(translate, archive) {\n  if (archive.manifest.files.length > 1) {\n    return html`\n      <details\n        class=\"w-full pb-1\"\n        ${archive.open ? 'open' : ''}\n        ontoggle=\"${toggled}\"\n      >\n        <summary\n          class=\"flex items-center link-blue text-sm cursor-pointer outline-none\"\n        >\n          <svg\n            class=\"fill-current w-4 h-4 mr-1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path\n              d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"\n            />\n          </svg>\n          ${translate('fileCount', {\n            num: archive.manifest.files.length\n          })}\n        </summary>\n        ${list(archive.manifest.files.map(f => fileInfo(f)))}\n      </details>\n    `;\n  }\n  function toggled(event) {\n    event.stopPropagation();\n    archive.open = event.target.open;\n  }\n}\n\nmodule.exports = function(state, emit, archive) {\n  const copyOrShare =\n    state.capabilities.share || platform() === 'android'\n      ? html`\n          <button\n            class=\"link-blue self-end flex items-start\"\n            onclick=${share}\n            title=\"Share link\"\n          >\n            <svg class=\"h-4 w-4 mr-2\">\n              <use xlink:href=\"${assets.get('share-24.svg')}#icon\" />\n            </svg>\n            Share link\n          </button>\n        `\n      : html`\n          <button\n            class=\"link-blue focus:outline self-end flex items-center\"\n            onclick=${copy}\n            title=\"${state.translate('copyLinkButton')}\"\n          >\n            <svg class=\"h-4 w-4 mr-2\">\n              <use xlink:href=\"${assets.get('copy-16.svg')}#icon\" />\n            </svg>\n            ${state.translate('copyLinkButton')}\n          </button>\n        `;\n  const dl =\n    platform() === 'web'\n      ? html`\n          <a\n            class=\"flex items-baseline link-blue\"\n            href=\"${archive.url}\"\n            title=\"${state.translate('downloadButtonLabel')}\"\n            tabindex=\"0\"\n          >\n            <svg class=\"h-4 w-3 mr-2\">\n              <use xlink:href=\"${assets.get('dl.svg')}#icon\" />\n            </svg>\n            ${state.translate('downloadButtonLabel')}\n          </a>\n        `\n      : html`\n          <div></div>\n        `;\n  return html`\n    <send-archive\n      id=\"archive-${archive.id}\"\n      class=\"flex flex-col items-start rounded shadow-light bg-white p-4 w-full dark:bg-grey-90 dark:border dark:border-grey-70\"\n    >\n      ${archiveInfo(\n        archive,\n        html`\n          <input\n            type=\"image\"\n            class=\"self-start flex-shrink-0 text-white hover:opacity-75 focus:outline\"\n            alt=\"${state.translate('deleteButtonHover')}\"\n            title=\"${state.translate('deleteButtonHover')}\"\n            src=\"${assets.get('close-16.svg')}\"\n            onclick=${del}\n          />\n        `\n      )}\n      <div class=\"text-sm opacity-75 w-full mt-2 mb-2\">\n        ${expiryInfo(state.translate, archive)}\n      </div>\n      ${archiveDetails(state.translate, archive)}\n      <hr class=\"w-full border-t my-4 dark:border-grey-70\" />\n      <div class=\"flex justify-between w-full\">\n        ${dl} ${copyOrShare}\n      </div>\n    </send-archive>\n  `;\n\n  function copy(event) {\n    event.stopPropagation();\n    copyToClipboard(archive.url);\n    const text = event.target.lastChild;\n    text.textContent = state.translate('copiedUrl');\n    setTimeout(\n      () => (text.textContent = state.translate('copyLinkButton')),\n      1000\n    );\n  }\n\n  function del(event) {\n    event.stopPropagation();\n    emit('delete', archive);\n  }\n\n  async function share(event) {\n    event.stopPropagation();\n    if (platform() === 'android') {\n      Android.shareUrl(archive.url);\n    } else {\n      try {\n        await navigator.share({\n          title: state.translate('-send-brand'),\n          text: `Download \"${archive.name}\" with Firefox Send: simple, safe file sharing`,\n          //state.translate('shareMessage', { name }),\n          url: archive.url\n        });\n      } catch (e) {\n        // ignore\n      }\n    }\n  }\n};\n\nmodule.exports.wip = function(state, emit) {\n  return html`\n    <send-upload-area\n      class=\"flex flex-col bg-white h-full w-full dark:bg-grey-90\"\n      id=\"wip\"\n    >\n      ${list(\n        Array.from(state.archive.files)\n          .reverse()\n          .map(f =>\n            fileInfo(f, remove(f, state.translate('deleteButtonHover')))\n          ),\n        'flex-shrink bg-grey-10 rounded-t overflow-y-auto px-6 py-4 md:h-full md:max-h-half-screen dark:bg-black',\n        'bg-white px-2 my-2 shadow-light rounded dark:bg-grey-90 dark:border dark:border-grey-80'\n      )}\n      <div\n        class=\"flex-shrink-0 flex-grow flex items-end p-4 bg-grey-10 rounded-b mb-1 font-medium dark:bg-grey-90\"\n      >\n        <input\n          id=\"file-upload\"\n          class=\"opacity-0 w-0 h-0 appearance-none absolute overflow-hidden\"\n          type=\"file\"\n          multiple\n          onfocus=\"${focus}\"\n          onblur=\"${blur}\"\n          onchange=\"${add}\"\n        />\n        <div\n          for=\"file-upload\"\n          class=\"flex flex-row items-center justify-between w-full p-2\"\n        >\n          <label\n            for=\"file-upload\"\n            class=\"flex items-center cursor-pointer\"\n            title=\"${state.translate('addFilesButton')}\"\n          >\n            <svg class=\"w-6 h-6 mr-2 link-blue\">\n              <use xlink:href=\"${assets.get('addfiles.svg')}#plus\" />\n            </svg>\n            ${state.translate('addFilesButton')}\n          </label>\n          <div class=\"font-normal text-sm text-grey-70 dark:text-grey-40\">\n            ${state.translate('totalSize', {\n              size: bytes(state.archive.size)\n            })}\n          </div>\n        </div>\n      </div>\n      ${expiryOptions(state, emit)} ${password(state, emit)}\n      <button\n        id=\"upload-btn\"\n        class=\"btn rounded-lg flex-shrink-0 focus:outline\"\n        title=\"${state.translate('uploadButton')}\"\n        onclick=\"${upload}\"\n      >\n        ${state.translate('uploadButton')}\n      </button>\n    </send-upload-area>\n  `;\n\n  function focus(event) {\n    event.target.nextElementSibling.firstElementChild.classList.add('outline');\n  }\n\n  function blur(event) {\n    event.target.nextElementSibling.firstElementChild.classList.remove(\n      'outline'\n    );\n  }\n\n  function upload(event) {\n    window.scrollTo(0, 0);\n    event.preventDefault();\n    event.target.disabled = true;\n    if (!state.uploading) {\n      emit('upload');\n    }\n  }\n\n  function add(event) {\n    event.preventDefault();\n    const newFiles = Array.from(event.target.files);\n\n    emit('addFiles', { files: newFiles });\n    setTimeout(() => {\n      document\n        .querySelector('#wip > ul > li:first-child')\n        .scrollIntoView({ block: 'center' });\n    });\n  }\n\n  function remove(file, desc) {\n    return html`\n      <input\n        type=\"image\"\n        class=\"self-center text-white ml-4 h-4 hover:opacity-75 focus:outline\"\n        alt=\"${desc}\"\n        title=\"${desc}\"\n        src=\"${assets.get('close-16.svg')}\"\n        onclick=\"${del}\"\n      />\n    `;\n    function del(event) {\n      event.stopPropagation();\n      emit('removeUpload', file);\n    }\n  }\n};\n\nmodule.exports.uploading = function(state, emit) {\n  const progress = state.transfer.progressRatio;\n  const progressPercent = percent(progress);\n  const archive = state.archive;\n  return html`\n    <send-upload-area\n      id=\"${archive.id}\"\n      class=\"flex flex-col items-start rounded shadow-light bg-white p-4 w-full dark:bg-grey-90\"\n    >\n      ${archiveInfo(archive)}\n      <div class=\"text-xs opacity-75 w-full mt-2 mb-2\">\n        ${expiryInfo(state.translate, {\n          dlimit: state.archive.dlimit,\n          dtotal: 0,\n          expiresAt: Date.now() + 500 + state.archive.timeLimit * 1000\n        })}\n      </div>\n      <div class=\"link-blue text-sm font-medium mt-2\">\n        ${progressPercent}\n      </div>\n      <progress class=\"my-3\" value=\"${progress}\">${progressPercent}</progress>\n      <button\n        class=\"link-blue self-end font-medium\"\n        onclick=${cancel}\n        title=\"${state.translate('deletePopupCancel')}\"\n      >\n        ${state.translate('deletePopupCancel')}\n      </button>\n    </send-upload-area>\n  `;\n\n  function cancel(event) {\n    event.stopPropagation();\n    event.target.disabled = true;\n    emit('cancel');\n  }\n};\n\nmodule.exports.empty = function(state, emit) {\n  const upsell =\n    state.user.loggedIn || !state.capabilities.account\n      ? ''\n      : html`\n          <button\n            class=\"center font-medium text-sm link-blue mt-4 mb-2\"\n            onclick=\"${event => {\n              event.stopPropagation();\n              emit('signup-cta', 'drop');\n            }}\"\n          >\n            ${state.translate('signInSizeBump', {\n              size: bytes(state.LIMITS.MAX_FILE_SIZE)\n            })}\n          </button>\n        `;\n  return html`\n    <send-upload-area\n      class=\"flex flex-col items-center justify-center border-2 border-dashed border-grey-transparent rounded px-6 py-16 h-full w-full dark:border-grey-60\"\n      onclick=\"${e => {\n        if (e.target.tagName !== 'LABEL') {\n          document.getElementById('file-upload').click();\n        }\n      }}\"\n    >\n      <svg class=\"w-10 h-10 link-blue\">\n        <use xlink:href=\"/${assets.get('addfiles.svg')}#plus\" />\n      </svg>\n      <div class=\"pt-6 pb-2 text-center text-lg font-bold tracking-wide\">\n        ${state.translate('dragAndDropFiles')}\n      </div>\n      <div class=\"pb-6 text-center text-base\">\n        ${state.translate('orClickWithSize', {\n          size: bytes(state.user.maxSize)\n        })}\n      </div>\n      <input\n        id=\"file-upload\"\n        class=\"opacity-0 w-0 h-0 appearance-none absolute overflow-hidden\"\n        type=\"file\"\n        multiple\n        onfocus=\"${focus}\"\n        onblur=\"${blur}\"\n        onchange=\"${add}\"\n        onclick=\"${e => e.stopPropagation()}\"\n      />\n      <label\n        for=\"file-upload\"\n        role=\"button\"\n        class=\"btn rounded-lg flex items-center mt-4\"\n        title=\"${state.translate('addFilesButton', {\n          size: bytes(state.user.maxSize)\n        })}\"\n      >\n        ${state.translate('addFilesButton')}\n      </label>\n      ${upsell}\n    </send-upload-area>\n  `;\n\n  function focus(event) {\n    event.target.nextElementSibling.classList.add('bg-blue-70', 'outline');\n  }\n\n  function blur(event) {\n    event.target.nextElementSibling.classList.remove('bg-blue-70', 'outline');\n  }\n\n  function add(event) {\n    event.preventDefault();\n    const newFiles = Array.from(event.target.files);\n\n    emit('addFiles', { files: newFiles });\n  }\n};\n\nmodule.exports.preview = function(state, emit) {\n  const archive = state.fileInfo;\n  if (archive.open === undefined) {\n    archive.open = true;\n  }\n  const single = archive.manifest.files.length === 1;\n  const details = single\n    ? ''\n    : html`\n        <div class=\"mt-4 h-full md:h-48 overflow-y-auto\">\n          ${archiveDetails(state.translate, archive)}\n        </div>\n      `;\n  return html`\n    <send-archive\n      class=\"flex flex-col max-h-full bg-white p-4 w-full md:w-128 dark:bg-grey-90\"\n    >\n      <div class=\"border rounded py-3 px-6 dark:border-grey-70\">\n        ${archiveInfo(archive)} ${details}\n      </div>\n      <button\n        id=\"download-btn\"\n        class=\"btn rounded-lg mt-4 w-full flex-shrink-0 focus:outline\"\n        title=\"${state.translate('downloadButtonLabel')}\"\n        onclick=${download}\n      >\n        ${state.translate('downloadButtonLabel')}\n      </button>\n    </send-archive>\n  `;\n\n  function download(event) {\n    event.preventDefault();\n    event.target.disabled = true;\n    emit('download', archive);\n  }\n};\n\nmodule.exports.downloading = function(state) {\n  const archive = state.fileInfo;\n  const progress = state.transfer.progressRatio;\n  const progressPercent = percent(progress);\n  return html`\n    <send-archive\n      class=\"flex flex-col bg-white rounded shadow-light p-4 w-full max-w-sm md:w-128 dark:bg-grey-90\"\n    >\n      ${archiveInfo(archive)}\n      <div class=\"link-blue text-sm font-medium mt-2\">\n        ${progressPercent}\n      </div>\n      <progress class=\"my-3\" value=\"${progress}\">${progressPercent}</progress>\n    </send-archive>\n  `;\n};\n","const html = require('choo/html');\nconst Component = require('choo/component');\nconst Account = require('./account');\nconst assets = require('../../common/assets');\nconst { platform } = require('../utils');\n\nclass Header extends Component {\n  constructor(name, state, emit) {\n    super(name);\n    this.state = state;\n    this.emit = emit;\n    this.account = state.cache(Account, 'account');\n  }\n\n  update() {\n    this.account.render();\n    return false;\n  }\n  createElement() {\n    const title =\n      platform() === 'android'\n        ? html`\n            <a class=\"flex flex-row items-center\">\n              <img src=\"${assets.get('icon.svg')}\" />\n              <svg class=\"w-48\">\n                <use xlink:href=\"${assets.get('wordmark.svg')}#logo\" />\n              </svg>\n            </a>\n          `\n        : html`\n            <a class=\"flex flex-row items-center\" href=\"/\">\n              <img\n                alt=\"${this.state.translate('title')}\"\n                src=\"${assets.get('icon.svg')}\"\n              />\n              <svg class=\"w-48 md:w-64\">\n                <use xlink:href=\"${assets.get('wordmark.svg')}#logo\" />\n              </svg>\n            </a>\n          `;\n    return html`\n      <header\n        class=\"main-header relative flex-none flex flex-row items-center justify-between w-full px-6 md:px-8 h-16 md:h-24 z-20 bg-transparent\"\n      >\n        ${title} ${this.account.render()}\n      </header>\n    `;\n  }\n}\n\nmodule.exports = Header;\n","module.exports = scrollToAnchor;\nfunction scrollToAnchor(anchor, options) {\n    if (anchor) {\n        try {\n            var el = document.querySelector(anchor);\n            if (el)\n                el.scrollIntoView(options);\n        } catch (e) {\n        }\n    }\n}","'use strict';\nmodule.exports = ready;\nfunction ready(callback) {\n    if (typeof document === 'undefined') {\n        throw new Error('document-ready only runs in the browser');\n    }\n    var state = document.readyState;\n    if (state === 'complete' || state === 'interactive') {\n        return setTimeout(callback, 0);\n    }\n    document.addEventListener('DOMContentLoaded', function onLoad() {\n        callback();\n    });\n}","var wayfarer = require('wayfarer');\n// electron support\nvar isLocalFile = /file:\\/\\//.test(typeof window === 'object' && window.location && window.location.origin);\n/* eslint-disable no-useless-escape */\nvar electron = '^(file://|/)(.*.html?/?)?';\nvar protocol = '^(http(s)?(://))?(www.)?';\nvar domain = '[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?';\nvar qs = '[?].*$';\n/* eslint-enable no-useless-escape */\nvar stripElectron = new RegExp(electron);\nvar prefix = new RegExp(protocol + domain);\nvar normalize = new RegExp('#');\nvar suffix = new RegExp(qs);\nmodule.exports = Nanorouter;\nfunction Nanorouter(opts) {\n    if (!(this instanceof Nanorouter))\n        return new Nanorouter(opts);\n    opts = opts || {};\n    this.router = wayfarer(opts.default || '/404');\n}\nNanorouter.prototype.on = function (routename, listener) {\n    routename = routename.replace(/^[#/]/, '');\n    this.router.on(routename, listener);\n};\nNanorouter.prototype.emit = function (routename) {\n    routename = pathname(routename, isLocalFile);\n    return this.router.emit(routename);\n};\nNanorouter.prototype.match = function (routename) {\n    routename = pathname(routename, isLocalFile);\n    return this.router.match(routename);\n};\n// replace everything in a route but the pathname and hash\nfunction pathname(routename, isElectron) {\n    if (isElectron)\n        routename = routename.replace(stripElectron, '');\n    else\n        routename = routename.replace(prefix, '');\n    return decodeURI(routename.replace(suffix, '').replace(normalize, '/'));\n}","var trie = require('./trie');\nmodule.exports = Wayfarer;\n// create a router\n// str -> obj\nfunction Wayfarer(dft) {\n    if (!(this instanceof Wayfarer))\n        return new Wayfarer(dft);\n    var _default = (dft || '').replace(/^\\//, '');\n    var _trie = trie();\n    emit._trie = _trie;\n    emit.on = on;\n    emit.emit = emit;\n    emit.match = match;\n    emit._wayfarer = true;\n    return emit;\n    // define a route\n    // (str, fn) -> obj\n    function on(route, cb) {\n        route = route || '/';\n        if (cb._wayfarer && cb._trie) {\n            _trie.mount(route, cb._trie.trie);\n        } else {\n            var node = _trie.create(route);\n            node.cb = cb;\n            node.route = route;\n        }\n        return emit;\n    }\n    // match and call a route\n    // (str, obj?) -> null\n    function emit(route) {\n        var matched = match(route);\n        var args = new Array(arguments.length);\n        args[0] = matched.params;\n        for (var i = 1; i < args.length; i++) {\n            args[i] = arguments[i];\n        }\n        return matched.cb.apply(matched.cb, args);\n    }\n    function match(route) {\n        var matched = _trie.match(route);\n        if (matched && matched.cb)\n            return new Route(matched);\n        var dft = _trie.match(_default);\n        if (dft && dft.cb)\n            return new Route(dft);\n        throw new Error('route \\'' + route + '\\' did not match');\n    }\n    function Route(matched) {\n        this.cb = matched.cb;\n        this.route = matched.route;\n        this.params = matched.params;\n    }\n}","module.exports = Trie;\n// create a new trie\n// null -> obj\nfunction Trie() {\n    if (!(this instanceof Trie))\n        return new Trie();\n    this.trie = { nodes: {} };\n}\n// create a node on the trie at route\n// and return a node\n// str -> obj\nTrie.prototype.create = function (route) {\n    // strip leading '/' and split routes\n    var routes = route.replace(/^\\//, '').split('/');\n    function createNode(index, trie) {\n        var thisRoute = routes.hasOwnProperty(index) && routes[index];\n        if (thisRoute === false)\n            return trie;\n        var node = null;\n        if (/^:|^\\*/.test(thisRoute)) {\n            // if node is a name match, set name and append to ':' node\n            if (!trie.nodes.hasOwnProperty('$$')) {\n                node = { nodes: {} };\n                trie.nodes['$$'] = node;\n            } else {\n                node = trie.nodes['$$'];\n            }\n            if (thisRoute[0] === '*') {\n                trie.wildcard = true;\n            }\n            trie.name = thisRoute.replace(/^:|^\\*/, '');\n        } else if (!trie.nodes.hasOwnProperty(thisRoute)) {\n            node = { nodes: {} };\n            trie.nodes[thisRoute] = node;\n        } else {\n            node = trie.nodes[thisRoute];\n        }\n        // we must recurse deeper\n        return createNode(index + 1, node);\n    }\n    return createNode(0, this.trie);\n};\n// match a route on the trie\n// and return the node\n// str -> obj\nTrie.prototype.match = function (route) {\n    var routes = route.replace(/^\\//, '').split('/');\n    var params = {};\n    function search(index, trie) {\n        // either there's no match, or we're done searching\n        if (trie === undefined)\n            return undefined;\n        var thisRoute = routes[index];\n        if (thisRoute === undefined)\n            return trie;\n        if (trie.nodes.hasOwnProperty(thisRoute)) {\n            // match regular routes first\n            return search(index + 1, trie.nodes[thisRoute]);\n        } else if (trie.name) {\n            // match named routes\n            try {\n                params[trie.name] = decodeURIComponent(thisRoute);\n            } catch (e) {\n                return search(index, undefined);\n            }\n            return search(index + 1, trie.nodes['$$']);\n        } else if (trie.wildcard) {\n            // match wildcards\n            try {\n                params['wildcard'] = decodeURIComponent(routes.slice(index).join('/'));\n            } catch (e) {\n                return search(index, undefined);\n            }\n            // return early, or else search may keep recursing through the wildcard\n            return trie.nodes['$$'];\n        } else {\n            // no matches found\n            return search(index + 1);\n        }\n    }\n    var node = search(0, this.trie);\n    if (!node)\n        return undefined;\n    node = Object.assign({}, node);\n    node.params = params;\n    return node;\n};\n// mount a trie onto a node at route\n// (str, obj) -> null\nTrie.prototype.mount = function (route, trie) {\n    var split = route.replace(/^\\//, '').split('/');\n    var node = null;\n    var key = null;\n    if (split.length === 1) {\n        key = split[0];\n        node = this.create(key);\n    } else {\n        var head = split.join('/');\n        key = split[0];\n        node = this.create(head);\n    }\n    Object.assign(node.nodes, trie.nodes);\n    if (trie.name)\n        node.name = trie.name;\n    // delegate properties from '/' to the new node\n    // '/' cannot be reached once mounted\n    if (node.nodes['']) {\n        Object.keys(node.nodes['']).forEach(function (key) {\n            if (key === 'nodes')\n                return;\n            node[key] = node.nodes[''][key];\n        });\n        Object.assign(node.nodes, node.nodes[''].nodes);\n        delete node.nodes[''].nodes;\n    }\n};","assert.notEqual = notEqual;\nassert.notOk = notOk;\nassert.equal = equal;\nassert.ok = assert;\nmodule.exports = assert;\nfunction equal(a, b, m) {\n}\nfunction notEqual(a, b, m) {\n}\nfunction notOk(t, m) {\n}\nfunction assert(t, m) {\n    if (!t)\n        throw new Error(m || 'AssertionError');\n}","var events = require('./events');\nvar eventsLength = events.length;\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\nmodule.exports = morph;\n// diff elements and apply the resulting patch to the old node\n// (obj, obj) -> null\nfunction morph(newNode, oldNode) {\n    var nodeType = newNode.nodeType;\n    var nodeName = newNode.nodeName;\n    if (nodeType === ELEMENT_NODE) {\n        copyAttrs(newNode, oldNode);\n    }\n    if (nodeType === TEXT_NODE || nodeType === COMMENT_NODE) {\n        if (oldNode.nodeValue !== newNode.nodeValue) {\n            oldNode.nodeValue = newNode.nodeValue;\n        }\n    }\n    // Some DOM nodes are weird\n    // https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n    if (nodeName === 'INPUT')\n        updateInput(newNode, oldNode);\n    else if (nodeName === 'OPTION')\n        updateOption(newNode, oldNode);\n    else if (nodeName === 'TEXTAREA')\n        updateTextarea(newNode, oldNode);\n    copyEvents(newNode, oldNode);\n}\nfunction copyAttrs(newNode, oldNode) {\n    var oldAttrs = oldNode.attributes;\n    var newAttrs = newNode.attributes;\n    var attrNamespaceURI = null;\n    var attrValue = null;\n    var fromValue = null;\n    var attrName = null;\n    var attr = null;\n    for (var i = newAttrs.length - 1; i >= 0; --i) {\n        attr = newAttrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = oldNode.getAttributeNS(attrNamespaceURI, attrName);\n            if (fromValue !== attrValue) {\n                oldNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            if (!oldNode.hasAttribute(attrName)) {\n                oldNode.setAttribute(attrName, attrValue);\n            } else {\n                fromValue = oldNode.getAttribute(attrName);\n                if (fromValue !== attrValue) {\n                    // apparently values are always cast to strings, ah well\n                    if (attrValue === 'null' || attrValue === 'undefined') {\n                        oldNode.removeAttribute(attrName);\n                    } else {\n                        oldNode.setAttribute(attrName, attrValue);\n                    }\n                }\n            }\n        }\n    }\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    for (var j = oldAttrs.length - 1; j >= 0; --j) {\n        attr = oldAttrs[j];\n        if (attr.specified !== false) {\n            attrName = attr.name;\n            attrNamespaceURI = attr.namespaceURI;\n            if (attrNamespaceURI) {\n                attrName = attr.localName || attrName;\n                if (!newNode.hasAttributeNS(attrNamespaceURI, attrName)) {\n                    oldNode.removeAttributeNS(attrNamespaceURI, attrName);\n                }\n            } else {\n                if (!newNode.hasAttributeNS(null, attrName)) {\n                    oldNode.removeAttribute(attrName);\n                }\n            }\n        }\n    }\n}\nfunction copyEvents(newNode, oldNode) {\n    for (var i = 0; i < eventsLength; i++) {\n        var ev = events[i];\n        if (newNode[ev]) {\n            // if new element has a whitelisted attribute\n            oldNode[ev] = newNode[ev]    // update existing element\n;\n        } else if (oldNode[ev]) {\n            // if existing element has it and new one doesnt\n            oldNode[ev] = undefined    // remove it from existing element\n;\n        }\n    }\n}\nfunction updateOption(newNode, oldNode) {\n    updateAttribute(newNode, oldNode, 'selected');\n}\n// The \"value\" attribute is special for the <input> element since it sets the\n// initial value. Changing the \"value\" attribute without changing the \"value\"\n// property will have no effect since it is only used to the set the initial\n// value. Similar for the \"checked\" attribute, and \"disabled\".\nfunction updateInput(newNode, oldNode) {\n    var newValue = newNode.value;\n    var oldValue = oldNode.value;\n    updateAttribute(newNode, oldNode, 'checked');\n    updateAttribute(newNode, oldNode, 'disabled');\n    if (newValue !== oldValue) {\n        oldNode.setAttribute('value', newValue);\n        oldNode.value = newValue;\n    }\n    if (newValue === 'null') {\n        oldNode.value = '';\n        oldNode.removeAttribute('value');\n    }\n    if (!newNode.hasAttributeNS(null, 'value')) {\n        oldNode.removeAttribute('value');\n    } else if (oldNode.type === 'range') {\n        // this is so elements like slider move their UI thingy\n        oldNode.value = newValue;\n    }\n}\nfunction updateTextarea(newNode, oldNode) {\n    var newValue = newNode.value;\n    if (newValue !== oldNode.value) {\n        oldNode.value = newValue;\n    }\n    if (oldNode.firstChild && oldNode.firstChild.nodeValue !== newValue) {\n        // Needed for IE. Apparently IE sets the placeholder as the\n        // node value and vise versa. This ignores an empty update.\n        if (newValue === '' && oldNode.firstChild.nodeValue === oldNode.placeholder) {\n            return;\n        }\n        oldNode.firstChild.nodeValue = newValue;\n    }\n}\nfunction updateAttribute(newNode, oldNode, name) {\n    if (newNode[name] !== oldNode[name]) {\n        oldNode[name] = newNode[name];\n        if (newNode[name]) {\n            oldNode.setAttribute(name, '');\n        } else {\n            oldNode.removeAttribute(name);\n        }\n    }\n}","module.exports = [\n    // attribute events (can be set with attributes)\n    'onclick',\n    'ondblclick',\n    'onmousedown',\n    'onmouseup',\n    'onmouseover',\n    'onmousemove',\n    'onmouseout',\n    'onmouseenter',\n    'onmouseleave',\n    'ontouchcancel',\n    'ontouchend',\n    'ontouchmove',\n    'ontouchstart',\n    'ondragstart',\n    'ondrag',\n    'ondragenter',\n    'ondragleave',\n    'ondragover',\n    'ondrop',\n    'ondragend',\n    'onkeydown',\n    'onkeypress',\n    'onkeyup',\n    'onunload',\n    'onabort',\n    'onerror',\n    'onresize',\n    'onscroll',\n    'onselect',\n    'onchange',\n    'onsubmit',\n    'onreset',\n    'onfocus',\n    'onblur',\n    'oninput',\n    // other common events\n    'oncontextmenu',\n    'onfocusin',\n    'onfocusout'\n];","var reg = /([^?=&]+)(=([^&]*))?/g;\nmodule.exports = qs;\nfunction qs(url) {\n    var obj = {};\n    url.replace(/^.*\\?/, '').replace(reg, function (a0, a1, a2, a3) {\n        var value = decodeURIComponent(a3);\n        var key = decodeURIComponent(a1);\n        if (obj.hasOwnProperty(key)) {\n            if (Array.isArray(obj[key]))\n                obj[key].push(value);\n            else\n                obj[key] = [\n                    obj[key],\n                    value\n                ];\n        } else {\n            obj[key] = value;\n        }\n    });\n    return obj;\n}","var safeExternalLink = /(noopener|noreferrer) (noopener|noreferrer)/;\nvar protocolLink = /^[\\w-_]+:/;\nmodule.exports = href;\nfunction href(cb, root) {\n    root = root || window.document;\n    window.addEventListener('click', function (e) {\n        if (e.button && e.button !== 0 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.defaultPrevented)\n            return;\n        var anchor = function traverse(node) {\n            if (!node || node === root)\n                return;\n            if (node.localName !== 'a' || node.href === undefined) {\n                return traverse(node.parentNode);\n            }\n            return node;\n        }(e.target);\n        if (!anchor)\n            return;\n        if (window.location.protocol !== anchor.protocol || window.location.hostname !== anchor.hostname || window.location.port !== anchor.port || anchor.hasAttribute('data-nanohref-ignore') || anchor.hasAttribute('download') || anchor.getAttribute('target') === '_blank' && safeExternalLink.test(anchor.getAttribute('rel')) || protocolLink.test(anchor.getAttribute('href')))\n            return;\n        e.preventDefault();\n        cb(anchor);\n    });\n}","'use strict';\nmodule.exports = nanoraf;\n// Only call RAF when needed\n// (fn, fn?) -> fn\nfunction nanoraf(render, raf) {\n    if (!raf)\n        raf = window.requestAnimationFrame;\n    var redrawScheduled = false;\n    var args = null;\n    return function frame() {\n        if (args === null && !redrawScheduled) {\n            redrawScheduled = true;\n            raf(function redraw() {\n                redrawScheduled = false;\n                var length = args.length;\n                var _args = new Array(length);\n                for (var i = 0; i < length; i++)\n                    _args[i] = args[i];\n                render.apply(render, _args);\n                args = null;\n            });\n        }\n        args = arguments;\n    };\n}","var LRU = require('nanolru');\nmodule.exports = ChooComponentCache;\nfunction ChooComponentCache(state, emit, lru) {\n    if (typeof lru === 'number')\n        this.cache = new LRU(lru);\n    else\n        this.cache = lru || new LRU(100);\n    this.state = state;\n    this.emit = emit;\n}\n// Get & create component instances.\nChooComponentCache.prototype.render = function (Component, id) {\n    var el = this.cache.get(id);\n    if (!el) {\n        var args = [];\n        for (var i = 2, len = arguments.length; i < len; i++) {\n            args.push(arguments[i]);\n        }\n        args.unshift(Component, id, this.state, this.emit);\n        el = newCall.apply(newCall, args);\n        this.cache.set(id, el);\n    }\n    return el;\n};\n// Because you can't call `new` and `.apply()` at the same time. This is a mad\n// hack, but hey it works so we gonna go for it. Whoop.\nfunction newCall(Cls) {\n    return new (Cls.bind.apply(Cls, arguments))()    // eslint-disable-line\n;\n}","module.exports = LRU;\nfunction LRU(opts) {\n    if (!(this instanceof LRU))\n        return new LRU(opts);\n    if (typeof opts === 'number')\n        opts = { max: opts };\n    if (!opts)\n        opts = {};\n    this.cache = {};\n    this.head = this.tail = null;\n    this.length = 0;\n    this.max = opts.max || 1000;\n    this.maxAge = opts.maxAge || 0;\n}\nObject.defineProperty(LRU.prototype, 'keys', {\n    get: function () {\n        return Object.keys(this.cache);\n    }\n});\nLRU.prototype.clear = function () {\n    this.cache = {};\n    this.head = this.tail = null;\n    this.length = 0;\n};\nLRU.prototype.remove = function (key) {\n    if (typeof key !== 'string')\n        key = '' + key;\n    if (!this.cache.hasOwnProperty(key))\n        return;\n    var element = this.cache[key];\n    delete this.cache[key];\n    this._unlink(key, element.prev, element.next);\n    return element.value;\n};\nLRU.prototype._unlink = function (key, prev, next) {\n    this.length--;\n    if (this.length === 0) {\n        this.head = this.tail = null;\n    } else {\n        if (this.head === key) {\n            this.head = prev;\n            this.cache[this.head].next = null;\n        } else if (this.tail === key) {\n            this.tail = next;\n            this.cache[this.tail].prev = null;\n        } else {\n            this.cache[prev].next = next;\n            this.cache[next].prev = prev;\n        }\n    }\n};\nLRU.prototype.peek = function (key) {\n    if (!this.cache.hasOwnProperty(key))\n        return;\n    var element = this.cache[key];\n    if (!this._checkAge(key, element))\n        return;\n    return element.value;\n};\nLRU.prototype.set = function (key, value) {\n    if (typeof key !== 'string')\n        key = '' + key;\n    var element;\n    if (this.cache.hasOwnProperty(key)) {\n        element = this.cache[key];\n        element.value = value;\n        if (this.maxAge)\n            element.modified = Date.now();\n        // If it's already the head, there's nothing more to do:\n        if (key === this.head)\n            return value;\n        this._unlink(key, element.prev, element.next);\n    } else {\n        element = {\n            value: value,\n            modified: 0,\n            next: null,\n            prev: null\n        };\n        if (this.maxAge)\n            element.modified = Date.now();\n        this.cache[key] = element;\n        // Eviction is only possible if the key didn't already exist:\n        if (this.length === this.max)\n            this.evict();\n    }\n    this.length++;\n    element.next = null;\n    element.prev = this.head;\n    if (this.head)\n        this.cache[this.head].next = key;\n    this.head = key;\n    if (!this.tail)\n        this.tail = key;\n    return value;\n};\nLRU.prototype._checkAge = function (key, element) {\n    if (this.maxAge && Date.now() - element.modified > this.maxAge) {\n        this.remove(key);\n        return false;\n    }\n    return true;\n};\nLRU.prototype.get = function (key) {\n    if (typeof key !== 'string')\n        key = '' + key;\n    if (!this.cache.hasOwnProperty(key))\n        return;\n    var element = this.cache[key];\n    if (!this._checkAge(key, element))\n        return;\n    if (this.head !== key) {\n        if (key === this.tail) {\n            this.tail = element.next;\n            this.cache[this.tail].prev = null;\n        } else {\n            // Set prev.next -> element.next:\n            this.cache[element.prev].next = element.next;\n        }\n        // Set element.next.prev -> element.prev:\n        this.cache[element.next].prev = element.prev;\n        // Element is the new head\n        this.cache[this.head].next = key;\n        element.prev = this.head;\n        element.next = null;\n        this.head = key;\n    }\n    return element.value;\n};\nLRU.prototype.evict = function () {\n    if (!this.tail)\n        return;\n    this.remove(this.tail);\n};","'use strict';\nfunction nanohtmlRawBrowser(tag) {\n    var el = document.createElement('div');\n    el.innerHTML = tag;\n    return toArray(el.childNodes);\n}\nfunction toArray(arr) {\n    return Array.isArray(arr) ? arr : [].slice.call(arr);\n}\nmodule.exports = nanohtmlRawBrowser;","const html = require('choo/html');\nconst raw = require('choo/html/raw');\nconst { secondsToL10nId } = require('../utils');\nconst selectbox = require('./selectbox');\n\nmodule.exports = function(state, emit) {\n  const el = html`\n    <div class=\"px-1\">\n      ${raw(\n        state.translate('archiveExpiryInfo', {\n          downloadCount:\n            '<span class=\"lg:inline-block md:block sm:inline-block block\"></span><select id=\"dlCount\"></select>',\n          timespan: '<select id=\"timespan\"></select>'\n        })\n      )}\n    </div>\n  `;\n  if (el.__encoded) {\n    // we're rendering on the server\n    return el;\n  }\n\n  const counts = state.DEFAULTS.DOWNLOAD_COUNTS.filter(\n    i => state.capabilities.account || i <= state.user.maxDownloads\n  );\n\n  const dlCountSelect = el.querySelector('#dlCount');\n  el.replaceChild(\n    selectbox(\n      state.archive.dlimit,\n      counts,\n      num => state.translate('downloadCount', { num }),\n      value => {\n        const max = state.user.maxDownloads;\n        state.archive.dlimit = Math.min(value, max);\n        if (value > max) {\n          emit('signup-cta', 'count');\n        } else {\n          emit('render');\n        }\n      },\n      'expire-after-dl-count-select'\n    ),\n    dlCountSelect\n  );\n\n  const expires = state.DEFAULTS.EXPIRE_TIMES_SECONDS.filter(\n    i => state.capabilities.account || i <= state.user.maxExpireSeconds\n  );\n\n  const timeSelect = el.querySelector('#timespan');\n  el.replaceChild(\n    selectbox(\n      state.archive.timeLimit,\n      expires,\n      num => {\n        const l10n = secondsToL10nId(num);\n        return state.translate(l10n.id, l10n);\n      },\n      value => {\n        const max = state.user.maxExpireSeconds;\n        state.archive.timeLimit = Math.min(value, max);\n        if (value > max) {\n          emit('signup-cta', 'time');\n        } else {\n          emit('render');\n        }\n      },\n      'expire-after-time-select'\n    ),\n    timeSelect\n  );\n\n  return el;\n};\n","const html = require('choo/html');\n\nmodule.exports = function(selected, options, translate, changed, htmlId) {\n  let x = selected;\n\n  return html`\n    <select\n      id=\"${htmlId}\"\n      class=\"appearance-none cursor-pointer border rounded bg-grey-10 hover:border-blue-50 focus:border-blue-50 pl-1 pr-8 py-1 my-1 h-8 dark:bg-grey-80\"\n      onchange=\"${choose}\"\n    >\n      ${options.map(\n        i =>\n          html`\n            <option value=\"${i}\" ${i === selected ? 'selected' : ''}\n              >${translate(i)}</option\n            >\n          `\n      )}\n    </select>\n  `;\n\n  function choose(event) {\n    const target = event.target;\n    const value = +target.value;\n\n    if (x !== value) {\n      x = value;\n      changed(value);\n    }\n  }\n};\n","var document = require('global/document');\nvar nanotiming = require('nanotiming');\nvar morph = require('nanomorph');\nvar onload = require('on-load');\nvar OL_KEY_ID = onload.KEY_ID;\nvar OL_ATTR_ID = onload.KEY_ATTR;\nmodule.exports = Nanocomponent;\nfunction makeID() {\n    return 'ncid-' + Math.floor((1 + Math.random()) * 65536).toString(16).substring(1);\n}\nfunction Nanocomponent(name) {\n    this._hasWindow = typeof window !== 'undefined';\n    this._id = null;\n    // represents the id of the root node\n    this._ncID = null;\n    // internal nanocomponent id\n    this._olID = null;\n    this._proxy = null;\n    this._loaded = false;\n    // Used to debounce on-load when child-reordering\n    this._rootNodeName = null;\n    this._name = name || 'nanocomponent';\n    this._rerender = false;\n    this._handleLoad = this._handleLoad.bind(this);\n    this._handleUnload = this._handleUnload.bind(this);\n    this._arguments = [];\n    var self = this;\n    Object.defineProperty(this, 'element', {\n        get: function () {\n            var el = document.getElementById(self._id);\n            if (el)\n                return el.dataset.nanocomponent === self._ncID ? el : undefined;\n        }\n    });\n}\nNanocomponent.prototype.render = function () {\n    var renderTiming = nanotiming(this._name + '.render');\n    var self = this;\n    var args = new Array(arguments.length);\n    var el;\n    for (var i = 0; i < arguments.length; i++)\n        args[i] = arguments[i];\n    if (!this._hasWindow) {\n        var createTiming = nanotiming(this._name + '.create');\n        el = this.createElement.apply(this, args);\n        createTiming();\n        renderTiming();\n        return el;\n    } else if (this.element) {\n        el = this.element;\n        // retain reference, as the ID might change on render\n        var updateTiming = nanotiming(this._name + '.update');\n        var shouldUpdate = this._rerender || this.update.apply(this, args);\n        updateTiming();\n        if (this._rerender)\n            this._rerender = false;\n        if (shouldUpdate) {\n            var desiredHtml = this._handleRender(args);\n            var morphTiming = nanotiming(this._name + '.morph');\n            morph(el, desiredHtml);\n            morphTiming();\n            if (this.afterupdate)\n                this.afterupdate(el);\n        }\n        if (!this._proxy) {\n            this._proxy = this._createProxy();\n        }\n        renderTiming();\n        return this._proxy;\n    } else {\n        this._reset();\n        el = this._handleRender(args);\n        if (this.beforerender)\n            this.beforerender(el);\n        if (this.load || this.unload || this.afterreorder) {\n            onload(el, self._handleLoad, self._handleUnload, self._ncID);\n            this._olID = el.dataset[OL_KEY_ID];\n        }\n        renderTiming();\n        return el;\n    }\n};\nNanocomponent.prototype.rerender = function () {\n    this._rerender = true;\n    this.render.apply(this, this._arguments);\n};\nNanocomponent.prototype._handleRender = function (args) {\n    var createElementTiming = nanotiming(this._name + '.createElement');\n    var el = this.createElement.apply(this, args);\n    createElementTiming();\n    if (!this._rootNodeName)\n        this._rootNodeName = el.nodeName;\n    this._arguments = args;\n    return this._brandNode(this._ensureID(el));\n};\nNanocomponent.prototype._createProxy = function () {\n    var proxy = document.createElement(this._rootNodeName);\n    var self = this;\n    this._brandNode(proxy);\n    proxy.id = this._id;\n    proxy.setAttribute('data-proxy', '');\n    proxy.isSameNode = function (el) {\n        return el && el.dataset.nanocomponent === self._ncID;\n    };\n    return proxy;\n};\nNanocomponent.prototype._reset = function () {\n    this._ncID = makeID();\n    this._olID = null;\n    this._id = null;\n    this._proxy = null;\n    this._rootNodeName = null;\n};\nNanocomponent.prototype._brandNode = function (node) {\n    node.setAttribute('data-nanocomponent', this._ncID);\n    if (this._olID)\n        node.setAttribute(OL_ATTR_ID, this._olID);\n    return node;\n};\nNanocomponent.prototype._ensureID = function (node) {\n    if (node.id)\n        this._id = node.id;\n    else\n        node.id = this._id = this._ncID;\n    // Update proxy node ID if it changed\n    if (this._proxy && this._proxy.id !== this._id)\n        this._proxy.id = this._id;\n    return node;\n};\nNanocomponent.prototype._handleLoad = function (el) {\n    if (this._loaded) {\n        if (this.afterreorder)\n            this.afterreorder(el);\n        return;    // Debounce child-reorders\n    }\n    this._loaded = true;\n    if (this.load)\n        this.load(el);\n};\nNanocomponent.prototype._handleUnload = function (el) {\n    if (this.element)\n        return;\n    // Debounce child-reorders\n    this._loaded = false;\n    if (this.unload)\n        this.unload(el);\n};\nNanocomponent.prototype.createElement = function () {\n    throw new Error('nanocomponent: createElement should be implemented!');\n};\nNanocomponent.prototype.update = function () {\n    throw new Error('nanocomponent: update should be implemented!');\n};","/* global MutationObserver */\nvar document = require('global/document');\nvar window = require('global/window');\nvar watch = Object.create(null);\nvar KEY_ID = 'onloadid' + (new Date() % 9000000).toString(36);\nvar KEY_ATTR = 'data-' + KEY_ID;\nvar INDEX = 0;\nif (window && window.MutationObserver) {\n    var observer = new MutationObserver(function (mutations) {\n        if (Object.keys(watch).length < 1)\n            return;\n        for (var i = 0; i < mutations.length; i++) {\n            if (mutations[i].attributeName === KEY_ATTR) {\n                eachAttr(mutations[i], turnon, turnoff);\n                continue;\n            }\n            eachMutation(mutations[i].removedNodes, turnoff);\n            eachMutation(mutations[i].addedNodes, turnon);\n        }\n    });\n    if (document.body) {\n        beginObserve(observer);\n    } else {\n        document.addEventListener('DOMContentLoaded', function (event) {\n            beginObserve(observer);\n        });\n    }\n}\nfunction beginObserve(observer) {\n    observer.observe(document.documentElement, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        attributeOldValue: true,\n        attributeFilter: [KEY_ATTR]\n    });\n}\nmodule.exports = function onload(el, on, off, caller) {\n    on = on || function () {\n    };\n    off = off || function () {\n    };\n    el.setAttribute(KEY_ATTR, 'o' + INDEX);\n    watch['o' + INDEX] = [\n        on,\n        off,\n        0,\n        caller || onload.caller\n    ];\n    INDEX += 1;\n    return el;\n};\nmodule.exports.KEY_ATTR = KEY_ATTR;\nmodule.exports.KEY_ID = KEY_ID;\nfunction turnon(index, el) {\n    if (watch[index][0] && watch[index][2] === 0) {\n        watch[index][0](el);\n        watch[index][2] = 1;\n    }\n}\nfunction turnoff(index, el) {\n    if (watch[index][1] && watch[index][2] === 1) {\n        watch[index][1](el);\n        watch[index][2] = 0;\n    }\n}\nfunction eachAttr(mutation, on, off) {\n    var newValue = mutation.target.getAttribute(KEY_ATTR);\n    if (sameOrigin(mutation.oldValue, newValue)) {\n        watch[newValue] = watch[mutation.oldValue];\n        return;\n    }\n    if (watch[mutation.oldValue]) {\n        off(mutation.oldValue, mutation.target);\n    }\n    if (watch[newValue]) {\n        on(newValue, mutation.target);\n    }\n}\nfunction sameOrigin(oldValue, newValue) {\n    if (!oldValue || !newValue)\n        return false;\n    return watch[oldValue][3] === watch[newValue][3];\n}\nfunction eachMutation(nodes, fn) {\n    var keys = Object.keys(watch);\n    for (var i = 0; i < nodes.length; i++) {\n        if (nodes[i] && nodes[i].getAttribute && nodes[i].getAttribute(KEY_ATTR)) {\n            var onloadid = nodes[i].getAttribute(KEY_ATTR);\n            keys.forEach(function (k) {\n                if (onloadid === k) {\n                    fn(k, nodes[i]);\n                }\n            });\n        }\n        if (nodes[i].childNodes.length > 0) {\n            eachMutation(nodes[i].childNodes, fn);\n        }\n    }\n}","var win;\nif (typeof window !== 'undefined') {\n    win = window;\n} else if (typeof global !== 'undefined') {\n    win = global;\n} else if (typeof self !== 'undefined') {\n    win = self;\n} else {\n    win = {};\n}\nmodule.exports = win;","const html = require('choo/html');\nconst assets = require('../../common/assets');\n\nmodule.exports = function intro(state) {\n  return html`\n    <send-intro\n      class=\"flex flex-col items-center justify-center bg-white px-6 md:py-0 py-6 mb-0 h-full w-full dark:bg-grey-90\"\n    >\n      <div class=\"mt-12 flex flex-col h-full\">\n        <h1 class=\"text-3xl font-bold md:pb-2\">\n          ${state.translate('introTitle')}\n        </h1>\n        <p class=\"max-w-sm leading-loose mt-6 md:mt-2 md:pr-14\">\n          ${state.translate('introDescription')}\n        </p>\n        <img class=\"intro\" src=\"${assets.get('intro.svg')}\" />\n      </div>\n    </send-intro>\n  `;\n};\n","var map = {\n\t\"./ar/send.ftl\": [\n\t\t195,\n\t\t7\n\t],\n\t\"./ast/send.ftl\": [\n\t\t196,\n\t\t8\n\t],\n\t\"./az/send.ftl\": [\n\t\t197,\n\t\t9\n\t],\n\t\"./be/send.ftl\": [\n\t\t198,\n\t\t10\n\t],\n\t\"./bn/send.ftl\": [\n\t\t199,\n\t\t11\n\t],\n\t\"./br/send.ftl\": [\n\t\t200,\n\t\t12\n\t],\n\t\"./bs/send.ftl\": [\n\t\t201,\n\t\t13\n\t],\n\t\"./ca/send.ftl\": [\n\t\t202,\n\t\t14\n\t],\n\t\"./cak/send.ftl\": [\n\t\t203,\n\t\t15\n\t],\n\t\"./cs/send.ftl\": [\n\t\t204,\n\t\t16\n\t],\n\t\"./cy/send.ftl\": [\n\t\t205,\n\t\t17\n\t],\n\t\"./da/send.ftl\": [\n\t\t206,\n\t\t18\n\t],\n\t\"./de/send.ftl\": [\n\t\t207,\n\t\t19\n\t],\n\t\"./dsb/send.ftl\": [\n\t\t208,\n\t\t20\n\t],\n\t\"./el/send.ftl\": [\n\t\t209,\n\t\t21\n\t],\n\t\"./en-CA/send.ftl\": [\n\t\t210,\n\t\t22\n\t],\n\t\"./en-GB/send.ftl\": [\n\t\t211,\n\t\t23\n\t],\n\t\"./en-US/send.ftl\": [\n\t\t194,\n\t\t0\n\t],\n\t\"./es-AR/send.ftl\": [\n\t\t212,\n\t\t24\n\t],\n\t\"./es-CL/send.ftl\": [\n\t\t213,\n\t\t25\n\t],\n\t\"./es-ES/send.ftl\": [\n\t\t214,\n\t\t26\n\t],\n\t\"./es-MX/send.ftl\": [\n\t\t215,\n\t\t27\n\t],\n\t\"./et/send.ftl\": [\n\t\t216,\n\t\t28\n\t],\n\t\"./eu/send.ftl\": [\n\t\t217,\n\t\t29\n\t],\n\t\"./fa/send.ftl\": [\n\t\t218,\n\t\t30\n\t],\n\t\"./fi/send.ftl\": [\n\t\t219,\n\t\t31\n\t],\n\t\"./fr/send.ftl\": [\n\t\t220,\n\t\t32\n\t],\n\t\"./fy-NL/send.ftl\": [\n\t\t221,\n\t\t33\n\t],\n\t\"./gn/send.ftl\": [\n\t\t222,\n\t\t34\n\t],\n\t\"./gor/send.ftl\": [\n\t\t223,\n\t\t35\n\t],\n\t\"./he/send.ftl\": [\n\t\t224,\n\t\t36\n\t],\n\t\"./hr/send.ftl\": [\n\t\t225,\n\t\t37\n\t],\n\t\"./hsb/send.ftl\": [\n\t\t226,\n\t\t38\n\t],\n\t\"./hu/send.ftl\": [\n\t\t227,\n\t\t39\n\t],\n\t\"./hus/send.ftl\": [\n\t\t228,\n\t\t40\n\t],\n\t\"./ia/send.ftl\": [\n\t\t229,\n\t\t41\n\t],\n\t\"./id/send.ftl\": [\n\t\t230,\n\t\t42\n\t],\n\t\"./it/send.ftl\": [\n\t\t231,\n\t\t43\n\t],\n\t\"./ixl/send.ftl\": [\n\t\t232,\n\t\t44\n\t],\n\t\"./ja/send.ftl\": [\n\t\t233,\n\t\t45\n\t],\n\t\"./ka/send.ftl\": [\n\t\t234,\n\t\t46\n\t],\n\t\"./kab/send.ftl\": [\n\t\t235,\n\t\t47\n\t],\n\t\"./ko/send.ftl\": [\n\t\t236,\n\t\t48\n\t],\n\t\"./lt/send.ftl\": [\n\t\t237,\n\t\t49\n\t],\n\t\"./meh/send.ftl\": [\n\t\t238,\n\t\t50\n\t],\n\t\"./mix/send.ftl\": [\n\t\t239,\n\t\t51\n\t],\n\t\"./ml/send.ftl\": [\n\t\t240,\n\t\t52\n\t],\n\t\"./ms/send.ftl\": [\n\t\t241,\n\t\t53\n\t],\n\t\"./nb-NO/send.ftl\": [\n\t\t242,\n\t\t54\n\t],\n\t\"./nl/send.ftl\": [\n\t\t243,\n\t\t55\n\t],\n\t\"./nn-NO/send.ftl\": [\n\t\t244,\n\t\t56\n\t],\n\t\"./oc/send.ftl\": [\n\t\t245,\n\t\t57\n\t],\n\t\"./pa-IN/send.ftl\": [\n\t\t246,\n\t\t58\n\t],\n\t\"./pl/send.ftl\": [\n\t\t247,\n\t\t59\n\t],\n\t\"./ppl/send.ftl\": [\n\t\t248,\n\t\t60\n\t],\n\t\"./pt-BR/send.ftl\": [\n\t\t249,\n\t\t61\n\t],\n\t\"./pt-PT/send.ftl\": [\n\t\t250,\n\t\t62\n\t],\n\t\"./quc/send.ftl\": [\n\t\t251,\n\t\t63\n\t],\n\t\"./ro/send.ftl\": [\n\t\t252,\n\t\t64\n\t],\n\t\"./ru/send.ftl\": [\n\t\t253,\n\t\t65\n\t],\n\t\"./sk/send.ftl\": [\n\t\t254,\n\t\t66\n\t],\n\t\"./sl/send.ftl\": [\n\t\t255,\n\t\t67\n\t],\n\t\"./sn/send.ftl\": [\n\t\t256,\n\t\t68\n\t],\n\t\"./sq/send.ftl\": [\n\t\t257,\n\t\t69\n\t],\n\t\"./sr/send.ftl\": [\n\t\t258,\n\t\t70\n\t],\n\t\"./su/send.ftl\": [\n\t\t259,\n\t\t71\n\t],\n\t\"./sv-SE/send.ftl\": [\n\t\t260,\n\t\t72\n\t],\n\t\"./te/send.ftl\": [\n\t\t261,\n\t\t73\n\t],\n\t\"./th/send.ftl\": [\n\t\t262,\n\t\t74\n\t],\n\t\"./tl/send.ftl\": [\n\t\t263,\n\t\t75\n\t],\n\t\"./tr/send.ftl\": [\n\t\t264,\n\t\t76\n\t],\n\t\"./trs/send.ftl\": [\n\t\t265,\n\t\t77\n\t],\n\t\"./uk/send.ftl\": [\n\t\t266,\n\t\t78\n\t],\n\t\"./vi/send.ftl\": [\n\t\t267,\n\t\t79\n\t],\n\t\"./yua/send.ftl\": [\n\t\t268,\n\t\t80\n\t],\n\t\"./zgh/send.ftl\": [\n\t\t269,\n\t\t81\n\t],\n\t\"./zh-CN/send.ftl\": [\n\t\t270,\n\t\t82\n\t],\n\t\"./zh-TW/send.ftl\": [\n\t\t271,\n\t\t83\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 312;\nmodule.exports = webpackAsyncContext;","// shim for using process in browser\nvar process = module.exports = {};\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\nvar cachedSetTimeout;\nvar cachedClearTimeout;\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout() {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n}());\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n    var len = queue.length;\n    while (len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = '';\n// empty string to avoid regexp issues\nprocess.versions = {};\nfunction noop() {\n}\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\nprocess.listeners = function (name) {\n    return [];\n};\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\nprocess.cwd = function () {\n    return '/';\n};\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function () {\n    return 0;\n};","module.exports = function (originalModule) {\n    if (!originalModule.webpackPolyfill) {\n        var module = Object.create(originalModule);\n        // module.parent = undefined by default\n        if (!module.children)\n            module.children = [];\n        Object.defineProperty(module, 'loaded', {\n            enumerable: true,\n            get: function () {\n                return module.l;\n            }\n        });\n        Object.defineProperty(module, 'id', {\n            enumerable: true,\n            get: function () {\n                return module.i;\n            }\n        });\n        Object.defineProperty(module, 'exports', { enumerable: true });\n        module.webpackPolyfill = 1;\n    }\n    return module;\n};","function a(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nfunction b(n, ord) {\n  if (ord) return 'other';\n  return ((n == 0\n          || n == 1)) ? 'one' : 'other';\n}\nfunction c(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nfunction d(n, ord) {\n  if (ord) return 'other';\n  return 'other';\n}\nfunction e(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n}\n\nexport const _in = d;\nexport const af = a;\nexport const ak = b;\nexport function am(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport const an = a;\nexport function ar(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n100 >= 3 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 99)) ? 'many'\n      : 'other';\n}\nexport function ars(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n100 >= 3 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 99)) ? 'many'\n      : 'other';\n}\nexport function as(n, ord) {\n  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9\n          || n == 10)) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport const asa = a;\nexport const ast = c;\nexport function az(n, ord) {\n  var s = String(n).split('.'), i = s[0], i10 = i.slice(-1), i100 = i.slice(-2), i1000 = i.slice(-3);\n  if (ord) return ((i10 == 1 || i10 == 2 || i10 == 5 || i10 == 7 || i10 == 8) || (i100 == 20 || i100 == 50\n          || i100 == 70\n          || i100 == 80)) ? 'one'\n      : ((i10 == 3 || i10 == 4) || (i1000 == 100 || i1000 == 200 || i1000 == 300 || i1000 == 400 || i1000 == 500\n          || i1000 == 600 || i1000 == 700 || i1000 == 800\n          || i1000 == 900)) ? 'few'\n      : (i == 0 || i10 == 6 || (i100 == 40 || i100 == 60\n          || i100 == 90)) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport function be(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return ((n10 == 2\n          || n10 == 3) && n100 != 12 && n100 != 13) ? 'few' : 'other';\n  return (n10 == 1 && n100 != 11) ? 'one'\n      : ((n10 >= 2 && n10 <= 4) && (n100 < 12\n          || n100 > 14)) ? 'few'\n      : (t0 && n10 == 0 || (n10 >= 5 && n10 <= 9)\n          || (n100 >= 11 && n100 <= 14)) ? 'many'\n      : 'other';\n}\nexport const bem = a;\nexport const bez = a;\nexport const bg = a;\nexport const bho = b;\nexport const bm = d;\nexport function bn(n, ord) {\n  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9\n          || n == 10)) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport const bo = d;\nexport function br(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2),\n      n1000000 = t0 && s[0].slice(-6);\n  if (ord) return 'other';\n  return (n10 == 1 && n100 != 11 && n100 != 71 && n100 != 91) ? 'one'\n      : (n10 == 2 && n100 != 12 && n100 != 72 && n100 != 92) ? 'two'\n      : (((n10 == 3 || n10 == 4) || n10 == 9) && (n100 < 10 || n100 > 19) && (n100 < 70 || n100 > 79) && (n100 < 90\n          || n100 > 99)) ? 'few'\n      : (n != 0 && t0 && n1000000 == 0) ? 'many'\n      : 'other';\n}\nexport const brx = a;\nexport function bs(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2),\n      f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n}\nexport function ca(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 1\n          || n == 3)) ? 'one'\n      : (n == 2) ? 'two'\n      : (n == 4) ? 'few'\n      : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nexport const ce = a;\nexport function ceb(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3) || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n}\nexport const cgg = a;\nexport const chr = a;\nexport const ckb = a;\nexport function cs(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : ((i >= 2 && i <= 4) && v0) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n}\nexport function cy(n, ord) {\n  if (ord) return ((n == 0 || n == 7 || n == 8\n          || n == 9)) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n == 3\n          || n == 4)) ? 'few'\n      : ((n == 5\n          || n == 6)) ? 'many'\n      : 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : (n == 3) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n}\nexport function da(n, ord) {\n  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return (n == 1 || !t0 && (i == 0\n          || i == 1)) ? 'one' : 'other';\n}\nexport const de = c;\nexport function dsb(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i100 = i.slice(-2), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1\n          || f100 == 1) ? 'one'\n      : (v0 && i100 == 2\n          || f100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3\n          || f100 == 4)) ? 'few'\n      : 'other';\n}\nexport const dv = a;\nexport const dz = d;\nexport const ee = a;\nexport const el = a;\nexport function en(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return (n10 == 1 && n100 != 11) ? 'one'\n      : (n10 == 2 && n100 != 12) ? 'two'\n      : (n10 == 3 && n100 != 13) ? 'few'\n      : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nexport const eo = a;\nexport const es = a;\nexport const et = c;\nexport const eu = a;\nexport function fa(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport function ff(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n}\nexport const fi = c;\nexport function fil(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3) || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n}\nexport const fo = a;\nexport function fr(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n}\nexport const fur = a;\nexport const fy = c;\nexport function ga(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((t0 && n >= 3 && n <= 6)) ? 'few'\n      : ((t0 && n >= 7 && n <= 10)) ? 'many'\n      : 'other';\n}\nexport function gd(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return ((n == 1\n          || n == 11)) ? 'one'\n      : ((n == 2\n          || n == 12)) ? 'two'\n      : ((n == 3\n          || n == 13)) ? 'few'\n      : 'other';\n  return ((n == 1\n          || n == 11)) ? 'one'\n      : ((n == 2\n          || n == 12)) ? 'two'\n      : (((t0 && n >= 3 && n <= 10)\n          || (t0 && n >= 13 && n <= 19))) ? 'few'\n      : 'other';\n}\nexport const gl = c;\nexport const gsw = a;\nexport function gu(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport const guw = b;\nexport function gv(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1) ? 'one'\n      : (v0 && i10 == 2) ? 'two'\n      : (v0 && (i100 == 0 || i100 == 20 || i100 == 40 || i100 == 60\n          || i100 == 80)) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n}\nexport const ha = a;\nexport const haw = a;\nexport function he(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (i == 2 && v0) ? 'two'\n      : (v0 && (n < 0\n          || n > 10) && t0 && n10 == 0) ? 'many'\n      : 'other';\n}\nexport function hi(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport function hr(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2),\n      f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n}\nexport function hsb(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i100 = i.slice(-2), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1\n          || f100 == 1) ? 'one'\n      : (v0 && i100 == 2\n          || f100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3\n          || f100 == 4)) ? 'few'\n      : 'other';\n}\nexport function hu(n, ord) {\n  if (ord) return ((n == 1\n          || n == 5)) ? 'one' : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport function hy(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n}\nexport const ia = c;\nexport const id = d;\nexport const ig = d;\nexport const ii = d;\nexport const io = c;\nexport function is(n, ord) {\n  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n, i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (t0 && i10 == 1 && i100 != 11\n          || !t0) ? 'one' : 'other';\n}\nexport function it(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 11 || n == 8 || n == 80\n          || n == 800)) ? 'many' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nexport const iu = e;\nexport function iw(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (i == 2 && v0) ? 'two'\n      : (v0 && (n < 0\n          || n > 10) && t0 && n10 == 0) ? 'many'\n      : 'other';\n}\nexport const ja = d;\nexport const jbo = d;\nexport const jgo = a;\nexport const ji = c;\nexport const jmc = a;\nexport const jv = d;\nexport const jw = d;\nexport function ka(n, ord) {\n  var s = String(n).split('.'), i = s[0], i100 = i.slice(-2);\n  if (ord) return (i == 1) ? 'one'\n      : (i == 0 || ((i100 >= 2 && i100 <= 20) || i100 == 40 || i100 == 60\n          || i100 == 80)) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport function kab(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n}\nexport const kaj = a;\nexport const kcg = a;\nexport const kde = d;\nexport const kea = d;\nexport function kk(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1);\n  if (ord) return (n10 == 6 || n10 == 9\n          || t0 && n10 == 0 && n != 0) ? 'many' : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport const kkj = a;\nexport const kl = a;\nexport const km = d;\nexport function kn(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\nexport const ko = d;\nexport const ks = a;\nexport const ksb = a;\nexport function ksh(n, ord) {\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : 'other';\n}\nexport const ku = a;\nexport function kw(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2), n1000 = t0 && s[0].slice(-3),\n      n100000 = t0 && s[0].slice(-5), n1000000 = t0 && s[0].slice(-6);\n  if (ord) return ((t0 && n >= 1 && n <= 4) || ((n100 >= 1 && n100 <= 4) || (n100 >= 21 && n100 <= 24)\n          || (n100 >= 41 && n100 <= 44) || (n100 >= 61 && n100 <= 64)\n          || (n100 >= 81 && n100 <= 84))) ? 'one'\n      : (n == 5\n          || n100 == 5) ? 'many'\n      : 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : ((n100 == 2 || n100 == 22 || n100 == 42 || n100 == 62 || n100 == 82)\n          || t0 && n1000 == 0 && ((n100000 >= 1000 && n100000 <= 20000) || n100000 == 40000 || n100000 == 60000\n          || n100000 == 80000)\n          || n != 0 && n1000000 == 100000) ? 'two'\n      : ((n100 == 3 || n100 == 23 || n100 == 43 || n100 == 63\n          || n100 == 83)) ? 'few'\n      : (n != 1 && (n100 == 1 || n100 == 21 || n100 == 41 || n100 == 61\n          || n100 == 81)) ? 'many'\n      : 'other';\n}\nexport const ky = a;\nexport function lag(n, ord) {\n  var s = String(n).split('.'), i = s[0];\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : ((i == 0\n          || i == 1) && n != 0) ? 'one'\n      : 'other';\n}\nexport const lb = a;\nexport const lg = a;\nexport const lkt = d;\nexport const ln = b;\nexport function lo(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n}\nexport function lt(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n10 == 1 && (n100 < 11\n          || n100 > 19)) ? 'one'\n      : ((n10 >= 2 && n10 <= 9) && (n100 < 11\n          || n100 > 19)) ? 'few'\n      : (f != 0) ? 'many'\n      : 'other';\n}\nexport function lv(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', v = f.length, t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)\n          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'\n      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11\n          || v != 2 && f10 == 1) ? 'one'\n      : 'other';\n}\nexport const mas = a;\nexport const mg = b;\nexport const mgo = a;\nexport function mk(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2),\n      f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return (i10 == 1 && i100 != 11) ? 'one'\n      : (i10 == 2 && i100 != 12) ? 'two'\n      : ((i10 == 7\n          || i10 == 8) && i100 != 17 && i100 != 18) ? 'many'\n      : 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one' : 'other';\n}\nexport const ml = a;\nexport const mn = a;\nexport function mo(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one'\n      : (!v0 || n == 0\n          || (n100 >= 2 && n100 <= 19)) ? 'few'\n      : 'other';\n}\nexport function mr(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport function ms(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n}\nexport function mt(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 0\n          || (n100 >= 2 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 19)) ? 'many'\n      : 'other';\n}\nexport const my = d;\nexport const nah = a;\nexport const naq = e;\nexport const nb = a;\nexport const nd = a;\nexport function ne(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return ((t0 && n >= 1 && n <= 4)) ? 'one' : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport const nl = c;\nexport const nn = a;\nexport const nnh = a;\nexport const no = a;\nexport const nqo = d;\nexport const nr = a;\nexport const nso = b;\nexport const ny = a;\nexport const nyn = a;\nexport const om = a;\nexport function or(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return ((n == 1 || n == 5\n          || (t0 && n >= 7 && n <= 9))) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport const os = a;\nexport const osa = d;\nexport const pa = b;\nexport const pap = a;\nexport function pl(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i != 1 && (i10 == 0 || i10 == 1) || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 12 && i100 <= 14)) ? 'many'\n      : 'other';\n}\nexport function prg(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', v = f.length, t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)\n          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'\n      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11\n          || v != 2 && f10 == 1) ? 'one'\n      : 'other';\n}\nexport const ps = a;\nexport function pt(n, ord) {\n  var s = String(n).split('.'), i = s[0];\n  if (ord) return 'other';\n  return ((i == 0\n          || i == 1)) ? 'one' : 'other';\n}\nexport const pt_PT = c;\nexport const rm = a;\nexport function ro(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one'\n      : (!v0 || n == 0\n          || (n100 >= 2 && n100 <= 19)) ? 'few'\n      : 'other';\n}\nexport const rof = a;\nexport const root = d;\nexport function ru(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'\n      : 'other';\n}\nexport const rwk = a;\nexport const sah = d;\nexport const saq = a;\nexport function sc(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 11 || n == 8 || n == 80\n          || n == 800)) ? 'many' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nexport function scn(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 11 || n == 8 || n == 80\n          || n == 800)) ? 'many' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nexport const sd = a;\nexport const sdh = a;\nexport const se = e;\nexport const seh = a;\nexport const ses = d;\nexport const sg = d;\nexport function sh(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2),\n      f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n}\nexport function shi(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one'\n      : ((t0 && n >= 2 && n <= 10)) ? 'few'\n      : 'other';\n}\nexport function si(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '';\n  if (ord) return 'other';\n  return ((n == 0 || n == 1)\n          || i == 0 && f == 1) ? 'one' : 'other';\n}\nexport function sk(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : ((i >= 2 && i <= 4) && v0) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n}\nexport function sl(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1) ? 'one'\n      : (v0 && i100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4)\n          || !v0) ? 'few'\n      : 'other';\n}\nexport const sma = e;\nexport const smi = e;\nexport const smj = e;\nexport const smn = e;\nexport const sms = e;\nexport const sn = a;\nexport const so = a;\nexport function sq(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one'\n      : (n10 == 4 && n100 != 14) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport function sr(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), i100 = i.slice(-2),\n      f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14) || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n}\nexport const ss = a;\nexport const ssy = a;\nexport const st = a;\nexport const su = d;\nexport function sv(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return ((n10 == 1\n          || n10 == 2) && n100 != 11 && n100 != 12) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\nexport const sw = c;\nexport const syr = a;\nexport const ta = a;\nexport const te = a;\nexport const teo = a;\nexport const th = d;\nexport const ti = b;\nexport const tig = a;\nexport function tk(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1);\n  if (ord) return ((n10 == 6 || n10 == 9)\n          || n == 10) ? 'few' : 'other';\n  return (n == 1) ? 'one' : 'other';\n}\nexport function tl(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1], i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3) || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n}\nexport const tn = a;\nexport const to = d;\nexport const tr = a;\nexport const ts = a;\nexport function tzm(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((n == 0 || n == 1)\n          || (t0 && n >= 11 && n <= 99)) ? 'one' : 'other';\n}\nexport const ug = a;\nexport function uk(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return (n10 == 3 && n100 != 13) ? 'few' : 'other';\n  return (v0 && i10 == 1 && i100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'\n      : 'other';\n}\nexport const ur = c;\nexport const uz = a;\nexport const ve = a;\nexport function vi(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n}\nexport const vo = a;\nexport const vun = a;\nexport const wa = b;\nexport const wae = a;\nexport const wo = d;\nexport const xh = a;\nexport const xog = a;\nexport const yi = c;\nexport const yo = d;\nexport const yue = d;\nexport const zh = d;\nexport function zu(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\n","const z = \"zero\", o = \"one\", t = \"two\", f = \"few\", m = \"many\", x = \"other\";\nconst a = {cardinal:[o,x],ordinal:[x]};\nconst b = {cardinal:[x],ordinal:[x]};\nconst c = {cardinal:[o,f,m,x],ordinal:[x]};\nconst d = {cardinal:[o,x],ordinal:[o,x]};\nconst e = {cardinal:[o,t,x],ordinal:[x]};\n\nexport const _in = b;\nexport const af = a;\nexport const ak = a;\nexport const am = a;\nexport const an = a;\nexport const ar = {cardinal:[z,o,t,f,m,x],ordinal:[x]};\nexport const ars = {cardinal:[z,o,t,f,m,x],ordinal:[x]};\nexport const as = {cardinal:[o,x],ordinal:[o,t,f,m,x]};\nexport const asa = a;\nexport const ast = a;\nexport const az = {cardinal:[o,x],ordinal:[o,f,m,x]};\nexport const be = {cardinal:[o,f,m,x],ordinal:[f,x]};\nexport const bem = a;\nexport const bez = a;\nexport const bg = a;\nexport const bho = a;\nexport const bm = b;\nexport const bn = {cardinal:[o,x],ordinal:[o,t,f,m,x]};\nexport const bo = b;\nexport const br = {cardinal:[o,t,f,m,x],ordinal:[x]};\nexport const brx = a;\nexport const bs = {cardinal:[o,f,x],ordinal:[x]};\nexport const ca = {cardinal:[o,x],ordinal:[o,t,f,x]};\nexport const ce = a;\nexport const ceb = a;\nexport const cgg = a;\nexport const chr = a;\nexport const ckb = a;\nexport const cs = c;\nexport const cy = {cardinal:[z,o,t,f,m,x],ordinal:[z,o,t,f,m,x]};\nexport const da = a;\nexport const de = a;\nexport const dsb = {cardinal:[o,t,f,x],ordinal:[x]};\nexport const dv = a;\nexport const dz = b;\nexport const ee = a;\nexport const el = a;\nexport const en = {cardinal:[o,x],ordinal:[o,t,f,x]};\nexport const eo = a;\nexport const es = a;\nexport const et = a;\nexport const eu = a;\nexport const fa = a;\nexport const ff = a;\nexport const fi = a;\nexport const fil = d;\nexport const fo = a;\nexport const fr = d;\nexport const fur = a;\nexport const fy = a;\nexport const ga = {cardinal:[o,t,f,m,x],ordinal:[o,x]};\nexport const gd = {cardinal:[o,t,f,x],ordinal:[o,t,f,x]};\nexport const gl = a;\nexport const gsw = a;\nexport const gu = {cardinal:[o,x],ordinal:[o,t,f,m,x]};\nexport const guw = a;\nexport const gv = {cardinal:[o,t,f,m,x],ordinal:[x]};\nexport const ha = a;\nexport const haw = a;\nexport const he = {cardinal:[o,t,m,x],ordinal:[x]};\nexport const hi = {cardinal:[o,x],ordinal:[o,t,f,m,x]};\nexport const hr = {cardinal:[o,f,x],ordinal:[x]};\nexport const hsb = {cardinal:[o,t,f,x],ordinal:[x]};\nexport const hu = d;\nexport const hy = d;\nexport const ia = a;\nexport const id = b;\nexport const ig = b;\nexport const ii = b;\nexport const io = a;\nexport const is = a;\nexport const it = {cardinal:[o,x],ordinal:[m,x]};\nexport const iu = e;\nexport const iw = {cardinal:[o,t,m,x],ordinal:[x]};\nexport const ja = b;\nexport const jbo = b;\nexport const jgo = a;\nexport const ji = a;\nexport const jmc = a;\nexport const jv = b;\nexport const jw = b;\nexport const ka = {cardinal:[o,x],ordinal:[o,m,x]};\nexport const kab = a;\nexport const kaj = a;\nexport const kcg = a;\nexport const kde = b;\nexport const kea = b;\nexport const kk = {cardinal:[o,x],ordinal:[m,x]};\nexport const kkj = a;\nexport const kl = a;\nexport const km = b;\nexport const kn = a;\nexport const ko = b;\nexport const ks = a;\nexport const ksb = a;\nexport const ksh = {cardinal:[z,o,x],ordinal:[x]};\nexport const ku = a;\nexport const kw = {cardinal:[z,o,t,f,m,x],ordinal:[o,m,x]};\nexport const ky = a;\nexport const lag = {cardinal:[z,o,x],ordinal:[x]};\nexport const lb = a;\nexport const lg = a;\nexport const lkt = b;\nexport const ln = a;\nexport const lo = {cardinal:[x],ordinal:[o,x]};\nexport const lt = c;\nexport const lv = {cardinal:[z,o,x],ordinal:[x]};\nexport const mas = a;\nexport const mg = a;\nexport const mgo = a;\nexport const mk = {cardinal:[o,x],ordinal:[o,t,m,x]};\nexport const ml = a;\nexport const mn = a;\nexport const mo = {cardinal:[o,f,x],ordinal:[o,x]};\nexport const mr = {cardinal:[o,x],ordinal:[o,t,f,x]};\nexport const ms = {cardinal:[x],ordinal:[o,x]};\nexport const mt = c;\nexport const my = b;\nexport const nah = a;\nexport const naq = e;\nexport const nb = a;\nexport const nd = a;\nexport const ne = d;\nexport const nl = a;\nexport const nn = a;\nexport const nnh = a;\nexport const no = a;\nexport const nqo = b;\nexport const nr = a;\nexport const nso = a;\nexport const ny = a;\nexport const nyn = a;\nexport const om = a;\nexport const or = {cardinal:[o,x],ordinal:[o,t,f,m,x]};\nexport const os = a;\nexport const osa = b;\nexport const pa = a;\nexport const pap = a;\nexport const pl = c;\nexport const prg = {cardinal:[z,o,x],ordinal:[x]};\nexport const ps = a;\nexport const pt = a;\nexport const pt_PT = a;\nexport const rm = a;\nexport const ro = {cardinal:[o,f,x],ordinal:[o,x]};\nexport const rof = a;\nexport const root = b;\nexport const ru = c;\nexport const rwk = a;\nexport const sah = b;\nexport const saq = a;\nexport const sc = {cardinal:[o,x],ordinal:[m,x]};\nexport const scn = {cardinal:[o,x],ordinal:[m,x]};\nexport const sd = a;\nexport const sdh = a;\nexport const se = e;\nexport const seh = a;\nexport const ses = b;\nexport const sg = b;\nexport const sh = {cardinal:[o,f,x],ordinal:[x]};\nexport const shi = {cardinal:[o,f,x],ordinal:[x]};\nexport const si = a;\nexport const sk = c;\nexport const sl = {cardinal:[o,t,f,x],ordinal:[x]};\nexport const sma = e;\nexport const smi = e;\nexport const smj = e;\nexport const smn = e;\nexport const sms = e;\nexport const sn = a;\nexport const so = a;\nexport const sq = {cardinal:[o,x],ordinal:[o,m,x]};\nexport const sr = {cardinal:[o,f,x],ordinal:[x]};\nexport const ss = a;\nexport const ssy = a;\nexport const st = a;\nexport const su = b;\nexport const sv = d;\nexport const sw = a;\nexport const syr = a;\nexport const ta = a;\nexport const te = a;\nexport const teo = a;\nexport const th = b;\nexport const ti = a;\nexport const tig = a;\nexport const tk = {cardinal:[o,x],ordinal:[f,x]};\nexport const tl = d;\nexport const tn = a;\nexport const to = b;\nexport const tr = a;\nexport const ts = a;\nexport const tzm = a;\nexport const ug = a;\nexport const uk = {cardinal:[o,f,m,x],ordinal:[f,x]};\nexport const ur = a;\nexport const uz = a;\nexport const ve = a;\nexport const vi = {cardinal:[x],ordinal:[o,x]};\nexport const vo = a;\nexport const vun = a;\nexport const wa = a;\nexport const wae = a;\nexport const wo = b;\nexport const xh = a;\nexport const xog = a;\nexport const yi = a;\nexport const yo = b;\nexport const yue = b;\nexport const zh = b;\nexport const zu = a;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// does not check for duplicate subtags\nvar isStructurallyValidLanguageTag = function isStructurallyValidLanguageTag(locale) {\n  return locale.split('-').every(function (subtag) {\n    return /[a-z0-9]+/i.test(subtag);\n  });\n};\n\nvar canonicalizeLocaleList = function canonicalizeLocaleList(locales) {\n  if (!locales) return [];\n  if (!Array.isArray(locales)) locales = [locales];\n  var res = {};\n\n  for (var i = 0; i < locales.length; ++i) {\n    var tag = locales[i];\n    if (tag && _typeof(tag) === 'object') tag = String(tag);\n\n    if (typeof tag !== 'string') {\n      // Requiring tag to be a String or Object means that the Number value\n      // NaN will not be interpreted as the language tag \"nan\", which stands\n      // for Min Nan Chinese.\n      var msg = \"Locales should be strings, \".concat(JSON.stringify(tag), \" isn't.\");\n      throw new TypeError(msg);\n    }\n\n    if (tag[0] === '*') continue;\n\n    if (!isStructurallyValidLanguageTag(tag)) {\n      var strTag = JSON.stringify(tag);\n\n      var _msg = \"The locale \".concat(strTag, \" is not a structurally valid BCP 47 language tag.\");\n\n      throw new RangeError(_msg);\n    }\n\n    res[tag] = true;\n  }\n\n  return Object.keys(res);\n};\n\nvar defaultLocale = function defaultLocale() {\n  return typeof navigator !== 'undefined' && navigator && (navigator.userLanguage || navigator.language) || 'en-US';\n};\n\nvar getType = function getType(type) {\n  if (!type) return 'cardinal';\n  if (type === 'cardinal' || type === 'ordinal') return type;\n  throw new RangeError('Not a valid plural type: ' + JSON.stringify(type));\n};\n\nexport default function getPluralRules(NumberFormat, getSelector, getCategories) {\n  var findLocale = function findLocale(locale) {\n    do {\n      if (getSelector(locale)) return locale;\n      locale = locale.replace(/-?[^-]*$/, '');\n    } while (locale);\n\n    return null;\n  };\n\n  var resolveLocale = function resolveLocale(locales) {\n    var canonicalLocales = canonicalizeLocaleList(locales);\n\n    for (var i = 0; i < canonicalLocales.length; ++i) {\n      var lc = findLocale(canonicalLocales[i]);\n      if (lc) return lc;\n    }\n\n    return findLocale(defaultLocale());\n  };\n\n  var PluralRules =\n  /*#__PURE__*/\n  function () {\n    _createClass(PluralRules, null, [{\n      key: \"supportedLocalesOf\",\n      value: function supportedLocalesOf(locales) {\n        return canonicalizeLocaleList(locales).filter(findLocale);\n      }\n    }]);\n\n    function PluralRules(locales) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, PluralRules);\n\n      this._locale = resolveLocale(locales);\n      this._select = getSelector(this._locale);\n      this._type = getType(opt.type);\n      this._nf = new NumberFormat('en', opt); // make-plural expects latin digits with . decimal separator\n    }\n\n    _createClass(PluralRules, [{\n      key: \"resolvedOptions\",\n      value: function resolvedOptions() {\n        var _this$_nf$resolvedOpt = this._nf.resolvedOptions(),\n            minimumIntegerDigits = _this$_nf$resolvedOpt.minimumIntegerDigits,\n            minimumFractionDigits = _this$_nf$resolvedOpt.minimumFractionDigits,\n            maximumFractionDigits = _this$_nf$resolvedOpt.maximumFractionDigits,\n            minimumSignificantDigits = _this$_nf$resolvedOpt.minimumSignificantDigits,\n            maximumSignificantDigits = _this$_nf$resolvedOpt.maximumSignificantDigits;\n\n        var opt = {\n          locale: this._locale,\n          minimumIntegerDigits: minimumIntegerDigits,\n          minimumFractionDigits: minimumFractionDigits,\n          maximumFractionDigits: maximumFractionDigits,\n          pluralCategories: getCategories(this._locale, this._type === 'ordinal'),\n          type: this._type\n        };\n\n        if (typeof minimumSignificantDigits === 'number') {\n          opt.minimumSignificantDigits = minimumSignificantDigits;\n          opt.maximumSignificantDigits = maximumSignificantDigits;\n        }\n\n        return opt;\n      }\n    }, {\n      key: \"select\",\n      value: function select(number) {\n        if (!(this instanceof PluralRules)) throw new TypeError(\"select() called on incompatible \".concat(this));\n        if (typeof number !== 'number') number = Number(number);\n        if (!isFinite(number)) return 'other';\n\n        var fmt = this._nf.format(Math.abs(number));\n\n        return this._select(fmt, this._type === 'ordinal');\n      }\n    }]);\n\n    return PluralRules;\n  }();\n\n  Object.defineProperty(PluralRules, 'prototype', {\n    writable: false\n  });\n  return PluralRules;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PseudoNumberFormat =\n/*#__PURE__*/\nfunction () {\n  function PseudoNumberFormat(lc, // locale is ignored; always use 'en'\n  _ref) {\n    var minID = _ref.minimumIntegerDigits,\n        minFD = _ref.minimumFractionDigits,\n        maxFD = _ref.maximumFractionDigits,\n        minSD = _ref.minimumSignificantDigits,\n        maxSD = _ref.maximumSignificantDigits;\n\n    _classCallCheck(this, PseudoNumberFormat);\n\n    this._minID = typeof minID === 'number' ? minID : 1;\n    this._minFD = typeof minFD === 'number' ? minFD : 0;\n    this._maxFD = typeof maxFD === 'number' ? maxFD : Math.max(this._minFD, 3);\n\n    if (typeof minSD === 'number' || typeof maxSD === 'number') {\n      this._minSD = typeof minSD === 'number' ? minSD : 1;\n      this._maxSD = typeof maxSD === 'number' ? maxSD : 21;\n    }\n  }\n\n  _createClass(PseudoNumberFormat, [{\n    key: \"resolvedOptions\",\n    value: function resolvedOptions() {\n      var opt = {\n        minimumIntegerDigits: this._minID,\n        minimumFractionDigits: this._minFD,\n        maximumFractionDigits: this._maxFD\n      };\n\n      if (typeof this._minSD === 'number') {\n        opt.minimumSignificantDigits = this._minSD;\n        opt.maximumSignificantDigits = this._maxSD;\n      }\n\n      return opt;\n    }\n  }, {\n    key: \"format\",\n    value: function format(n) {\n      if (this._minSD) {\n        var raw = String(n);\n        var prec = 0;\n\n        for (var i = 0; i < raw.length; ++i) {\n          var c = raw[i];\n          if (c >= '0' && c <= '9') ++prec;\n        }\n\n        if (prec < this._minSD) return n.toPrecision(this._minSD);\n        if (prec > this._maxSD) return n.toPrecision(this._maxSD);\n        return raw;\n      }\n\n      if (this._minFD > 0) return n.toFixed(this._minFD);\n      if (this._maxFD === 0) return n.toFixed(0);\n      return String(n);\n    }\n  }]);\n\n  return PseudoNumberFormat;\n}();\n\nexport { PseudoNumberFormat as default };","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport * as Plurals from 'make-plural/plurals';\nimport * as Categories from 'make-plural/pluralCategories';\nimport getPluralRules from './factory';\nimport PseudoNumberFormat from './pseudo-number-format';\nvar NumberFormat = (typeof Intl === \"undefined\" ? \"undefined\" : _typeof(Intl)) === 'object' && Intl.NumberFormat || PseudoNumberFormat; // make-plural exports are cast with safe-identifier to be valid JS identifiers\n\nvar id = function id(lc) {\n  return lc === 'in' ? '_in' : lc === 'pt-PT' ? 'pt_PT' : lc;\n};\n\nvar getSelector = function getSelector(lc) {\n  return Plurals[id(lc)];\n};\n\nvar getCategories = function getCategories(lc, ord) {\n  return Categories[id(lc)][ord ? 'ordinal' : 'cardinal'];\n};\n\nvar PluralRules = getPluralRules(NumberFormat, getSelector, getCategories);\nexport default PluralRules;","import PluralRules from './plural-rules';\n\nif (typeof Intl === 'undefined') {\n  if (typeof global !== 'undefined') {\n    global.Intl = {\n      PluralRules: PluralRules\n    };\n  } else if (typeof window !== 'undefined') {\n    window.Intl = {\n      PluralRules: PluralRules\n    };\n  } else {\n    this.Intl = {\n      PluralRules: PluralRules\n    };\n  }\n} else if (!Intl.PluralRules) {\n  Intl.PluralRules = PluralRules;\n} else {\n  var test = ['en', 'es', 'ru', 'zh'];\n  var supported = Intl.PluralRules.supportedLocalesOf(test);\n  if (supported.length < test.length) Intl.PluralRules = PluralRules;\n}","const html = require('choo/html');\nconst { list } = require('../../app/utils');\nconst archiveTile = require('../../app/ui/archiveTile');\nconst modal = require('../../app/ui/modal');\nconst intro = require('../../app/ui/intro');\nconst assets = require('../../common/assets');\n\nmodule.exports = function(state, emit) {\n  function onchange(event) {\n    event.preventDefault();\n    const newFiles = Array.from(event.target.files);\n\n    emit('addFiles', { files: newFiles });\n  }\n\n  function onclick() {\n    document.getElementById('file-upload').click();\n  }\n\n  const archives = state.storage.files\n    .filter(archive => !archive.expired)\n    .map(archive => archiveTile(state, emit, archive))\n    .reverse();\n\n  let content = '';\n  let button = html`\n    <div\n      class=\"bg-blue-50 rounded-full m-4 flex items-center justify-center shadow-lg\"\n      style=\"width: 56px; height: 56px\"\n      onclick=\"${onclick}\"\n    >\n      <img src=\"${assets.get('add.svg')}\" />\n    </div>\n  `;\n  if (state.uploading) {\n    content = archiveTile.uploading(state, emit);\n    button = '';\n  } else if (state.archive.numFiles > 0) {\n    content = archiveTile.wip(state, emit);\n    button = '';\n  } else {\n    content =\n      archives.length < 1\n        ? intro(state)\n        : list(archives, 'h-full overflow-y-auto w-full', 'mb-3 w-full');\n  }\n\n  return html`\n    <main class=\"main\">\n      ${state.modal && modal(state, emit)}\n      <section\n        class=\"h-full w-full p-6 z-10 overflow-hidden md:flex md:flex-row md:rounded-lg md:shadow-big\"\n      >\n        ${content}\n      </section>\n      <div class=\"fixed right-0 bottom-0 z-20\">\n        ${button}\n        <input\n          id=\"file-upload\"\n          class=\"hidden\"\n          type=\"file\"\n          multiple\n          onchange=\"${onchange}\"\n          onclick=\"${e => e.stopPropagation()}\"\n        />\n      </div>\n    </main>\n  `;\n};\n","/* global Android */\nimport User from '../app/user';\nimport { deriveFileListKey } from '../app/fxa';\n\nexport default class AndroidUser extends User {\n  constructor(storage, limits) {\n    super(storage, limits);\n  }\n\n  async login() {\n    Android.beginOAuthFlow();\n  }\n\n  startAuthFlow() {\n    return Promise.resolve();\n  }\n\n  async finishLogin(accountInfo) {\n    const jwks = JSON.parse(accountInfo.keys);\n    const ikm = jwks['https://identity.mozilla.com/apps/send'].k;\n    const profile = {\n      displayName: accountInfo.displayName,\n      email: accountInfo.email,\n      avatar: accountInfo.avatar,\n      access_token: accountInfo.accessToken\n    };\n    profile.fileListKey = await deriveFileListKey(ikm);\n    this.info = profile;\n  }\n}\n","const html = require('choo/html');\n\nexport default function progressBar(state, emit) {\n  let percent = 0;\n  if (state.transfer && state.transfer.progress) {\n    percent = Math.floor(state.transfer.progressRatio * 100);\n  }\n  function onclick(e) {\n    e.preventDefault();\n    if (state.uploading) {\n      emit('cancel');\n    }\n    emit('pushState', '/');\n  }\n  return html`\n    <body>\n      <div id=\"white\">\n        <div class=\"card\">\n          <div>${percent}%</div>\n          <span class=\"progress\" style=\"width: ${percent}%\">.</span>\n          <div class=\"cancel\" onclick=\"${onclick}\">CANCEL</div>\n        </div>\n      </div>\n    </body>\n  `;\n}\n","const html = require('choo/html');\n\nexport default function uploadComplete(state, emit) {\n  const file = state.storage.files[state.storage.files.length - 1];\n  function onclick(e) {\n    e.preventDefault();\n    input.select();\n    document.execCommand('copy');\n    input.selectionEnd = input.selectionStart;\n    copyText.textContent = 'Copied!';\n    setTimeout(function() {\n      copyText.textContent = 'Copy link';\n    }, 2000);\n  }\n\n  function uploadFile(event) {\n    event.preventDefault();\n    const target = event.target;\n    const file = target.files[0];\n    if (file.size === 0) {\n      return;\n    }\n\n    emit('pushState', '/upload');\n    emit('addFiles', { files: [file] });\n    emit('upload', {});\n  }\n\n  const input = html`\n    <input id=\"url\" value=\"${file.url}\" readonly=\"true\" />\n  `;\n  const copyText = html`\n    <span>Copy link</span>\n  `;\n  return html`<body>\n  <div id=\"white\">\n    <div class=\"card\">\n      <div>The card contents will be here.</div>\n      <div>Expires after: <span class=\"expires-after\">exp</span></div>\n      ${input}\n      <div id=\"copy-link\" onclick=${onclick}>\n        <img id=\"copy-image\" src=${state.getAsset('copy-link.png')} />\n        ${copyText}\n      </div>\n      <label id=\"label\" for=\"input\">\n        <img src=${state.getAsset('cloud-upload.png')} />\n      </label>\n      <input id=\"input\" name=\"input\" type=\"file\" onchange=${uploadFile} />\n  </div>\n</body>`;\n}\n","const html = require('choo/html');\n\nimport { setFileProtocolWssUrl, getFileProtocolWssUrl } from '../../app/api';\n\nexport default function preferences(state, emit) {\n  const wssURL = getFileProtocolWssUrl();\n\n  function updateWssUrl(event) {\n    state.wssURL = event.target.value;\n    setFileProtocolWssUrl(state.wssURL);\n    emit('render');\n  }\n\n  function clickDone(event) {\n    event.preventDefault();\n    emit('pushState', '/');\n  }\n\n  return html`\n    <body>\n      <div id=\"white\">\n        <div id=\"preferences\">\n          <a onclick=\"${clickDone}\" href=\"#\"> done </a>\n          <dl>\n            <dt>wss url:</dt>\n            <dd>\n              <input type=\"text\" onchange=\"${updateWssUrl}\" value=\"${wssURL}\" />\n            </dd>\n          </dl>\n        </div>\n      </div>\n    </body>\n  `;\n}\n","const html = require('choo/html');\n\nexport default function error(_state, _emit) {\n  return html`\n    <body>\n      <div id=\"white\">\n        <h1>Error</h1>\n        <p>Sorry, an error occurred.</p>\n      </div>\n    </body>\n  `;\n}\n","import 'intl-pluralrules';\nimport choo from 'choo';\nimport html from 'choo/html';\nimport * as Sentry from '@sentry/browser';\n\nimport { setApiUrlPrefix, getConstants } from '../app/api';\nimport metrics from '../app/metrics';\n//import assets from '../common/assets';\nimport Archive from '../app/archive';\nimport Header from '../app/ui/header';\nimport storage from '../app/storage';\nimport controller from '../app/controller';\nimport User from './user';\nimport intents from './stores/intents';\nimport home from './pages/home';\nimport upload from './pages/upload';\nimport share from './pages/share';\nimport preferences from './pages/preferences';\nimport error from './pages/error';\nimport { getTranslator } from '../app/locale';\nimport { setTranslate } from '../app/utils';\n\nimport { delay } from '../app/utils';\n\nif (navigator.userAgent === 'Send Android') {\n  setApiUrlPrefix('https://send.firefox.com');\n}\n\nconst app = choo();\n//app.use(state);\napp.use(controller);\napp.use(intents);\n\nwindow.finishLogin = async function(accountInfo) {\n  while (!(app.state && app.state.user)) {\n    await delay();\n  }\n  await app.state.user.finishLogin(accountInfo);\n  await app.state.user.syncFileList();\n  app.emitter.emit('replaceState', '/');\n};\n\nfunction body(main) {\n  return function(state, emit) {\n    /*\n      Disable the preferences menu for now since it is ugly and isn't\n      relevant to the beta\n    function clickPreferences(event) {\n      event.preventDefault();\n      emit('pushState', '/preferences');\n    }\n\n    const menu = html`<a\n        id=\"hamburger\"\n        class=\"absolute top-0 right-0 z-50\"\n        href=\"#\"\n        onclick=\"${clickPreferences}\"\n      >\n        <img src=\"${assets.get('preferences.png')}\" />\n      </a>`;\n    */\n    return html`\n      <body class=\"flex flex-col items-center font-sans bg-grey-10 h-screen\">\n        ${state.cache(Header, 'header').render()} ${main(state, emit)}\n      </body>\n    `;\n  };\n}\n(async function start() {\n  const translate = await getTranslator('en-US');\n  setTranslate(translate);\n  const { LIMITS, DEFAULTS } = await getConstants();\n  app.use(state => {\n    state.LIMITS = LIMITS;\n    state.DEFAULTS = DEFAULTS;\n    state.translate = translate;\n    state.capabilities = {\n      account: true\n    }; //TODO\n    state.archive = new Archive([], DEFAULTS.EXPIRE_SECONDS);\n    state.storage = storage;\n    state.user = new User(storage, LIMITS);\n    state.sentry = Sentry;\n  });\n  app.use(metrics);\n  app.route('/', body(home));\n  app.route('/upload', upload);\n  app.route('/share/:id', share);\n  app.route('/preferences', preferences);\n  app.route('/error', error);\n  //app.route('/debugging', require('./pages/debugging').default);\n  // add /api/filelist\n  app.mount('body');\n})();\n\nwindow.app = app;\n","/* eslint-disable no-console */\n\nexport default function intentHandler(state, emitter) {\n  window.addEventListener(\n    'message',\n    event => {\n      if (typeof event.data !== 'string' || !event.data.startsWith('data:')) {\n        return;\n      }\n      fetch(event.data)\n        .then(res => res.blob())\n        .then(blob => {\n          emitter.emit('addFiles', { files: [blob] });\n          emitter.emit('upload', {});\n        })\n        .catch(e => console.error('ERROR ' + e + ' ' + e.stack));\n    },\n    false\n  );\n}\n"],"sourceRoot":""}